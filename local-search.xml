<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>TypeScriptå­¦ä¹ ç¬”è®°</title>
    <link href="/2025/08/02/TypeScript%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <url>/2025/08/02/TypeScript%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Nestjså­¦ä¹ ç¬”è®°</title>
    <link href="/2025/07/27/Nestjs%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <url>/2025/07/27/Nestjs%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="Nest-jså­¦ä¹ ç¬”è®°"><a href="#Nest-jså­¦ä¹ ç¬”è®°" class="headerlink" title="Nest.jså­¦ä¹ ç¬”è®°"></a>Nest.jså­¦ä¹ ç¬”è®°</h1><hr><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>Nestï¼ˆNestJSï¼‰æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºé«˜æ•ˆã€å¯æ‰©å±•çš„Â <a href="https://nodejs.org/">Node.js</a>Â æœåŠ¡ç«¯åº”ç”¨çš„æ¡†æ¶ã€‚å®ƒé‡‡ç”¨æ¸è¿›å¼ JavaScriptï¼Œä½¿ç”¨Â <a href="http://www.typescriptlang.org/">TypeScript</a>Â æ„å»ºå¹¶å…¨é¢æ”¯æŒ TypeScriptï¼ˆåŒæ—¶ä»å…è®¸å¼€å‘è€…ä½¿ç”¨çº¯ JavaScript ç¼–ç ï¼‰ï¼Œèåˆäº† OOPï¼ˆé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼‰ã€FPï¼ˆå‡½æ•°å¼ç¼–ç¨‹ï¼‰å’Œ FRPï¼ˆå‡½æ•°å“åº”å¼ç¼–ç¨‹ï¼‰çš„å…ƒç´ ã€‚</p><p>åœ¨åº•å±‚ï¼ŒNest ä½¿ç”¨äº†å¼ºå¤§çš„ HTTP æœåŠ¡å™¨æ¡†æ¶å¦‚Â <a href="https://expressjs.com/">Express</a>ï¼ˆé»˜è®¤ï¼‰ï¼Œä¹Ÿå¯ä»¥é…ç½®ä½¿ç”¨Â <a href="https://github.com/fastify/fastify">Fastify</a>ï¼</p><p>Nest åœ¨è¿™äº›å¸¸è§çš„ Node.js æ¡†æ¶ï¼ˆExpress&#x2F;Fastifyï¼‰ä¹‹ä¸Šæä¾›äº†ä¸€å±‚æŠ½è±¡ï¼ŒåŒæ—¶ä¹Ÿå°†å…¶ API ç›´æ¥æš´éœ²ç»™å¼€å‘è€…ã€‚è¿™ä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿè‡ªç”±ä½¿ç”¨åº•å±‚å¹³å°æä¾›çš„ä¼—å¤šç¬¬ä¸‰æ–¹æ¨¡å—ã€‚</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><h3 id="å¿«é€Ÿå®‰è£…"><a href="#å¿«é€Ÿå®‰è£…" class="headerlink" title="å¿«é€Ÿå®‰è£…"></a>å¿«é€Ÿå®‰è£…</h3><p>é»˜è®¤ä½¿ç”¨Nestjsè„šæ‰‹æ¶å®‰è£…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">pnpm i @nestjs/cli<br>nest new project-name<br></code></pre></td></tr></table></figure><h3 id="å¯åŠ¨é¡¹ç›®"><a href="#å¯åŠ¨é¡¹ç›®" class="headerlink" title="å¯åŠ¨é¡¹ç›®"></a>å¯åŠ¨é¡¹ç›®</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd ./project-name<br>pnpm run start<br></code></pre></td></tr></table></figure><h3 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" class="headerlink" title="é¡¹ç›®ç»“æ„"></a>é¡¹ç›®ç»“æ„</h3><h4 id="NestFactory"><a href="#NestFactory" class="headerlink" title="NestFactory"></a>NestFactory</h4><p><code>NestFactory</code>Â æš´éœ²äº†å‡ ä¸ªé™æ€æ–¹æ³•ï¼Œå…è®¸åˆ›å»ºåº”ç”¨ç¨‹åºå®ä¾‹ã€‚<code>create()</code>Â æ–¹æ³•è¿”å›ä¸€ä¸ªåº”ç”¨ç¨‹åºå¯¹è±¡<code>NestApplication</code> ï¼Œè¯¥å¯¹è±¡å®ç°äº†Â <code>INestApplication</code>Â æ¥å£ã€‚è¯¥å¯¹è±¡æä¾›äº†ä¸€ç»„æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•å°†åœ¨åç»­ç« èŠ‚ä¸­æè¿°ã€‚æˆ‘ä»¬å¯åŠ¨äº† HTTP ç›‘å¬å™¨ï¼Œè¿™è®©åº”ç”¨ç¨‹åºå¯ä»¥ç­‰å¾…å…¥ç«™çš„ HTTP è¯·æ±‚ã€‚</p><h4 id="Platform-express-Platform-fastify"><a href="#Platform-express-Platform-fastify" class="headerlink" title="Platform-express&#x2F;Platform-fastify"></a>Platform-express&#x2F;Platform-fastify</h4><p>Nest æ—¨åœ¨æˆä¸ºä¸€ä¸ªå¹³å°æ— å…³çš„æ¡†æ¶ã€‚å¹³å°ç‹¬ç«‹æ€§ä½¿å¾—åˆ›å»ºå¯é‡ç”¨çš„é€»è¾‘éƒ¨åˆ†æˆä¸ºå¯èƒ½ï¼Œå¼€å‘è€…å¯ä»¥åœ¨å‡ ç§ä¸åŒç±»å‹çš„åº”ç”¨ç¨‹åºä¸­åˆ©ç”¨è¿™äº›éƒ¨åˆ†ã€‚ä»æŠ€æœ¯ä¸Šè®²ï¼Œä¸€æ—¦åˆ›å»ºäº†é€‚é…å™¨ï¼ŒNest å°±èƒ½å¤Ÿä¸ä»»ä½• Node HTTP æ¡†æ¶ä¸€èµ·å·¥ä½œ(<code>AbstractHttpAdapter</code>)ã€‚å¼€ç®±å³ç”¨æ”¯æŒä¸¤ä¸ª HTTP å¹³å°ï¼š<a href="https://expressjs.com/">express</a>Â å’ŒÂ <a href="https://www.fastify.io/">fastify</a>ã€‚ä½ å¯ä»¥é€‰æ‹©æœ€é€‚åˆä½ éœ€æ±‚çš„å¹³å°ã€‚</p><h2 id="Nest-CLI"><a href="#Nest-CLI" class="headerlink" title="Nest CLI"></a>Nest CLI</h2><p><a href="https://github.com/nestjs/nest-cli">Nest CLI</a>Â æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œç•Œé¢å·¥å…·ï¼Œå¯å¸®åŠ©æ‚¨åˆå§‹åŒ–ã€å¼€å‘å’Œç»´æŠ¤ Nest åº”ç”¨ç¨‹åºã€‚å®ƒä»¥å¤šç§æ–¹å¼æä¾›æ”¯æŒï¼ŒåŒ…æ‹¬é¡¹ç›®è„šæ‰‹æ¶æ­å»ºã€å¼€å‘æ¨¡å¼ä¸‹çš„æœåŠ¡è¿è¡Œï¼Œä»¥åŠä¸ºç”Ÿäº§ç¯å¢ƒæ„å»ºå’Œæ‰“åŒ…åº”ç”¨ç¨‹åºã€‚è¯¥å·¥å…·ä½“ç°äº†æœ€ä½³å®è·µçš„æ¶æ„æ¨¡å¼ï¼Œä»¥é¼“åŠ±æ„å»ºç»“æ„è‰¯å¥½çš„åº”ç”¨ã€‚</p><h3 id="å‘½ä»¤"><a href="#å‘½ä»¤" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h3><ol><li><p><code>new</code>:æ­å»ºä¸€ä¸ªåŒ…å«æ‰€æœ‰è¿è¡Œæ‰€éœ€æ ·æ¿æ–‡ä»¶çš„æ ‡å‡†æ¨¡å¼åº”ç”¨ç¨‹åº</p></li><li><p><code>generate</code>:æ ¹æ®åŸç†å›¾ç”Ÿæˆå’Œ&#x2F;æˆ–ä¿®æ”¹æ–‡ä»¶</p></li><li><p><code>build</code>:å°†åº”ç”¨ç¨‹åºæˆ–å·¥ä½œåŒºç¼–è¯‘åˆ°è¾“å‡ºæ–‡ä»¶å¤¹ä¸­</p></li><li><p><code>start</code>:ç¼–è¯‘å¹¶è¿è¡Œåº”ç”¨ç¨‹åºï¼ˆæˆ–å·¥ä½œåŒºä¸­çš„é»˜è®¤é¡¹ç›®ï¼‰</p></li><li><p><code>info</code>:æ˜¾ç¤ºå·²å®‰è£…çš„ Nest åŒ…ä¿¡æ¯åŠå…¶ä»–æœ‰ç”¨çš„ç³»ç»Ÿä¿¡æ¯ã€‚</p></li></ol><h3 id="å·¥ä½œåŒº"><a href="#å·¥ä½œåŒº" class="headerlink" title="å·¥ä½œåŒº"></a>å·¥ä½œåŒº</h3><p>Nest æœ‰ä¸¤ç§ä»£ç ç»„ç»‡æ¨¡å¼ï¼š</p><ul><li><strong>æ ‡å‡†æ¨¡å¼</strong>Â ï¼šé€‚ç”¨äºæ„å»ºä¸“æ³¨äºå•ä¸ªé¡¹ç›®çš„åº”ç”¨ç¨‹åºï¼Œè¿™äº›åº”ç”¨ç¨‹åºæ‹¥æœ‰è‡ªå·±çš„ä¾èµ–é¡¹å’Œè®¾ç½®ï¼Œä¸éœ€è¦ä¼˜åŒ–æ¨¡å—å…±äº«æˆ–å¤æ‚æ„å»ºã€‚è¿™æ˜¯é»˜è®¤æ¨¡å¼ã€‚</li><li><strong>monorepo æ¨¡å¼</strong>Â ï¼šè¯¥æ¨¡å¼å°†ä»£ç äº§ç‰©è§†ä¸ºè½»é‡çº§Â <strong>monorepo</strong>Â çš„ä¸€éƒ¨åˆ†ï¼Œå¯èƒ½æ›´é€‚åˆå¼€å‘å›¢é˜Ÿå’Œ&#x2F;æˆ–å¤šé¡¹ç›®ç¯å¢ƒã€‚å®ƒè‡ªåŠ¨åŒ–äº†éƒ¨åˆ†æ„å»ºè¿‡ç¨‹ï¼Œä¾¿äºåˆ›å»ºå’Œç»„åˆæ¨¡å—åŒ–ç»„ä»¶ï¼Œä¿ƒè¿›ä»£ç é‡ç”¨ï¼Œç®€åŒ–é›†æˆæµ‹è¯•ï¼Œä¾¿äºå…±äº«é¡¹ç›®èŒƒå›´å†…çš„äº§ç‰©ï¼ˆå¦‚Â <code>eslint</code>Â è§„åˆ™å’Œå…¶ä»–é…ç½®ç­–ç•¥ï¼‰ï¼Œä¸”æ¯” Git å­æ¨¡å—ç­‰æ›¿ä»£æ–¹æ¡ˆæ›´æ˜“ä½¿ç”¨ã€‚Monorepo æ¨¡å¼é‡‡ç”¨<strong>å·¥ä½œåŒº</strong>çš„æ¦‚å¿µï¼ˆåœ¨Â <code>nest-cli.json</code>Â æ–‡ä»¶ä¸­è¡¨ç¤ºï¼‰æ¥åè°ƒ monorepo å„ç»„ä»¶é—´çš„å…³ç³»ã€‚</li></ul><h3 id="åº“"><a href="#åº“" class="headerlink" title="åº“"></a>åº“</h3><h4 id="NestJS-ä¸­çš„åº“ï¼ˆLibraryï¼‰ä¸-Monorepo-ç»“æ„"><a href="#NestJS-ä¸­çš„åº“ï¼ˆLibraryï¼‰ä¸-Monorepo-ç»“æ„" class="headerlink" title="NestJS ä¸­çš„åº“ï¼ˆLibraryï¼‰ä¸ Monorepo ç»“æ„"></a>NestJS ä¸­çš„åº“ï¼ˆLibraryï¼‰ä¸ Monorepo ç»“æ„</h4><p>NestJS æä¾›äº†å¤šç§æ–¹å¼å®ç°æ¨¡å—åŒ–å¤ç”¨ï¼Œå…¶ä¸­ä¹‹ä¸€å°±æ˜¯<strong>åº“ï¼ˆLibraryï¼‰</strong>ã€‚å®ƒé€‚åˆå°†é€šç”¨åŠŸèƒ½æŠ½ç¦»æˆå¯å¤ç”¨æ¨¡å—ï¼Œå°¤å…¶åœ¨ <strong>monorepo</strong> é¡¹ç›®ç»“æ„ä¸­è¡¨ç°æ›´ä½³ã€‚</p><h4 id="åº“çš„ç”¨é€”"><a href="#åº“çš„ç”¨é€”" class="headerlink" title="åº“çš„ç”¨é€”"></a>åº“çš„ç”¨é€”</h4><ul><li><p>ç”¨äºç»„ç»‡å†…å…±äº«æ¨¡å—ï¼ˆå¦‚è®¤è¯ã€æ—¥å¿—ç­‰é€šç”¨é€»è¾‘ï¼‰</p></li><li><p>æé«˜å¤ç”¨æ€§ï¼Œç®€åŒ–åº”ç”¨ç»„è£…ä¸ç»´æŠ¤</p></li><li><p>é…åˆ monorepoï¼Œå¯ç›´æ¥å¼•ç”¨æœ€æ–°ä»£ç ï¼Œæ–¹ä¾¿åä½œå¼€å‘ä¸æµ‹è¯•</p></li></ul><h4 id="åº“-vs-åº”ç”¨"><a href="#åº“-vs-åº”ç”¨" class="headerlink" title="åº“ vs åº”ç”¨"></a>åº“ vs åº”ç”¨</h4><ul><li><p><strong>åº“ä¸æ˜¯ç‹¬ç«‹è¿è¡Œçš„é¡¹ç›®</strong>ï¼Œå¿…é¡»å¯¼å…¥åˆ°æŸä¸ªåº”ç”¨ä¸­ä½¿ç”¨</p></li><li><p>Nest ä½¿ç”¨ä¸åŒçš„æ„å»ºé…ç½®ç®¡ç†åº“ï¼Œå¦‚ <code>entryFile: index</code> è€Œä¸æ˜¯ <code>main</code></p></li><li><p>æ¯ä¸ªåº“åœ¨ <code>libs/</code> ç›®å½•ä¸‹ç»´æŠ¤ï¼Œé…ç½®å†™å…¥ <code>nest-cli.json</code> å’Œ <code>tsconfig.json</code></p></li></ul><h4 id="åˆ›å»ºåº“"><a href="#åˆ›å»ºåº“" class="headerlink" title="åˆ›å»ºåº“"></a>åˆ›å»ºåº“</h4><p>ä½¿ç”¨ CLI å‘½ä»¤åˆ›å»ºåº“ï¼š</p><p><code>nest g library my-library</code></p><ul><li><p>ç³»ç»Ÿä¼šè¦æ±‚è¾“å…¥å‰ç¼€ï¼ˆé»˜è®¤ <code>@app</code>ï¼‰ï¼Œç”¨äº import è·¯å¾„åˆ«å</p></li><li><p>ä¼šåœ¨ <code>libs/</code> ä¸‹ç”Ÿæˆå¯¹åº”ç›®å½•å’Œé…ç½®</p></li></ul><h4 id="æ„å»ºåº“"><a href="#æ„å»ºåº“" class="headerlink" title="æ„å»ºåº“"></a>æ„å»ºåº“</h4><p><code>nest build my-library</code></p><h4 id="åœ¨åº”ç”¨ä¸­ä½¿ç”¨åº“"><a href="#åœ¨åº”ç”¨ä¸­ä½¿ç”¨åº“" class="headerlink" title="åœ¨åº”ç”¨ä¸­ä½¿ç”¨åº“"></a>åœ¨åº”ç”¨ä¸­ä½¿ç”¨åº“</h4><p>åœ¨åº”ç”¨æ¨¡å—ä¸­å¼•å…¥åº“æ¨¡å—ï¼š</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">MyLibraryModule</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@app/my-library&#x27;</span>; <br><span class="hljs-meta">@Module</span>(&#123;  <span class="hljs-attr">imports</span>: [<span class="hljs-title class_">MyLibraryModule</span>],&#125;) <span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppModule</span> &#123;&#125;<br><br></code></pre></td></tr></table></figure><p>æ­¤å¤„çš„ <code>@app/my-library</code> æ˜¯é€šè¿‡ tsconfig çš„è·¯å¾„æ˜ å°„å®ç°çš„ï¼ŒNest åœ¨æ·»åŠ åº“æ—¶è‡ªåŠ¨é…ç½®ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;paths&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> <br>Â Â Â Â <span class="hljs-attr">&quot;@app/my-library&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;libs/my-library/src&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>Â Â Â Â <span class="hljs-attr">&quot;@app/my-library/*&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;libs/my-library/src/*&quot;</span><span class="hljs-punctuation">]</span><br> <span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h3 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h3><p><a href="https://docs.nestjs.cn/cli/usages.html" target="_blank">NestCLIç”¨æ³•</a></p><h4 id="nest-generate"><a href="#nest-generate" class="headerlink" title="nest generate"></a>nest generate</h4><p>æ ¹æ®åŸç†å›¾ç”Ÿæˆå’Œ&#x2F;æˆ–ä¿®æ”¹æ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">nest generate &lt;schematic&gt; &lt;name&gt; [options]<br>nest g &lt;schematic&gt; &lt;name&gt; [options]<br></code></pre></td></tr></table></figure><h5 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h5><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>&lt;schematic&gt;</code></td><td>è¦ç”Ÿæˆçš„ schematic æˆ– collection:schematicã€‚å¯ç”¨çš„ schematic è¯·å‚é˜…ä¸‹è¡¨ã€‚</td></tr><tr><td><code>&lt;name&gt;</code></td><td>æ‰€ç”Ÿæˆç»„ä»¶çš„åç§°ã€‚</td></tr></tbody></table><h5 id="åŸç†å›¾"><a href="#åŸç†å›¾" class="headerlink" title="åŸç†å›¾"></a>åŸç†å›¾</h5><table><thead><tr><th>åç§°</th><th>åˆ«å</th><th>æè¿°</th></tr></thead><tbody><tr><td>app</td><td></td><td>åœ¨ monorepo ä¸­ç”Ÿæˆä¸€ä¸ªæ–°åº”ç”¨ï¼ˆå¦‚æœæ˜¯æ ‡å‡†ç»“æ„åˆ™è½¬æ¢ä¸º monorepoï¼‰ã€‚</td></tr><tr><td>library</td><td>lib</td><td>åœ¨ monorepo ä¸­ç”Ÿæˆä¸€ä¸ªæ–°åº“ï¼ˆå¦‚æœæ˜¯æ ‡å‡†ç»“æ„åˆ™è½¬æ¢ä¸º monorepoï¼‰ã€‚</td></tr><tr><td>class</td><td>cl</td><td>ç”Ÿæˆä¸€ä¸ªæ–°ç±»ã€‚</td></tr><tr><td>controller</td><td>co</td><td>ç”Ÿæˆæ§åˆ¶å™¨å£°æ˜ã€‚</td></tr><tr><td>decorator</td><td>d</td><td>ç”Ÿæˆè‡ªå®šä¹‰è£…é¥°å™¨ã€‚</td></tr><tr><td>filter</td><td>f</td><td>ç”Ÿæˆè¿‡æ»¤å™¨å£°æ˜ã€‚</td></tr><tr><td>gateway</td><td>ga</td><td>ç”Ÿæˆç½‘å…³å£°æ˜ã€‚</td></tr><tr><td>guard</td><td>gu</td><td>ç”Ÿæˆå®ˆå«å£°æ˜ã€‚</td></tr><tr><td>interface</td><td>itf</td><td>ç”Ÿæˆä¸€ä¸ªæ¥å£ã€‚</td></tr><tr><td>interceptor</td><td>itc</td><td>ç”Ÿæˆä¸€ä¸ªæ‹¦æˆªå™¨å£°æ˜ã€‚</td></tr><tr><td>middleware</td><td>mi</td><td>ç”Ÿæˆä¸€ä¸ªä¸­é—´ä»¶å£°æ˜ã€‚</td></tr><tr><td>module</td><td>mo</td><td>ç”Ÿæˆä¸€ä¸ªæ¨¡å—å£°æ˜ã€‚</td></tr><tr><td>pipe</td><td>pi</td><td>ç”Ÿæˆç®¡é“å£°æ˜ã€‚</td></tr><tr><td>provider</td><td>pr</td><td>ç”Ÿæˆæä¾›è€…å£°æ˜ã€‚</td></tr><tr><td>resolver</td><td>r</td><td>ç”Ÿæˆè§£æå™¨å£°æ˜ã€‚</td></tr><tr><td>resource</td><td>res</td><td>ç”Ÿæˆæ–°çš„ CRUD èµ„æºã€‚è¯¦æƒ…è¯·å‚é˜… CRUDï¼ˆèµ„æºï¼‰ç”Ÿæˆå™¨ ã€‚ï¼ˆä»…é™ TSï¼‰</td></tr><tr><td>service</td><td>s</td><td>ç”ŸæˆæœåŠ¡å£°æ˜</td></tr></tbody></table><h2 id="Nestæ§åˆ¶å™¨ä¸è·¯ç”±"><a href="#Nestæ§åˆ¶å™¨ä¸è·¯ç”±" class="headerlink" title="Nestæ§åˆ¶å™¨ä¸è·¯ç”±"></a>Nestæ§åˆ¶å™¨ä¸è·¯ç”±</h2><p>æ§åˆ¶å™¨è´Ÿè´£å¤„ç†ä¼ å…¥çš„<strong>è¯·æ±‚</strong>å¹¶å‘å®¢æˆ·ç«¯è¿”å›<strong>å“åº”</strong>ã€‚</p><p>æ§åˆ¶å™¨çš„ç›®çš„æ˜¯å¤„ç†åº”ç”¨ç¨‹åºçš„ç‰¹å®šè¯·æ±‚ã€‚<strong>è·¯ç”±</strong>æœºåˆ¶å†³å®šäº†å“ªä¸ªæ§åˆ¶å™¨å°†å¤„ç†æ¯ä¸ªè¯·æ±‚ã€‚é€šå¸¸ï¼Œä¸€ä¸ªæ§åˆ¶å™¨å…·æœ‰å¤šä¸ªè·¯ç”±ï¼Œæ¯ä¸ªè·¯ç”±å¯ä»¥æ‰§è¡Œä¸åŒçš„æ“ä½œã€‚</p><p>è¦åˆ›å»ºåŸºæœ¬æ§åˆ¶å™¨ï¼Œæˆ‘ä»¬ä½¿ç”¨ç±»å’Œ<strong>è£…é¥°å™¨</strong>ã€‚è£…é¥°å™¨å°†ç±»ä¸å¿…è¦çš„å…ƒæ•°æ®å…³è”èµ·æ¥ï¼Œä½¿ Nest èƒ½å¤Ÿåˆ›å»ºå°†è¯·æ±‚è¿æ¥åˆ°ç›¸åº”æ§åˆ¶å™¨çš„è·¯ç”±æ˜ å°„ã€‚</p><h3 id="æ§åˆ¶å™¨-Controller"><a href="#æ§åˆ¶å™¨-Controller" class="headerlink" title="æ§åˆ¶å™¨(Controller)"></a>æ§åˆ¶å™¨(Controller)</h3><p>æ§åˆ¶å™¨è´Ÿè´£å¤„ç†ä¼ å…¥çš„<strong>è¯·æ±‚</strong>å¹¶å‘å®¢æˆ·ç«¯è¿”å›<strong>å“åº”</strong>ã€‚</p><p>æ§åˆ¶å™¨çš„ç›®çš„æ˜¯å¤„ç†åº”ç”¨ç¨‹åºçš„ç‰¹å®šè¯·æ±‚ã€‚<strong>è·¯ç”±</strong>æœºåˆ¶å†³å®šäº†å“ªä¸ªæ§åˆ¶å™¨å°†å¤„ç†æ¯ä¸ªè¯·æ±‚ã€‚é€šå¸¸ï¼Œä¸€ä¸ªæ§åˆ¶å™¨å…·æœ‰å¤šä¸ªè·¯ç”±ï¼Œæ¯ä¸ªè·¯ç”±å¯ä»¥æ‰§è¡Œä¸åŒçš„æ“ä½œã€‚</p><p>è¦åˆ›å»ºåŸºæœ¬æ§åˆ¶å™¨ï¼Œæˆ‘ä»¬ä½¿ç”¨ç±»å’Œ<strong>è£…é¥°å™¨</strong>ã€‚è£…é¥°å™¨å°†ç±»ä¸å¿…è¦çš„å…ƒæ•°æ®å…³è”èµ·æ¥ï¼Œä½¿ Nest èƒ½å¤Ÿåˆ›å»ºå°†è¯·æ±‚è¿æ¥åˆ°ç›¸åº”æ§åˆ¶å™¨çš„è·¯ç”±æ˜ å°„ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Controller</span>, <span class="hljs-title class_">Get</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@nestjs/common&#x27;</span>;<br><br><span class="hljs-meta">@Controller</span>(<span class="hljs-string">&#x27;cats&#x27;</span>) <span class="hljs-comment">// è®¾ç½®è·¯ç”±å‰ç¼€</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CatsController</span> &#123;<br>  <span class="hljs-meta">@Get</span>() <span class="hljs-comment">// å¤„ç† GET /cats è¯·æ±‚</span><br>  <span class="hljs-title function_">findAll</span>(): <span class="hljs-built_in">string</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;This action returns all cats&#x27;</span>;<br>  &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><blockquote><p>ğŸ’¡ ä½¿ç”¨ CLI å¿«é€Ÿç”Ÿæˆæ§åˆ¶å™¨ï¼š  <code>$ nest g controller [name]</code></p></blockquote><h4 id="è·¯ç”±è·¯å¾„ç»„æˆ"><a href="#è·¯ç”±è·¯å¾„ç»„æˆ" class="headerlink" title="è·¯ç”±è·¯å¾„ç»„æˆ"></a>è·¯ç”±è·¯å¾„ç»„æˆ</h4><p>ä¸€ä¸ªå¤„ç†å™¨çš„å®Œæ•´è·¯ç”±ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š</p><ul><li><p>æ§åˆ¶å™¨ <em>@Controller()</em> çš„è·¯å¾„å‰ç¼€ï¼ˆå¦‚ <code>&#39;cats&#39;</code>ï¼‰</p></li><li><p>æ–¹æ³•è£…é¥°å™¨ <em>@Get()</em> æŒ‡å®šçš„è·¯å¾„ï¼ˆå¦‚ <code>@Get(&#39;breed&#39;)</code></p></li></ul><h4 id="è·¯ç”±è£…é¥°å™¨"><a href="#è·¯ç”±è£…é¥°å™¨" class="headerlink" title="è·¯ç”±è£…é¥°å™¨"></a>è·¯ç”±è£…é¥°å™¨</h4><table><thead><tr><th>è£…é¥°å™¨</th><th>å¯¹åº” HTTP æ–¹æ³•</th><th>ç”¨é€”è¯´æ˜</th></tr></thead><tbody><tr><td><code>@Get()</code></td><td>GET</td><td>è·å–èµ„æºï¼ˆè¯»å–æ•°æ®ï¼‰</td></tr><tr><td><code>@Post()</code></td><td>POST</td><td>åˆ›å»ºèµ„æºï¼ˆæäº¤æ•°æ®ï¼‰</td></tr><tr><td><code>@Put()</code></td><td>PUT</td><td>æ›¿æ¢èµ„æºï¼ˆæ•´ä½“æ›´æ–°ï¼‰</td></tr><tr><td><code>@Patch()</code></td><td>PATCH</td><td>æ›´æ–°èµ„æºï¼ˆéƒ¨åˆ†æ›´æ–°ï¼‰</td></tr><tr><td><code>@Delete()</code></td><td>DELETE</td><td>åˆ é™¤èµ„æº</td></tr><tr><td><code>@Options()</code></td><td>OPTIONS</td><td>è·å–é€šä¿¡é€‰é¡¹</td></tr><tr><td><code>@Head()</code></td><td>HEAD</td><td>ç±»ä¼¼ GETï¼Œä½†ä¸è¿”å›å“åº”ä½“</td></tr></tbody></table><h4 id="è·¯ç”±è£…é¥°å™¨å®è·µ"><a href="#è·¯ç”±è£…é¥°å™¨å®è·µ" class="headerlink" title="è·¯ç”±è£…é¥°å™¨å®è·µ"></a>è·¯ç”±è£…é¥°å™¨å®è·µ</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-meta">@Controller</span>(<span class="hljs-string">&#x27;users&#x27;</span>)<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;<br>  <span class="hljs-meta">@Get</span>()<br>  <span class="hljs-title function_">findAll</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;GET /users&#x27;</span>;<br>  &#125;<br><br>  <span class="hljs-meta">@Get</span>(<span class="hljs-string">&#x27;:id&#x27;</span>)<br>  <span class="hljs-title function_">findOne</span>(<span class="hljs-params"><span class="hljs-meta">@Param</span>(<span class="hljs-string">&#x27;id&#x27;</span>) <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span></span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">`GET /users/<span class="hljs-subst">$&#123;id&#125;</span>`</span>;<br>  &#125;<br><br>  <span class="hljs-meta">@Post</span>()<br>  <span class="hljs-title function_">create</span>(<span class="hljs-params"><span class="hljs-meta">@Body</span>() <span class="hljs-attr">dto</span>: <span class="hljs-title class_">CreateUserDto</span></span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;POST /users&#x27;</span>;<br>  &#125;<br><br>  <span class="hljs-meta">@Put</span>(<span class="hljs-string">&#x27;:id&#x27;</span>)<br>  <span class="hljs-title function_">update</span>(<span class="hljs-params"><span class="hljs-meta">@Param</span>(<span class="hljs-string">&#x27;id&#x27;</span>) <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>, <span class="hljs-meta">@Body</span>() <span class="hljs-attr">dto</span>: <span class="hljs-title class_">UpdateUserDto</span></span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">`PUT /users/<span class="hljs-subst">$&#123;id&#125;</span>`</span>;<br>  &#125;<br><br>  <span class="hljs-meta">@Patch</span>(<span class="hljs-string">&#x27;:id&#x27;</span>)<br>  <span class="hljs-title function_">partialUpdate</span>(<span class="hljs-params"><span class="hljs-meta">@Param</span>(<span class="hljs-string">&#x27;id&#x27;</span>) <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>, <span class="hljs-meta">@Body</span>() <span class="hljs-attr">partial</span>: <span class="hljs-title class_">Partial</span>&lt;<span class="hljs-title class_">UpdateUserDto</span>&gt;</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">`PATCH /users/<span class="hljs-subst">$&#123;id&#125;</span>`</span>;<br>  &#125;<br><br>  <span class="hljs-meta">@Delete</span>(<span class="hljs-string">&#x27;:id&#x27;</span>)<br>  <span class="hljs-title function_">remove</span>(<span class="hljs-params"><span class="hljs-meta">@Param</span>(<span class="hljs-string">&#x27;id&#x27;</span>) <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span></span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">`DELETE /users/<span class="hljs-subst">$&#123;id&#125;</span>`</span>;<br>  &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h4 id="è¯·æ±‚æ–¹æ³•è£…é¥°å™¨"><a href="#è¯·æ±‚æ–¹æ³•è£…é¥°å™¨" class="headerlink" title="è¯·æ±‚æ–¹æ³•è£…é¥°å™¨"></a>è¯·æ±‚æ–¹æ³•è£…é¥°å™¨</h4><table><thead><tr><th>è£…é¥°å™¨</th><th>æ¥æºä½ç½®</th><th>ä½œç”¨</th><th>å…¸å‹ç”¨äºæ–¹æ³•</th><th>ç¤ºä¾‹è·¯å¾„</th></tr></thead><tbody><tr><td><code>@Body()</code></td><td>è¯·æ±‚ä½“ï¼ˆbodyï¼‰</td><td>è·å– POST&#x2F;PUT&#x2F;PATCH è¯·æ±‚ä¸­çš„ JSON æˆ–è¡¨å•æ•°æ®</td><td><code>@Post()</code>ã€<code>@Put()</code>ã€<code>@Patch()</code></td><td>POST &#x2F;cats</td></tr><tr><td><code>@Param()</code></td><td>è·¯å¾„å‚æ•°ï¼ˆparamsï¼‰</td><td>è·å– URL ä¸­çš„åŠ¨æ€å‚æ•°å€¼</td><td><code>@Get()</code>ã€<code>@Put()</code>ã€<code>@Delete()</code></td><td>GET &#x2F;cats&#x2F;:id</td></tr><tr><td><code>@Query()</code></td><td>æŸ¥è¯¢å‚æ•°ï¼ˆqueryï¼‰</td><td>è·å– URL ä¸­ <code>?key=value</code> æ ¼å¼å‚æ•°</td><td>é€šå¸¸ç”¨äº <code>@Get()</code></td><td>GET &#x2F;cats?age&#x3D;3</td></tr><tr><td><code>@Headers()</code></td><td>è¯·æ±‚å¤´ï¼ˆheadersï¼‰</td><td>è·å–è¯·æ±‚å¤´å­—æ®µ</td><td>ä»»ä½•è¯·æ±‚</td><td>â€”</td></tr><tr><td><code>@Req()</code></td><td>åŸå§‹è¯·æ±‚å¯¹è±¡ï¼ˆRequestï¼‰</td><td>è·å–å®Œæ•´è¯·æ±‚å¯¹è±¡ï¼ˆExpress&#x2F;Fastifyï¼‰</td><td>ä»»ä½•è¯·æ±‚</td><td>â€”</td></tr><tr><td><code>@Res()</code></td><td>åŸå§‹å“åº”å¯¹è±¡ï¼ˆResponseï¼‰</td><td>æ‰‹åŠ¨æ§åˆ¶å“åº”ï¼ˆçŠ¶æ€ç ã€headersï¼‰</td><td>ä»»ä½•è¯·æ±‚</td><td>â€”</td></tr><tr><td><code>@Ip()</code></td><td>å®¢æˆ·ç«¯ IP åœ°å€</td><td>è·å–å®¢æˆ·ç«¯ IP åœ°å€</td><td>ä»»ä½•è¯·æ±‚</td><td>â€”</td></tr><tr><td><code>@HostParam()</code></td><td>è·¯ç”±ä¸»æœºå‚æ•°</td><td>ç”¨äºåŸºäºä¸»æœºåçš„è·¯ç”±</td><td>è¾ƒå°‘ä½¿ç”¨</td><td>â€”</td></tr></tbody></table><h4 id="è¯·æ±‚æ–¹æ³•è£…é¥°å™¨å®è·µ"><a href="#è¯·æ±‚æ–¹æ³•è£…é¥°å™¨å®è·µ" class="headerlink" title="è¯·æ±‚æ–¹æ³•è£…é¥°å™¨å®è·µ"></a>è¯·æ±‚æ–¹æ³•è£…é¥°å™¨å®è·µ</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-meta">@Post</span>()<br><span class="hljs-title function_">create</span>(<span class="hljs-params"><span class="hljs-meta">@Body</span>() <span class="hljs-attr">createCatDto</span>: <span class="hljs-title class_">CreateCatDto</span></span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-string">`åˆ›å»ºçŒ«: <span class="hljs-subst">$&#123;createCatDto.name&#125;</span>`</span>;<br>&#125;<br><br><span class="hljs-meta">@Get</span>(<span class="hljs-string">&#x27;:id&#x27;</span>)<br><span class="hljs-title function_">findOne</span>(<span class="hljs-params"><span class="hljs-meta">@Param</span>(<span class="hljs-string">&#x27;id&#x27;</span>) <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span></span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-string">`æŸ¥æ‰¾ ID ä¸º <span class="hljs-subst">$&#123;id&#125;</span> çš„çŒ«`</span>;<br>&#125;<br><br><span class="hljs-meta">@Get</span>()<br><span class="hljs-title function_">findByAge</span>(<span class="hljs-params"><span class="hljs-meta">@Query</span>(<span class="hljs-string">&#x27;age&#x27;</span>) <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span></span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-string">`æŸ¥æ‰¾å¹´é¾„ä¸º <span class="hljs-subst">$&#123;age&#125;</span> çš„çŒ«`</span>;<br>&#125;<br><br><span class="hljs-meta">@Get</span>(<span class="hljs-string">&#x27;header-info&#x27;</span>)<br><span class="hljs-title function_">getHeader</span>(<span class="hljs-params"><span class="hljs-meta">@Headers</span>(<span class="hljs-string">&#x27;user-agent&#x27;</span>) <span class="hljs-attr">ua</span>: <span class="hljs-built_in">string</span></span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-string">`ä½ çš„ User-Agent æ˜¯ <span class="hljs-subst">$&#123;ua&#125;</span>`</span>;<br>&#125;<br><br><span class="hljs-meta">@Get</span>(<span class="hljs-string">&#x27;ip&#x27;</span>)<br><span class="hljs-title function_">getClientIp</span>(<span class="hljs-params"><span class="hljs-meta">@Ip</span>() <span class="hljs-attr">ip</span>: <span class="hljs-built_in">string</span></span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-string">`å®¢æˆ·ç«¯ IP: <span class="hljs-subst">$&#123;ip&#125;</span>`</span>;<br>&#125;<br><br><span class="hljs-meta">@Get</span>(<span class="hljs-string">&#x27;raw&#x27;</span>)<br><span class="hljs-title function_">getRawRequest</span>(<span class="hljs-params"><span class="hljs-meta">@Req</span>() <span class="hljs-attr">req</span>: <span class="hljs-title class_">Request</span></span>) &#123;<br>  <span class="hljs-keyword">return</span> req.<span class="hljs-property">headers</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h4 id="æœ€ä½³å®è·µå‚è€ƒ"><a href="#æœ€ä½³å®è·µå‚è€ƒ" class="headerlink" title="æœ€ä½³å®è·µå‚è€ƒ"></a>æœ€ä½³å®è·µå‚è€ƒ</h4><h5 id="æ‹¿å®¢æˆ·ç«¯è¯·æ±‚"><a href="#æ‹¿å®¢æˆ·ç«¯è¯·æ±‚" class="headerlink" title="æ‹¿å®¢æˆ·ç«¯è¯·æ±‚"></a>æ‹¿å®¢æˆ·ç«¯è¯·æ±‚</h5><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// cats.controller.ts</span><br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Body</span>, <span class="hljs-title class_">Controller</span>, <span class="hljs-title class_">Post</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@nestjs/common&#x27;</span>;<br><br><span class="hljs-meta">@Controller</span>(<span class="hljs-string">&#x27;cats&#x27;</span>)<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CatsController</span> &#123;<br>  <span class="hljs-meta">@Post</span>()<br>  <span class="hljs-title function_">create</span>(<span class="hljs-params"><span class="hljs-meta">@Body</span>() createCatDto</span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123; name, age, breed &#125; = createCatDto;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">`åˆ›å»ºäº†çŒ«ï¼š<span class="hljs-subst">$&#123;name&#125;</span>, å¹´é¾„ï¼š<span class="hljs-subst">$&#123;age&#125;</span>, å“ç§ï¼š<span class="hljs-subst">$&#123;breed&#125;</span>`</span>;<br>  &#125;<br>&#125;<br><br><br></code></pre></td></tr></table></figure><h5 id="è·¯å¾„å‚æ•°"><a href="#è·¯å¾„å‚æ•°" class="headerlink" title="è·¯å¾„å‚æ•°"></a>è·¯å¾„å‚æ•°</h5><p>è·¯å¾„ï¼š<code>GET /cats/:id</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">//å¤šä¸ªå‚æ•°</span><br><span class="hljs-meta">@Get</span>(<span class="hljs-string">&#x27;:id/:action&#x27;</span>)<br><span class="hljs-title function_">handle</span>(<span class="hljs-params"><span class="hljs-meta">@Param</span>() <span class="hljs-attr">params</span>: &#123; id: <span class="hljs-built_in">string</span>; action: <span class="hljs-built_in">string</span> &#125;</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-string">`å¯¹çŒ« <span class="hljs-subst">$&#123;params.id&#125;</span> æ‰§è¡ŒåŠ¨ä½œ <span class="hljs-subst">$&#123;params.action&#125;</span>`</span>;<br>&#125;<br><br><br></code></pre></td></tr></table></figure><h5 id="æŸ¥è¯¢å‚æ•°"><a href="#æŸ¥è¯¢å‚æ•°" class="headerlink" title="æŸ¥è¯¢å‚æ•°"></a>æŸ¥è¯¢å‚æ•°</h5><p>è·¯å¾„ï¼š<code>GET /cats?age=3&amp;breed=short</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-meta">@Get</span>()<br><span class="hljs-title function_">filter</span>(<span class="hljs-params"><span class="hljs-meta">@Query</span>(<span class="hljs-string">&#x27;age&#x27;</span>) <span class="hljs-attr">age</span>: <span class="hljs-built_in">string</span>, <span class="hljs-meta">@Query</span>(<span class="hljs-string">&#x27;breed&#x27;</span>) <span class="hljs-attr">breed</span>: <span class="hljs-built_in">string</span></span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-string">`æŸ¥è¯¢å¹´é¾„ä¸º <span class="hljs-subst">$&#123;age&#125;</span>ï¼Œå“ç§ä¸º <span class="hljs-subst">$&#123;breed&#125;</span> çš„çŒ«`</span>;<br>&#125;<br><br><span class="hljs-comment">// æˆ–è€…æ•´ä½“æ¥æ”¶</span><br><span class="hljs-meta">@Get</span>()<br><span class="hljs-title function_">filter</span>(<span class="hljs-params"><span class="hljs-meta">@Query</span>() <span class="hljs-attr">query</span>: &#123; age?: <span class="hljs-built_in">string</span>; breed?: <span class="hljs-built_in">string</span> &#125;</span>) &#123;<br>  <span class="hljs-keyword">return</span> query;<br>&#125;<br><br><br></code></pre></td></tr></table></figure><h2 id="NestSession"><a href="#NestSession" class="headerlink" title="NestSession"></a>NestSession</h2><p>Sessionæ˜¯NestjsæœåŠ¡å™¨ä¸ºæ¯ä¸ªæµè§ˆå™¨åˆ›å»ºçš„ä¸€ä¸ªä¼šè¯å¯¹è±¡,Sessionä¼šè®°å½•åˆ°æµè§ˆå™¨çš„cookieç”¨æ¥åŒºåˆ†ç”¨æˆ·.</p><h3 id="å®‰è£…-1"><a href="#å®‰è£…-1" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">pnpm i express-session --save<br><br>pnpm i @types/express-session -D<br></code></pre></td></tr></table></figure><h3 id="å¼•å…¥"><a href="#å¼•å…¥" class="headerlink" title="å¼•å…¥"></a>å¼•å…¥</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// main.ts</span><br><br><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> session <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;express-session&#x27;</span><br><br><br>app.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">session</span>())<br></code></pre></td></tr></table></figure><h3 id="å‚æ•°-1"><a href="#å‚æ•°-1" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h3><table><thead><tr><th>é…ç½®é¡¹</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>secret</td><td>ç”ŸæˆæœåŠ¡ç«¯Sessionç­¾å</td></tr><tr><td>name</td><td>ç”Ÿæˆå®¢æˆ·ç«¯cookieçš„åå­—</td></tr><tr><td>cookie</td><td>è®¾ç½®è¿”å›åˆ°å‰ç«¯keyçš„å±æ€§(é”®å€¼å¯¹)</td></tr><tr><td>rolling</td><td>åœ¨æ¯æ¬¡è¯·æ±‚æ—¶å¼ºåˆ¶è®¾ç½®cookie,é‡ç½®è¿‡æœŸæ—¶é—´</td></tr></tbody></table><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä½¿ç”¨svg-captcha+Nestjsä¼ é€’éªŒè¯ç </p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs ts"><br><span class="hljs-comment">// user.controller.ts</span><br><span class="hljs-meta">@Get</span>(<span class="hljs-string">&#x27;code&#x27;</span>)<br><span class="hljs-title function_">createCode</span>(<span class="hljs-params"><span class="hljs-meta">@Req</span>() req,<span class="hljs-meta">@Res</span> res,<span class="hljs-meta">@Session</span> session</span>)&#123;<br>    <span class="hljs-keyword">const</span> <span class="hljs-title class_">Captcha</span> = svgCaptcha.<span class="hljs-title function_">create</span>(&#123;<br><br>    <span class="hljs-attr">size</span>:<span class="hljs-number">4</span>,<span class="hljs-attr">fontSize</span>:<span class="hljs-number">50</span>,<span class="hljs-attr">width</span>:<span class="hljs-number">100</span>,<span class="hljs-attr">height</span>:<span class="hljs-number">34</span>,<span class="hljs-attr">background</span>:<span class="hljs-string">&#x27;#cc9966&#x27;</span><br><br>&#125;)<br>    session.<span class="hljs-property">code</span> = <span class="hljs-title class_">Captcha</span>.<span class="hljs-property">text</span><br>    res.<span class="hljs-title function_">type</span>(<span class="hljs-string">&#x27;image/svg+xml&#x27;</span>)<br>    res.<span class="hljs-title function_">send</span>(<span class="hljs-title class_">Captcha</span>.<span class="hljs-property">data</span>)<br><br>&#125;<br><br><br></code></pre></td></tr></table></figure><h2 id="NestProvider"><a href="#NestProvider" class="headerlink" title="NestProvider"></a>NestProvider</h2><p>æä¾›è€…æ˜¯ Nest çš„æ ¸å¿ƒæ¦‚å¿µã€‚è®¸å¤šåŸºç¡€çš„ Nest ç±»ï¼Œå¦‚æœåŠ¡ã€å­˜å‚¨åº“ã€å·¥å‚å’Œè¾…åŠ©å·¥å…·ï¼Œéƒ½å¯ä»¥è¢«è§†ä¸ºæä¾›è€…ã€‚æä¾›è€…çš„æ ¸å¿ƒç†å¿µåœ¨äºå®ƒå¯ä»¥ä½œä¸ºä¾èµ–é¡¹è¢«æ³¨å…¥ã€‚<strong>æä¾›ç¨‹åºé€šå¸¸å…·æœ‰ä¸åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸä¸€è‡´çš„ç”Ÿå­˜æœŸï¼ˆâ€ä½œç”¨åŸŸâ€ï¼‰ã€‚å½“åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶ï¼Œæ¯ä¸ªä¾èµ–é¡¹éƒ½å¿…é¡»è¢«è§£æï¼Œè¿™æ„å‘³ç€æ¯ä¸ªæä¾›ç¨‹åºéƒ½ä¼šè¢«å®ä¾‹åŒ–ã€‚</strong></p><h3 id="ç”¨æ³•-1"><a href="#ç”¨æ³•-1" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h3><h4 id="Provideræ³¨å…¥Controller"><a href="#Provideræ³¨å…¥Controller" class="headerlink" title="Provideræ³¨å…¥Controller"></a>Provideræ³¨å…¥Controller</h4><p><code>xxx.service.ts</code>ä¸­ä½¿ç”¨<code>@Injectable</code>ä¿®é¥°å¯¼å‡ºç±»,åœ¨<code>xxx.module.ts</code>ä¸­å¼•å…¥,æ·»åŠ åˆ°<code>@Module()</code>ä¸‹çš„<code>providers</code></p><h4 id="Provideråˆ«å"><a href="#Provideråˆ«å" class="headerlink" title="Provideråˆ«å"></a>Provideråˆ«å</h4><p>åœ¨<code>providers</code>æ•°ç»„ä¸‹ä¼ å…¥å¯¹è±¡,ä½¿ç”¨<code>provide:&#39;alias&#39;</code>,åœ¨Controllerå±‚ä½¿ç”¨<code>@Inject(&#39;alias&#39;)</code>ä¿®é¥°</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Module</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@nestjs/common&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">AppController</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./app.controller&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">AppService</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./app.service&#x27;</span>;<br><br><br><br><span class="hljs-meta">@Module</span>(&#123;<br>  <span class="hljs-attr">controllers</span>: [<span class="hljs-title class_">AppController</span>],<br>  <span class="hljs-attr">imports</span>: [],<br>  <span class="hljs-attr">providers</span>: [<span class="hljs-title class_">AppService</span>,&#123;<br>    <span class="hljs-attr">provide</span>:<span class="hljs-string">&#x27;ABC&#x27;</span>,<br>    <span class="hljs-attr">useClass</span>:<span class="hljs-title class_">AppService</span><br>&#125;],<br><br>&#125;)<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppModule</span> &#123;&#125;<br></code></pre></td></tr></table></figure><h4 id="Providerè‡ªå®šä¹‰å€¼"><a href="#Providerè‡ªå®šä¹‰å€¼" class="headerlink" title="Providerè‡ªå®šä¹‰å€¼"></a>Providerè‡ªå®šä¹‰å€¼</h4><p>åœ¨<code>providers</code>æ•°ç»„ä¸‹ä¼ å…¥å¯¹è±¡,ä½¿ç”¨<code>provide:&#39;alias&#39;,useValue:&#123;...&#125;</code>,åœ¨Controllerå±‚ä½¿ç”¨<code>@Inject(&#39;alias&#39;)</code>ä¿®é¥°</p><h4 id="Providerå·¥å‚æ¨¡å¼"><a href="#Providerå·¥å‚æ¨¡å¼" class="headerlink" title="Providerå·¥å‚æ¨¡å¼"></a>Providerå·¥å‚æ¨¡å¼</h4><p>åŒä¸Š,<code>useFactory()</code></p><blockquote><p>å‚è€ƒ: <a href="https://docs.nestjs.cn/fundamentals/dependency-injection.html#%E5%B7%A5%E5%8E%82%E6%8F%90%E4%BE%9B%E8%80%85usefactory" target="_blank">å·¥å‚æ¨¡å¼</a></p></blockquote><h2 id="NestModule"><a href="#NestModule" class="headerlink" title="NestModule"></a>NestModule</h2><p>æ¨¡å—æ˜¯ä¸€ä¸ªç”¨Â <code>@Module()</code>Â è£…é¥°å™¨æ³¨è§£çš„ç±»ã€‚è¯¥è£…é¥°å™¨æä¾›äº†å…ƒæ•°æ®ï¼ŒNest ä½¿ç”¨å®ƒæ¥æœ‰æ•ˆåœ°ç»„ç»‡å’Œç®¡ç†åº”ç”¨ç¨‹åºç»“æ„ã€‚</p><p><code>@Module()</code>Â è£…é¥°å™¨æ¥æ”¶ä¸€ä¸ªå¸¦æœ‰æè¿°æ¨¡å—å±æ€§çš„å¯¹è±¡ï¼š</p><table><thead><tr><th>æ¨¡å—å±æ€§</th><th>æ¨¡å—ä½œç”¨</th></tr></thead><tbody><tr><td>providers</td><td>å°†ç”± Nest æ³¨å…¥å™¨å®ä¾‹åŒ–,ä¸”è‡³å°‘å¯åœ¨æœ¬æ¨¡å—å†…å…±äº«çš„æä¾›è€…</td></tr><tr><td>controllers</td><td>æœ¬æ¨¡å—ä¸­å®šä¹‰çš„éœ€è¦å®ä¾‹åŒ–çš„æ§åˆ¶å™¨é›†åˆ</td></tr><tr><td>imports</td><td>å¯¼å…¥æ¨¡å—çš„åˆ—è¡¨ï¼Œè¿™äº›æ¨¡å—å¯¼å‡ºäº†æœ¬æ¨¡å—æ‰€éœ€çš„æä¾›è€…</td></tr><tr><td>exports</td><td>æœ¬æ¨¡å—æä¾›çš„ providers å­é›†ï¼Œè¿™äº›æä¾›è€…åº”å¯ä¾›å¯¼å…¥æœ¬æ¨¡å—çš„å…¶ä»–æ¨¡å—ä½¿ç”¨ã€‚å¯ä»¥ä½¿ç”¨æä¾›è€…æœ¬èº«æˆ–å…¶ä»¤ç‰Œï¼ˆprovide å€¼ï¼‰</td></tr></tbody></table><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¨¡å—<strong>å°è£…</strong>äº†æä¾›è€…ï¼Œè¿™æ„å‘³ç€æ‚¨åªèƒ½æ³¨å…¥å±äºå½“å‰æ¨¡å—æˆ–ä»å…¶ä»–å¯¼å…¥æ¨¡å—æ˜¾å¼å¯¼å‡ºçš„æä¾›è€…ã€‚æ¨¡å—å¯¼å‡ºçš„æä¾›è€…æœ¬è´¨ä¸Šå……å½“äº†è¯¥æ¨¡å—çš„å…¬å…±æ¥å£æˆ– APIã€‚</p><h3 id="åˆ›å»ºModule"><a href="#åˆ›å»ºModule" class="headerlink" title="åˆ›å»ºModule"></a>åˆ›å»ºModule</h3><ol><li>ä½¿ç”¨NestCLIåˆ›å»º</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">nest g res &lt;æ¨¡å—å&gt;<br></code></pre></td></tr></table></figure><p>å°†åˆ›å»º<code>&lt;æ¨¡å—å&gt;Module</code>æ¨¡å—.</p><ol start="2"><li><code>import</code>å¼•å…¥,å¦‚æœæ¶‰åŠè·¨æ¨¡å—åˆ™éœ€<code>@Module(&#123;exports:[]&#125;)</code>è½¬å˜ä¸ºå…±äº«æ¨¡å—</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// serviceæ¨¡å—</span><br><span class="hljs-keyword">import</span> &#123;<span class="hljs-title class_">UserService</span>&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./user/user.service.ts&#x27;</span><br><br><span class="hljs-meta">@Controller</span>()<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppController</span>&#123;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-attr">appService</span>:<span class="hljs-title class_">AppService</span>,</span><br><span class="hljs-params">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-title class_">UserService</span>:<span class="hljs-title class_">UserService</span></span><br><span class="hljs-params"></span>)<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// xxx.module.ts</span><br><br><br><span class="hljs-meta">@Module</span>(&#123;<br>    <span class="hljs-attr">exports</span>:[<span class="hljs-title class_">UserService</span>]<br>&#125;)<br></code></pre></td></tr></table></figure><ol start="3"><li>æ‰‹åŠ¨åˆ›å»ºå¹¶å¼•å…¥ä¾èµ–é¡¹</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// xx.module.ts</span><br><span class="hljs-keyword">import</span> &#123;<span class="hljs-title class_">Module</span>&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@nestjs/common&#x27;</span><br><br><span class="hljs-comment">//æ³¨å†Œåˆ°å…¨å±€çš„æ¨¡å—ä¿®é¥°ç¬¦</span><br><span class="hljs-meta">@Global</span><br><span class="hljs-meta">@Module</span>(&#123;<br>    <span class="hljs-attr">provider</span>:[<br>    &#123;<br>    <span class="hljs-attr">provide</span>:<span class="hljs-string">&#x27;Config&#x27;</span>,<br>    <span class="hljs-attr">useValue</span>:&#123;<span class="hljs-attr">baseUrl</span>:<span class="hljs-string">&#x27;/api&#x27;</span>&#125;<br>&#125;<br>],<br>    <span class="hljs-attr">exports</span>:[<br>    &#123;...&#125;<br>]<br>&#125;)<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">xxModule</span>&#123;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>å¯¹å…¨å±€æ¨¡å—çš„Provideré€šè¿‡<code>@Inject(&#39;ProviderName&#39;) private readonly base:any</code>å¼•å…¥.</p><h2 id="Nestä¸­é—´ä»¶"><a href="#Nestä¸­é—´ä»¶" class="headerlink" title="Nestä¸­é—´ä»¶"></a>Nestä¸­é—´ä»¶</h2><p>ä¸­é—´ä»¶æ˜¯åœ¨è·¯ç”±å¤„ç†ç¨‹åº<strong>ä¹‹å‰</strong>è°ƒç”¨çš„å‡½æ•°ã€‚ä¸­é—´ä»¶å‡½æ•°å¯ä»¥è®¿é—®<a href="https://expressjs.com/en/4x/api.html#req">è¯·æ±‚</a>å’Œ<a href="https://expressjs.com/en/4x/api.html#res">å“åº”</a>å¯¹è±¡ï¼Œä»¥åŠåº”ç”¨ç¨‹åºè¯·æ±‚-å“åº”å‘¨æœŸä¸­çš„Â <code>next()</code>Â ä¸­é—´ä»¶å‡½æ•°ã€‚Â <strong>ä¸‹ä¸€ä¸ª</strong>ä¸­é—´ä»¶å‡½æ•°é€šå¸¸ç”±åä¸ºÂ <code>next</code>Â çš„å˜é‡è¡¨ç¤ºã€‚</p><blockquote><p>ä¸­é—´ä»¶å‡½æ•°å¯ä»¥æ‰§è¡Œä»¥ä¸‹ä»»åŠ¡ï¼š</p><ul><li>æ‰§è¡Œä»»æ„ä»£ç ã€‚</li><li>ä¿®æ”¹è¯·æ±‚å’Œå“åº”å¯¹è±¡ã€‚</li><li>ç»“æŸè¯·æ±‚-å“åº”å‘¨æœŸã€‚</li><li>è°ƒç”¨å †æ ˆä¸­çš„ä¸‹ä¸€ä¸ªä¸­é—´ä»¶å‡½æ•°ã€‚</li><li>å¦‚æœå½“å‰ä¸­é—´ä»¶å‡½æ•°æ²¡æœ‰ç»“æŸè¯·æ±‚-å“åº”å‘¨æœŸï¼Œå®ƒå¿…é¡»è°ƒç”¨Â <code>next()</code>Â å°†æ§åˆ¶æƒä¼ é€’ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶å‡½æ•°ã€‚å¦åˆ™ï¼Œè¯·æ±‚å°†è¢«æŒ‚èµ·ã€‚</li></ul></blockquote><h3 id="åˆ›å»ºä¸­é—´ä»¶"><a href="#åˆ›å»ºä¸­é—´ä»¶" class="headerlink" title="åˆ›å»ºä¸­é—´ä»¶"></a>åˆ›å»ºä¸­é—´ä»¶</h3><ol><li>ä½¿ç”¨Nest CLIåˆ›å»º</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">nest g mi &lt;ä¸­é—´ä»¶å&gt; <br></code></pre></td></tr></table></figure><ol start="2"><li>æ‰‹åŠ¨åˆ›å»º</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> &#123;<span class="hljs-title class_">Injectable</span>,<span class="hljs-title class_">NestMiddleware</span>&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@nestjs/common&#x27;</span><br><br><br><span class="hljs-meta">@Injectable</span>()<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Logger</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">NestMiddleware</span>&#123;<br>    <br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ç”¨æ³•-2"><a href="#ç”¨æ³•-2" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-meta">@Injectable</span>()<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Logger</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">NestMiddleware</span>&#123;<br>    <span class="hljs-title function_">use</span>(<span class="hljs-params">req,res,next</span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Hi&#x27;</span>)<br>    <span class="hljs-comment">//è‹¥æ— Nextåˆ™è¢«æ‹¦æˆª</span><br>    <span class="hljs-title function_">next</span>()<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="å¯¼å…¥åˆ°Module"><a href="#å¯¼å…¥åˆ°Module" class="headerlink" title="å¯¼å…¥åˆ°Module"></a>å¯¼å…¥åˆ°Module</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// å¼•å…¥...</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserModule</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">NestModule</span>&#123;<br>    <span class="hljs-title function_">configure</span>(<span class="hljs-params"><span class="hljs-attr">consumer</span>:<span class="hljs-title class_">MiddlewareConsumer</span></span>)&#123;<br>    <span class="hljs-comment">// æ¶ˆè´¹è€…å‡½æ•°æ³¨å†Œä¸­é—´ä»¶</span><br>    consumer.<span class="hljs-title function_">apply</span>(<span class="hljs-title class_">Logger</span>).<span class="hljs-title function_">forRoutes</span>(<span class="hljs-string">&#x27;User&#x27;</span>)<br><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="å…¨å±€ä¸­é—´ä»¶"><a href="#å…¨å±€ä¸­é—´ä»¶" class="headerlink" title="å…¨å±€ä¸­é—´ä»¶"></a>å…¨å±€ä¸­é—´ä»¶</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// main.ts</span><br><br><span class="hljs-keyword">import</span> &#123;<span class="hljs-title class_">Request</span>,<span class="hljs-title class_">Response</span>,<span class="hljs-title class_">NextFunction</span>&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;express&#x27;</span><br><br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">MiddlewareAll</span>(<span class="hljs-params"><span class="hljs-attr">req</span>:<span class="hljs-title class_">Request</span>,<span class="hljs-attr">res</span>:<span class="hljs-title class_">Response</span>,<span class="hljs-attr">next</span>:<span class="hljs-title class_">NextFunction</span></span>)&#123;<br>    <span class="hljs-comment">//å…¨å±€ä¸­é—´ä»¶é€»è¾‘</span><br>&#125;<br><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">bootstrap</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">const</span> app = <span class="hljs-keyword">await</span> <span class="hljs-title class_">NestFactory</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">AppModule</span>);<br>    <span class="hljs-comment">//æ³¨å†Œä¸­é—´ä»¶</span><br>    app.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">MiddlewareAll</span>)<br>    ...<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Node.jså­¦ä¹ ç¬”è®°</title>
    <link href="/2025/07/02/Node-js%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <url>/2025/07/02/Node-js%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="Node-jså­¦ä¹ ç¬”è®°"><a href="#Node-jså­¦ä¹ ç¬”è®°" class="headerlink" title="Node.jså­¦ä¹ ç¬”è®°"></a>Node.jså­¦ä¹ ç¬”è®°</h1><p>Node.js æ˜¯ä¸€ä¸ªå¼€æºã€è·¨å¹³å°çš„ JavaScript è¿è¡Œæ—¶ç¯å¢ƒã€‚</p><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>é€‚åˆIOå¯†é›†å‹è¿ç®—(libuvå’Œcppåº•å±‚çš„åŠŸåŠ³),ä¸é€‚åˆCPUå¯†é›†å‹è®¡ç®—(å•çº¿ç¨‹)ï¼Œå¯ç”¨äºå‰åç«¯å¼€å‘ã€‚</p><p>å‰ç«¯ï¼šVue Angular React Nuxtjs</p><p>åç«¯ï¼š</p><ol><li><p>Serverless</p></li><li><p>Webåº”ç”¨ï¼šExpress,Nextjs,koa</p></li><li><p>RPCæœåŠ¡ï¼šgRPC</p></li><li><p>çˆ¬è™«ï¼šPuppeteer</p></li><li><p>BFFå±‚</p></li><li><p>åŠæ—¶æ€§åº”ç”¨ï¼šSocket.io</p></li></ol><p>æ¡Œé¢ç«¯ï¼š</p><ol><li><p>Electron</p></li><li><p>Tauri</p></li><li><p>NW.js</p></li></ol><p>ç§»åŠ¨ç«¯ï¼š</p><ol><li><p>Weex</p></li><li><p>Ionic</p></li><li><p>React Native</p></li></ol><p>åŸºå»ºç«¯ï¼š</p><ol><li><p>Webpack Vite</p></li><li><p>less scss</p></li><li><p>babel swc</p></li><li><p>inquire</p></li></ol><p>CI&#x2F;CD åä»£ å•å…ƒæµ‹è¯•ç­‰éƒ½å¯ä»¥ä½¿ç”¨Node.js.</p><p><em>æˆ‘é ,æ€ä¹ˆNodejsä»€ä¹ˆéƒ½èƒ½å¹²å•Š!</em></p><h2 id="npm"><a href="#npm" class="headerlink" title="npm"></a>npm</h2><p><strong>npm</strong>æ˜¯Nodejsçš„åŒ…ç®¡ç†å·¥å…·ã€‚</p><h3 id="å¸¸ç”¨npmå‘½ä»¤"><a href="#å¸¸ç”¨npmå‘½ä»¤" class="headerlink" title="å¸¸ç”¨npmå‘½ä»¤"></a>å¸¸ç”¨npmå‘½ä»¤</h3><ol><li><p><code>npm init</code>:åˆå§‹åŒ–ç©ºç™½åŒ…ï¼Œåˆ›å»ºpackage.json</p></li><li><p><code>npm run script</code>: è¿è¡Œnpmå‘½ä»¤ï¼ˆéœ€è¦åœ¨package.jsonå®šä¹‰ï¼‰</p></li><li><p><code>npm install</code>:å®‰è£…ä¸€ä¸ªåŒ…æˆ–ä¸€ç»„åŒ…,å¹¶ä¼šåœ¨å½“å‰ç›®å½•å­˜æ”¾ä¸€ä¸ª<em>node_modules</em>,ç®€å†™ä¸º<code>npm i ...</code></p></li><li><p><code>npm install &lt;package-name&gt; --save</code>:å®‰è£…æŒ‡å®šåŒ…,å¹¶å°†å…¶æ·»åŠ åˆ°<code>package.json</code>,</p></li><li><p><code>npm uninstall &lt;package-name&gt;</code>:å¸è½½æŒ‡å®šåŒ…</p></li><li><p><code>npm config list</code> :æŸ¥çœ‹Node npmç‰ˆæœ¬,npmæº,runtimeç›®å½•ç­‰ä¿¡æ¯</p></li><li><p><code>npm config registry</code>:æŸ¥çœ‹npmæº</p></li><li><p><code>npm config set registry URLs</code>:è®¾ç½®npmæº</p></li><li><p><code>npm login</code>:ç™»å½•npm</p></li><li><p><code>npm publish</code>:å°†åŒ…å‘å¸ƒåˆ°npm</p></li></ol><h3 id="å…³äºpackage-json"><a href="#å…³äºpackage-json" class="headerlink" title="å…³äºpackage.json"></a>å…³äºpackage.json</h3><ol><li><p><code>&quot;version&quot;:&quot;1.0.0&quot;</code></p><ul><li><p>ç¬¬ä¸€ä½ä¸»ç‰ˆæœ¬å·ï¼Œé’ˆå¯¹é‡å¤§æ›´æ–°æˆ–æ”¹åŠ¨</p></li><li><p>ç¬¬äºŒä½æ¬¡ç‰ˆæœ¬å·ï¼Œé’ˆå¯¹åŠŸèƒ½æ›´æ–°</p></li><li><p>ç¬¬ä¸‰ä½ä¿®è®¢å·ã€‚é’ˆå¯¹bugä¿®å¤</p></li></ul></li><li><p><code>&quot;scripts&quot;:&#123;...&#125;</code><br>è¿è¡Œnpmå‘½ä»¤</p></li><li><p><code>&quot;repository:&#123;...&#125;&quot;</code><br>è®¾ç½®ä»“åº“ä¿¡æ¯å’Œåœ°å€</p></li><li><p><code>&quot;author&quot;:...</code><br>ä½œè€…ä¿¡æ¯</p></li><li><p><code>&quot;license&quot;:...</code><br>é¡¹ç›®è®¸å¯è¯</p></li><li><p>å…³äºâ€dependenciesâ€</p><ol><li><p><code>&quot;devDependencies&quot;:&#123;...&#125;</code><br>å¼€å‘æ‰€éœ€çš„ä¾èµ–ï¼Œé€šè¿‡<code>npm i &lt;package-name&gt; -D</code>æ·»åŠ åˆ°package.jsonï¼Œä¾‹å¦‚<code>webpack</code>,<code>vite</code>,<code>rollup</code>ç­‰å¼€å‘ç¯å¢ƒéœ€è¦çš„ä¾èµ–</p></li><li><p><code>&quot;dependencies:&#123;...&#125;&quot;</code><br>ç”Ÿäº§ç¯å¢ƒæ‰€éœ€çš„ä¾èµ–</p></li><li><p><code>&quot;peerDependencies&quot;:&#123;...&#125;</code><br>ç»™æ’ä»¶ç¼–å†™äººå‘˜æˆ–npmåŒ…çš„å¼€å‘äººå‘˜ä½¿ç”¨</p></li></ol></li></ol><h3 id="npm-installåŸç†"><a href="#npm-installåŸç†" class="headerlink" title="npm installåŸç†"></a>npm installåŸç†</h3><blockquote><p>é¦–å…ˆå®‰è£…çš„ä¾èµ–éƒ½ä¼šå­˜æ”¾åœ¨æ ¹ç›®å½•çš„node_modules,é»˜è®¤é‡‡ç”¨æ‰å¹³åŒ–çš„æ–¹å¼å®‰è£…ï¼Œå¹¶ä¸”æ’åºè§„åˆ™.binç¬¬ä¸€ä¸ªç„¶å@ç³»åˆ—ï¼Œå†ç„¶åæŒ‰ç…§é¦–å­—æ¯æ’åºabcdç­‰ï¼Œå¹¶ä¸”ä½¿ç”¨çš„ç®—æ³•æ˜¯å¹¿åº¦ä¼˜å…ˆéå†ï¼Œåœ¨éå†ä¾èµ–æ ‘æ—¶ï¼Œnpmä¼šé¦–å…ˆå¤„ç†é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ä¾èµ–ï¼Œç„¶åé€å±‚å¤„ç†æ¯ä¸ªä¾èµ–åŒ…çš„ä¾èµ–ï¼Œç›´åˆ°æ‰€æœ‰ä¾èµ–éƒ½è¢«å¤„ç†å®Œæ¯•ã€‚åœ¨å¤„ç†æ¯ä¸ªä¾èµ–æ—¶ï¼Œnpmä¼šæ£€æŸ¥è¯¥ä¾èµ–çš„ç‰ˆæœ¬å·æ˜¯å¦ç¬¦åˆä¾èµ–æ ‘ä¸­å…¶ä»–ä¾èµ–çš„ç‰ˆæœ¬è¦æ±‚ï¼Œå¦‚æœä¸ç¬¦åˆï¼Œåˆ™ä¼šå°è¯•å®‰è£…é€‚åˆçš„ç‰ˆæœ¬</p></blockquote><p>è¯¦ç»†è§:<a href="https://juejin.cn/post/7261119531891490877">Npm installåŸç†</a></p><p><img src="/./Node-js%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/npm-install%E6%B5%81%E7%A8%8B.webp" title="æµç¨‹å›¾"></p><p>æ³¨æ„:</p><ol><li><p>å¦‚æœé¡¹ç›®ä¸­package.jsonä¸package-lock.jsonçš„ä¾èµ–å’Œç‰ˆæœ¬ä¸ä¸€è‡´,åˆ™æ‹‰å–package.jsonçš„ä¾èµ–ä¸ºå‡†,å¹¶è¦†ç›–package-lock.json</p></li><li><p>npm installåœ¨æ£€æŸ¥npm configæ—¶,éµå¾ªé¡¹ç›®çº§npmrc-&gt;ç”¨æˆ·çº§npmrc-&gt;å…¨å±€npmrc-&gt;npmå†…ç½®npmrcçš„é¡ºåº</p></li><li><p>package-lock.jsonä¸­çš„â€nameâ€,â€integrityâ€,â€versionâ€ä¿¡æ¯ä¼šç”Ÿäº§ä¸€ä¸ªkeyç´¢å¼•,ç”¨äºæ¯”è¾ƒæœ¬åœ°çš„ç¼“å­˜</p></li></ol><h3 id="npm-runåŸç†"><a href="#npm-runåŸç†" class="headerlink" title="npm runåŸç†"></a>npm runåŸç†</h3><p><a href="https://juejin.cn/post/7261235534663368741">npm runåŸç†</a></p><p>å½“å‰é¡¹ç›®æœç´¢æ˜¯å¦å­˜åœ¨<em>node&#x2F;modules&#x2F;.bin</em>,å…¶æ¬¡æ˜¯å…¨å±€,å†å…¶æ¬¡æ˜¯ç¯å¢ƒå˜é‡,å¦‚æœæ²¡æœ‰å°±æŠ¥é”™.</p><p>npm runä¹Ÿæœ‰ç”Ÿå‘½å‘¨æœŸ,å¯ä»¥åœ¨package.jsonä¸­çš„â€scriptsâ€è®¾ç½®â€predevâ€å’Œâ€postdevâ€å‚æ•°æ‰§è¡Œç›¸å…³æ–‡ä»¶.</p><h3 id="npx"><a href="#npx" class="headerlink" title="npx"></a>npx</h3><blockquote><p>npxæ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå®ƒæ˜¯npm 5.2.0ç‰ˆæœ¬ä¸­æ–°å¢çš„åŠŸèƒ½ã€‚å®ƒå…è®¸ç”¨æˆ·åœ¨ä¸å®‰è£…å…¨å±€åŒ…çš„æƒ…å†µä¸‹ï¼Œè¿è¡Œå·²å®‰è£…åœ¨æœ¬åœ°é¡¹ç›®ä¸­çš„åŒ…æˆ–è€…è¿œç¨‹ä»“åº“ä¸­çš„åŒ…ã€‚</p><p>npxçš„ä½œç”¨æ˜¯åœ¨å‘½ä»¤è¡Œä¸­è¿è¡ŒnodeåŒ…ä¸­çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè€Œä¸éœ€è¦å…¨å±€å®‰è£…è¿™äº›åŒ…ã€‚è¿™å¯ä»¥ä½¿å¼€å‘äººå‘˜æ›´è½»æ¾åœ°ç®¡ç†åŒ…çš„ä¾èµ–å…³ç³»ï¼Œå¹¶ä¸”å¯ä»¥é¿å…å…¨å±€æ±¡æŸ“çš„é—®é¢˜ã€‚å®ƒè¿˜å¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„åŒ…ï¼Œè€Œä¸ä¼šå‡ºç°ç‰ˆæœ¬å†²çªçš„é—®é¢˜ã€‚</p></blockquote><p><strong>npxçš„ä½œç”¨</strong></p><ol><li><p>é¿å…å…¨å±€å®‰è£…</p></li><li><p>æ€»æ˜¯ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬</p></li><li><p>æ‰§è¡Œä»»æ„npmåŒ…</p></li><li><p>å¯ä»¥æ‰§è¡ŒGithub gistç­‰å…¬å¼€çš„JavaScriptæ–‡ä»¶</p></li></ol><h3 id="å‘å¸ƒnpmåŒ…"><a href="#å‘å¸ƒnpmåŒ…" class="headerlink" title="å‘å¸ƒnpmåŒ…"></a>å‘å¸ƒnpmåŒ…</h3><p><strong>æ­¥éª¤:</strong></p><ol><li><p>åˆ›å»ºnpmè´¦å·(æ³¨æ„æ˜¯npmå®˜æ–¹æº)</p></li><li><p>ç™»å½•npmè´¦å·</p></li><li><p><code>npm publish</code>å‘å¸ƒ</p></li></ol><h3 id="npmç§æœ"><a href="#npmç§æœ" class="headerlink" title="npmç§æœ"></a>npmç§æœ</h3><p>å¥½å¤„:</p><ul><li><p>å¯ä»¥ç¦»çº¿ä½¿ç”¨,ç§æœ‰åŒ–éƒ¨ç½²</p></li><li><p>æä¾›åŒ…çš„å®‰å…¨æ€§,æ›´å¥½çš„ç®¡ç†åŒ…</p></li><li><p>æé«˜åŒ…çš„ä¸‹è½½é€Ÿåº¦</p></li></ul><p><strong>æ­¥éª¤:</strong></p><ol><li><p>å®‰è£…verdaccio</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm i verdaccio -g<br></code></pre></td></tr></table></figure></li><li><p>å¯åŠ¨npmç§æœæœåŠ¡</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">verdaccio --listen 5000<br></code></pre></td></tr></table></figure></li><li><p>åˆ›å»ºnpmç§æœè´¦æˆ·</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm adduser --registry http://localhost:5000/<br></code></pre></td></tr></table></figure></li><li><p>å‘å¸ƒåˆ°npmç§æœ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm publish --registry http://localhost:5000/<br></code></pre></td></tr></table></figure></li></ol><p>æ³¨:å¦‚æœå·²ç»è®¾ç½®å¥½registryå¯ä»¥ç›´æ¥åˆ‡æ¢é•œåƒç„¶åæ›´æ–°</p><h2 id="Nodejsçš„æ¨¡å—åŒ–"><a href="#Nodejsçš„æ¨¡å—åŒ–" class="headerlink" title="Nodejsçš„æ¨¡å—åŒ–"></a>Nodejsçš„æ¨¡å—åŒ–</h2><p>Nodejsçš„æ¨¡å—åŒ–è§„èŒƒéµå¾ªä¸¤å¥—:<strong><code>CommonJS</code></strong> å’Œ <strong><code>ESModules</code></strong></p><h3 id="CommonJSè§„èŒƒ"><a href="#CommonJSè§„èŒƒ" class="headerlink" title="CommonJSè§„èŒƒ"></a>CommonJSè§„èŒƒ</h3><p>package.jsonä¸­è®¾ç½®å±æ€§<code>&quot;type&quot;</code>ä¸º<code>&quot;commonjs&quot;</code></p><p><strong>äº”ç§æ¨¡å¼</strong></p><ol><li><p>ä½¿ç”¨<code>require()</code>å¼•å…¥è‡ªå·±ç¼–å†™çš„æ¨¡å—</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./test.js&#x27;</span>)<br></code></pre></td></tr></table></figure></li><li><p>å¼•å…¥ç¬¬ä¸‰æ–¹æ¨¡å—</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> md5 = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;md5&quot;</span>)<br></code></pre></td></tr></table></figure></li><li><p>å¼•å…¥Nodejså†…ç½®æ¨¡å—</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;node:fs&quot;</span>)<br></code></pre></td></tr></table></figure></li><li><p>å¼•å…¥C++æ‰©å±•,addon,napi,node-gyp,.nodeç­‰</p></li><li><p>å¼•å…¥Jsonæ–‡ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> data = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./data.json&#x27;</span>)<br></code></pre></td></tr></table></figure></li></ol><p>ä½¿ç”¨ <strong><code>module.exports</code></strong> å¯¼å‡ºæ¨¡å—,ä¹Ÿå¯ä½¿ç”¨ES6çš„è§£æ„èµ‹å€¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>    <span class="hljs-attr">success</span>:<span class="hljs-number">1</span>,<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ESModulesè§„èŒƒ"><a href="#ESModulesè§„èŒƒ" class="headerlink" title="ESModulesè§„èŒƒ"></a>ESModulesè§„èŒƒ</h3><p>package.jsonä¸­è®¾ç½®å±æ€§<code>&quot;type&quot;</code>ä¸º<code>&quot;module&quot;</code></p><p><strong>å¯¼å…¥:</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;axios&quot;</span><br></code></pre></td></tr></table></figure><p>ESMä¸æ”¯æŒå¼•å…¥json,é«˜ç‰ˆæœ¬å¯ä»¥å¼ºå…¼å®¹ä½†éœ€è¦é¢å¤–çš„æ–­è¨€ä¸”ä¼šæŠ¥è­¦</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> json <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./data.json&#x27;</span> assert &#123;<span class="hljs-attr">type</span>:<span class="hljs-string">&quot;json&quot;</span>&#125;<br></code></pre></td></tr></table></figure><p><strong>å¯¼å‡º:</strong></p><p><code>export default</code>åªèƒ½æœ‰ä¸€ä¸ª</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>    success :<span class="hljs-number">1</span><br>&#125;<br></code></pre></td></tr></table></figure><p>è¦æŸ¥çœ‹æŸæ¨¡å—å¯¼å‡ºçš„æ‰€æœ‰å†…å®¹:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> all <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./module.js&#x27;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(all)<br></code></pre></td></tr></table></figure><h3 id="CJSå’ŒESMçš„åŒºåˆ«"><a href="#CJSå’ŒESMçš„åŒºåˆ«" class="headerlink" title="CJSå’ŒESMçš„åŒºåˆ«"></a>CJSå’ŒESMçš„åŒºåˆ«</h3><ol><li><p>Cjsæ˜¯åŸºäº<strong>è¿è¡Œæ—¶</strong>çš„åŒæ­¥åŠ è½½,ESMæ˜¯åŸºäº<strong>ç¼–è¯‘æ—¶</strong>çš„å¼‚æ­¥åŠ è½½.ä¸€èˆ¬æ¥è¯´,ESMä¸‹çš„importåªèƒ½åœ¨ä½œç”¨åŸŸæœ€é¡¶å±‚,è‹¥éœ€è¦åŠ¨æ€åŠ è½½,å¯ä»¥ä½¿ç”¨importçš„å‡½æ•°æ¨¡å¼(ä¼šè¿”å›ä¸€ä¸ªPromiseå¯¹è±¡).</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">if</span>(<span class="hljs-literal">true</span>)&#123;<br>    <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;./test.js&#x27;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span>=&gt;</span>&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res)<br>&#125;)<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>CJså¯ä»¥ä¿®æ”¹å€¼,ä½†ESMä¸è¡Œ</p></li><li><p>Cjsä¸å¯ä»¥Tree Shaking,ESMå¯ä»¥</p></li><li><p>Cjsçš„é¡¶å±‚<code>this</code>æŒ‡å‘æ¨¡å—æœ¬èº«,ESMé¡¶å±‚<code>this</code>æŒ‡å‘<code>undefined</code></p></li></ol><h2 id="å…¨å±€å˜é‡-å…¨å±€API"><a href="#å…¨å±€å˜é‡-å…¨å±€API" class="headerlink" title="å…¨å±€å˜é‡&amp;å…¨å±€API"></a>å…¨å±€å˜é‡&amp;å…¨å±€API</h2><p>åœ¨æµè§ˆå™¨ç¯å¢ƒä¸‹,å¯ä»¥ä½¿ç”¨<code>var</code>çš„å…³é”®è¯å°†å…¨å±€å˜é‡ç»‘å®šåˆ°<code>window</code>å¯¹è±¡ä¸Š,ä½†æ˜¯nodeå¹¶ä¸æ˜¯æµè§ˆå™¨ç¯å¢ƒ,å› æ­¤ä¸å­˜åœ¨BOMå’ŒDOM,è€Œä¸”ä½¿ç”¨<code>var</code>å®šä¹‰å…¨å±€å˜é‡ä¹Ÿä¼šå¯¼è‡´çŠ¶æ€æå‡çš„é—®é¢˜.</p><h3 id="å…¨å±€å˜é‡"><a href="#å…¨å±€å˜é‡" class="headerlink" title="å…¨å±€å˜é‡"></a>å…¨å±€å˜é‡</h3><p>åœ¨nodejsä¸­ä½¿ç”¨globalå®šä¹‰å…¨å±€å˜é‡.åœ¨ECMA2020ä¸­å¯ä½¿ç”¨<code>globalThis</code>ä½œä¸ºå…¨å±€å˜é‡,å¯ä»¥è‡ªåŠ¨åˆ‡æ¢.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">global</span>.<span class="hljs-property">name</span> = <span class="hljs-string">&quot;xxx&quot;</span>;<br></code></pre></td></tr></table></figure><h3 id="å…¨å±€API"><a href="#å…¨å±€API" class="headerlink" title="å…¨å±€API"></a>å…¨å±€API</h3><p>ç”±äºnodejsä¸­æ²¡æœ‰DOMå’ŒBOMï¼Œé™¤äº†è¿™äº›APIï¼Œå…¶ä»–çš„ECMAscriptAPIåŸºæœ¬éƒ½èƒ½ç”¨,ä¾‹å¦‚<code>setTimeout</code>,<code>Promise</code>,<code>Math</code>,<code>Console</code>ç­‰</p><h3 id="Nodejsä¸“æœ‰API"><a href="#Nodejsä¸“æœ‰API" class="headerlink" title="Nodejsä¸“æœ‰API"></a>Nodejsä¸“æœ‰API</h3><ol><li><p><strong><code>__dirname</code></strong><br>è¡¨ç¤ºå½“å‰æ¨¡å—çš„æ‰€åœ¨ç›®å½•çš„ç»å¯¹è·¯å¾„,<strong>ESMæ¨¡å¼ä¸‹ä¸å¯ä½¿ç”¨,å¯ç”¨process.cwd()ä»£æ›¿</strong></p></li><li><p><strong><code>__filename</code></strong></p></li></ol><p>Â Â Â Â   è¡¨ç¤ºå½“å‰æ¨¡å—æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼ŒåŒ…æ‹¬æ–‡ä»¶åå’Œæ–‡ä»¶æ‰©å±•å</p><blockquote><p><strong><code>__dirname</code>  <code>__filename</code> åªèƒ½åœ¨cjsä½¿ç”¨ esmè§„èŒƒæ²¡æœ‰è¿™ä¸¤ä¸ªå…¨å±€å˜é‡</strong></p></blockquote><ol start="3"><li><p><strong><code>process</code></strong><br>å¤„ç†è¿›ç¨‹ç›¸å…³çš„å†…å®¹</p><ol><li><p><code>process.argv</code>: è¿™æ˜¯ä¸€ä¸ªåŒ…å«å‘½ä»¤è¡Œå‚æ•°çš„æ•°ç»„ã€‚ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯Node.jsçš„æ‰§è¡Œè·¯å¾„ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯å½“å‰æ‰§è¡Œçš„JavaScriptæ–‡ä»¶çš„è·¯å¾„ï¼Œä¹‹åçš„å…ƒç´ æ˜¯ä¼ é€’ç»™è„šæœ¬çš„å‘½ä»¤è¡Œå‚æ•°ã€‚ </p></li><li><p><code>process.env</code>: è¿™æ˜¯ä¸€ä¸ªåŒ…å«å½“å‰ç¯å¢ƒå˜é‡çš„å¯¹è±¡ã€‚æ‚¨å¯ä»¥é€šè¿‡<code>process.env</code>è®¿é—®å¹¶æ“ä½œç¯å¢ƒå˜é‡ã€‚</p></li><li><p><code>process.cwd()</code>: è¿™ä¸ªæ–¹æ³•è¿”å›å½“å‰å·¥ä½œç›®å½•çš„è·¯å¾„ã€‚</p></li><li><p><code>process.on(event, listener)</code>: ç”¨äºæ³¨å†Œäº‹ä»¶ç›‘å¬å™¨ã€‚æ‚¨å¯ä»¥ä½¿ç”¨<code>process.on</code>ç›‘å¬è¯¸å¦‚<code>exit</code>ã€<code>uncaughtException</code>ç­‰äº‹ä»¶ï¼Œå¹¶åœ¨äº‹ä»¶å‘ç”Ÿæ—¶æ‰§è¡Œç›¸åº”çš„å›è°ƒå‡½æ•°ã€‚      </p></li><li><p><code>process.exit([code])</code>: ç”¨äºé€€å‡ºå½“å‰çš„Node.jsè¿›ç¨‹ã€‚æ‚¨å¯ä»¥æä¾›ä¸€ä¸ªå¯é€‰çš„é€€å‡ºç ä½œä¸ºå‚æ•°ã€‚</p></li><li><p><code>process.pid</code>: è¿™ä¸ªå±æ€§è¿”å›å½“å‰è¿›ç¨‹çš„PIDï¼ˆè¿›ç¨‹IDï¼‰ã€‚</p></li></ol><p>è¿™äº›åªæ˜¯<code>process</code>å¯¹è±¡çš„ä¸€äº›å¸¸ç”¨å±æ€§å’Œæ–¹æ³•ï¼Œè¿˜æœ‰å…¶ä»–è®¸å¤šå±æ€§å’Œæ–¹æ³•å¯ç”¨äºç›‘æ§è¿›ç¨‹ã€è®¾ç½®ä¿¡å·å¤„ç†ã€å‘é€IPCæ¶ˆæ¯ç­‰ã€‚<br>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>process</code>å¯¹è±¡æ˜¯ä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œå¯ä»¥åœ¨ä»»ä½•æ¨¡å—ä¸­ç›´æ¥è®¿é—®ï¼Œæ— éœ€å¯¼å…¥æˆ–å®šä¹‰ã€‚</p></li><li><p><strong><code>Buffer</code></strong></p><ol><li>åˆ›å»ºÂ <code>Buffer</code>Â å®ä¾‹ï¼š</li></ol><ul><li><code>Buffer.alloc(size[, fill[, encoding]])</code>: åˆ›å»ºä¸€ä¸ªæŒ‡å®šå¤§å°çš„æ–°çš„<code>Buffer</code>å®ä¾‹ï¼Œåˆå§‹å†…å®¹ä¸ºé›¶ã€‚<code>fill</code>å‚æ•°å¯ç”¨äºå¡«å……ç¼“å†²åŒºï¼Œ<code>encoding</code>å‚æ•°æŒ‡å®šå¡«å……çš„å­—ç¬¦ç¼–ç ã€‚</li><li><code>Buffer.from(array)</code>: åˆ›å»ºä¸€ä¸ªåŒ…å«ç»™å®šæ•°ç»„çš„<code>Buffer</code>å®ä¾‹ã€‚</li><li><code>Buffer.from(string[, encoding])</code>: åˆ›å»ºä¸€ä¸ªåŒ…å«ç»™å®šå­—ç¬¦ä¸²çš„<code>Buffer</code>å®ä¾‹ã€‚</li></ul><ol start="2"><li>è¯»å–å’Œå†™å…¥æ•°æ®ï¼š</li></ol><ul><li><code>buffer[index]</code>: é€šè¿‡ç´¢å¼•è¯»å–æˆ–å†™å…¥<code>Buffer</code>å®ä¾‹ä¸­çš„ç‰¹å®šå­—èŠ‚ã€‚</li><li><code>buffer.length</code>: è·å–<code>Buffer</code>å®ä¾‹çš„å­—èŠ‚é•¿åº¦ã€‚</li><li><code>buffer.toString([encoding[, start[, end]]])</code>: å°†<code>Buffer</code>å®ä¾‹è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚</li></ul><ol start="3"><li>è½¬æ¢æ•°æ®ï¼š</li></ol><ul><li><code>buffer.toJSON()</code>: å°†Bufferå®ä¾‹è½¬æ¢ä¸ºJSONå¯¹è±¡ã€‚</li><li><code>buffer.slice([start[, end]])</code>: è¿”å›ä¸€ä¸ªæ–°çš„Bufferå®ä¾‹ï¼Œå…¶ä¸­åŒ…å«åŸå§‹Bufferå®ä¾‹çš„éƒ¨åˆ†å†…å®¹ã€‚</li></ul><ol start="4"><li>å…¶ä»–ï¼š</li></ol><ul><li><code>Buffer.isBuffer(obj)</code>: æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯Bufferå®ä¾‹ã€‚</li><li><code>Buffer.concat(list[, totalLength])</code>: å°†ä¸€ç»„Bufferå®ä¾‹æˆ–å­—èŠ‚æ•°ç»„è¿æ¥èµ·æ¥å½¢æˆä¸€ä¸ªæ–°çš„Bufferå®ä¾‹ã€‚</li></ul></li></ol><h2 id="CSR-SSR-SEO"><a href="#CSR-SSR-SEO" class="headerlink" title="CSR SSR SEO"></a>CSR SSR SEO</h2><h3 id="æ¦‚è¿°-1"><a href="#æ¦‚è¿°-1" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p>åœ¨nodeç¯å¢ƒä¸‹æ— æ³•ç›´æ¥æ“ä½œDOMå’ŒBOM,å¯ä»¥é€šè¿‡<code>jsdom</code>å®ç°,æ¨¡æ‹Ÿæµè§ˆå™¨çš„ç¯å¢ƒ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;node:fs&#x27;</span>)<br><span class="hljs-keyword">const</span> &#123; <span class="hljs-variable constant_">JSDOM</span> &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;jsdom&#x27;</span>)<br><br><span class="hljs-keyword">const</span> dom = <span class="hljs-keyword">new</span> <span class="hljs-title function_">JSDOM</span>(<span class="hljs-string">`&lt;!DOCTYPE html&gt;&lt;div id=&#x27;app&#x27;&gt;&lt;/div&gt;`</span>)<br><br><span class="hljs-keyword">const</span> <span class="hljs-variable language_">document</span> = dom.<span class="hljs-property">window</span>.<span class="hljs-property">document</span><br><br><span class="hljs-keyword">const</span> <span class="hljs-variable language_">window</span> = dom.<span class="hljs-property">window</span><br><br><span class="hljs-title function_">fetch</span>(<span class="hljs-string">&#x27;https://api.thecatapi.com/v1/images/search?limit=10&amp;page=1&#x27;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>()).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> app = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;app&#x27;</span>)<br>    data.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span>=&gt;</span>&#123;<br>       <span class="hljs-keyword">const</span> img =  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;img&#x27;</span>)<br>       img.<span class="hljs-property">src</span> = item.<span class="hljs-property">url</span><br>       img.<span class="hljs-property">style</span>.<span class="hljs-property">width</span> = <span class="hljs-string">&#x27;200px&#x27;</span><br>       img.<span class="hljs-property">style</span>.<span class="hljs-property">height</span> = <span class="hljs-string">&#x27;200px&#x27;</span><br>       app.<span class="hljs-title function_">appendChild</span>(img)<br>    &#125;)<br>    fs.<span class="hljs-title function_">writeFileSync</span>(<span class="hljs-string">&#x27;./index.html&#x27;</span>, dom.<span class="hljs-title function_">serialize</span>())<br>&#125;)<br><br><br></code></pre></td></tr></table></figure><h3 id="CSR-SSR"><a href="#CSR-SSR" class="headerlink" title="CSR&#x2F;SSR"></a>CSR&#x2F;SSR</h3><p>æˆ‘ä»¬ä¸Šé¢çš„æ“ä½œå±äºSSRÂ <code>ï¼ˆServer-Side Renderingï¼‰</code>æœåŠ¡ç«¯æ¸²æŸ“è¯·æ±‚æ•°æ®å’Œæ‹¼è£…éƒ½åœ¨æœåŠ¡ç«¯å®Œæˆï¼Œè€Œæˆ‘ä»¬çš„Vue,react ç­‰æ¡†æ¶è¿™é‡Œä¸è°ˆ(nuxtjs,nextjs)ï¼Œæ˜¯åœ¨å®¢æˆ·ç«¯å®Œæˆæ¸²æŸ“æ‹¼æ¥çš„å±äºCSR<code>ï¼ˆClient-Side Renderingï¼‰</code>å®¢æˆ·ç«¯æ¸²æŸ“.</p><p>CSR å’Œ SSR åŒºåˆ«</p><ol><li><p>é¡µé¢åŠ è½½æ–¹å¼ï¼š</p><ul><li>CSRï¼šåœ¨ CSR ä¸­ï¼ŒæœåŠ¡å™¨è¿”å›ä¸€ä¸ªåˆå§‹çš„ HTML é¡µé¢ï¼Œç„¶åæµè§ˆå™¨ä¸‹è½½å¹¶æ‰§è¡Œ JavaScript æ–‡ä»¶ï¼ŒJavaScript è´Ÿè´£åŠ¨æ€ç”Ÿæˆå¹¶æ›´æ–°é¡µé¢å†…å®¹ã€‚è¿™æ„å‘³ç€åˆå§‹é¡µé¢åŠ è½½æ—¶ï¼Œå†…å®¹è¾ƒå°‘ï¼Œé¡µé¢ç»“æ„å’Œæ ·å¼å¯èƒ½å­˜åœ¨ä¸€å®šçš„å»¶è¿Ÿã€‚</li><li>SSRï¼šåœ¨ SSR ä¸­ï¼ŒæœåŠ¡å™¨åœ¨è¿”å›ç»™æµè§ˆå™¨ä¹‹å‰ï¼Œä¼šé¢„å…ˆåœ¨æœåŠ¡å™¨ç«¯ç”Ÿæˆå®Œæ•´çš„ HTML é¡µé¢ï¼ŒåŒ…å«äº†åˆå§‹çš„é¡µé¢å†…å®¹ã€‚æµè§ˆå™¨æ¥æ”¶åˆ°çš„æ˜¯å·²ç»æ¸²æŸ“å¥½çš„ HTML é¡µé¢ï¼Œå› æ­¤åˆå§‹åŠ è½½çš„é€Ÿåº¦è¾ƒå¿«ã€‚</li></ul></li><li><p>å†…å®¹ç”Ÿæˆå’Œæ¸²æŸ“ï¼š</p><ul><li>CSRï¼šåœ¨ CSR ä¸­ï¼Œé¡µé¢çš„å†…å®¹ç”Ÿæˆå’Œæ¸²æŸ“æ˜¯ç”±å®¢æˆ·ç«¯çš„ JavaScript è„šæœ¬è´Ÿè´£çš„ã€‚å½“æ•°æ®å˜åŒ–æ—¶ï¼ŒJavaScript ä¼šé‡æ–°ç”Ÿæˆå¹¶æ›´æ–° DOMï¼Œä»è€Œå®ç°å†…å®¹çš„åŠ¨æ€å˜åŒ–ã€‚è¿™ç§æ–¹å¼ä½¿å¾—å‰ç«¯å¼€å‘æ›´åŠ çµæ´»ï¼Œå¯ä»¥åˆ›å»ºå¤æ‚çš„äº¤äº’å’ŒåŠ¨ç”»æ•ˆæœã€‚</li><li>SSRï¼šåœ¨ SSR ä¸­ï¼ŒæœåŠ¡å™¨åœ¨æ¸²æŸ“é¡µé¢æ—¶ä¼šæ‰§è¡Œåº”ç”¨ç¨‹åºçš„ä»£ç ï¼Œå¹¶ç”Ÿæˆæœ€ç»ˆçš„ HTML é¡µé¢ã€‚è¿™æ„å‘³ç€é¡µé¢çš„åˆå§‹å†…å®¹æ˜¯ç”±æœåŠ¡å™¨ç”Ÿæˆçš„ï¼Œå¯¹äºä¸€äº›é™æ€æˆ–å°‘å˜çš„å†…å®¹ï¼Œå¯ä»¥æä¾›æ›´å¥½çš„é¦–æ¬¡åŠ è½½æ€§èƒ½ã€‚</li></ul></li><li><p>ç”¨æˆ·äº¤äº’å’Œä½“éªŒï¼š</p><ul><li>CSRï¼šåœ¨ CSR ä¸­ï¼Œä¸€æ—¦åˆå§‹é¡µé¢åŠ è½½å®Œæˆï¼Œåç»­çš„ç”¨æˆ·äº¤äº’é€šå¸¸æ˜¯é€šè¿‡ AJAX æˆ– WebSocket ä¸æœåŠ¡å™¨è¿›è¡Œæ•°æ®äº¤äº’ï¼Œç„¶åé€šè¿‡ JavaScript æ›´æ–°é¡µé¢å†…å®¹ã€‚è¿™ç§æ–¹å¼å¯ä»¥æä¾›æ›´å¿«çš„é¡µé¢åˆ‡æ¢å’Œå“åº”é€Ÿåº¦ï¼Œä½†å¯¹äºæœç´¢å¼•æ“çˆ¬è™«å’Œ SEOï¼ˆæœç´¢å¼•æ“ä¼˜åŒ–ï¼‰æ¥è¯´ï¼Œå¯èƒ½éœ€è¦ä¸€äº›é¢å¤–çš„å¤„ç†ã€‚</li><li>SSRï¼šåœ¨ SSR ä¸­ï¼Œç”±äºé¡µé¢çš„åˆå§‹å†…å®¹æ˜¯ç”±æœåŠ¡å™¨ç”Ÿæˆçš„ï¼Œå› æ­¤ç”¨æˆ·äº¤äº’å¯ä»¥ç›´æ¥åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼Œç„¶åæœåŠ¡å™¨è¿”å›æ›´æ–°åçš„é¡µé¢ã€‚è¿™æ ·å¯ä»¥æä¾›æ›´å¥½çš„é¦–æ¬¡åŠ è½½æ€§èƒ½å’Œå¯¹æœç´¢å¼•æ“å‹å¥½çš„å†…å®¹ã€‚</li></ul></li></ol><p>CSR åº”ç”¨ä¾‹å¦‚ ToB åå°ç®¡ç†ç³»ç»Ÿ å¤§å±å¯è§†åŒ– éƒ½å¯ä»¥é‡‡ç”¨CSRæ¸²æŸ“ä¸éœ€è¦å¾ˆé«˜çš„SEOæ”¯æŒ</p><p>SSR åº”ç”¨ä¾‹å¦‚ å†…å®¹å¯†é›†å‹åº”ç”¨å¤§éƒ¨åˆ†æ˜¯ToC æ–°é—»ç½‘ç«™ ï¼Œåšå®¢ç½‘ç«™ï¼Œç”µå­å•†åŠ¡ï¼Œé—¨æˆ·ç½‘ç«™éœ€è¦æ›´é«˜çš„SEOæ”¯æŒ</p><h2 id="Path-è·¯å¾„æ¨¡å—"><a href="#Path-è·¯å¾„æ¨¡å—" class="headerlink" title="Path-è·¯å¾„æ¨¡å—"></a>Path-è·¯å¾„æ¨¡å—</h2><blockquote><p>pathæ¨¡å—åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿæ˜¯æœ‰å·®å¼‚çš„(Windows&#x2F;POSIX)</p></blockquote><h3 id="POSIX"><a href="#POSIX" class="headerlink" title="POSIX"></a>POSIX</h3><p>Unix,like-unix,macOS,Linux,WSLéƒ½éµå¾ªPOSIXæ ‡å‡†,ä½¿ç”¨æ­£æ–œæ <code>/</code></p><h3 id="Win32"><a href="#Win32" class="headerlink" title="Win32"></a>Win32</h3><p>ä½¿ç”¨åŒåæ–œæ <code>\\</code></p><h3 id="å…¼å®¹æ€§å¤„ç†æ–¹æ³•"><a href="#å…¼å®¹æ€§å¤„ç†æ–¹æ³•" class="headerlink" title="å…¼å®¹æ€§å¤„ç†æ–¹æ³•"></a>å…¼å®¹æ€§å¤„ç†æ–¹æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;path&#x27;</span>)<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(path.<span class="hljs-property">win32</span>.<span class="hljs-title function_">basename</span>(<span class="hljs-string">&#x27;\\foo\\bar\\baz\\xm.html&#x27;</span>))<br></code></pre></td></tr></table></figure><h3 id="Pathæ¨¡å—å¸¸ç”¨æ–¹æ³•"><a href="#Pathæ¨¡å—å¸¸ç”¨æ–¹æ³•" class="headerlink" title="Pathæ¨¡å—å¸¸ç”¨æ–¹æ³•"></a>Pathæ¨¡å—å¸¸ç”¨æ–¹æ³•</h3><ol><li><p><code>basename</code> :è¿”å›ç»™å®šè·¯å¾„çš„æ–‡ä»¶å(å«æ–‡ä»¶æ‰©å±•å)</p></li><li><p><code>dirname</code>:è¿”å›è·¯å¾„çš„ç›®å½•å</p></li><li><p><code>extname</code>:è¿”å›è·¯å¾„çš„æ‰©å±•å(å¸¦ç‚¹,å½¢å¦‚<code>.html</code>)<br><em>å¦‚æœæ²¡æœ‰,è¿”å›ç©ºå­—ç¬¦ä¸²;å¦‚æœæœ‰å¤šä¸ªç‚¹,è¿”å›æœ€åä¸€ä¸ªç‚¹åé¢çš„å†…å®¹</em></p></li><li><p><code>path.join(params)</code>:å°†å¤šä¸ªè·¯å¾„å­—ç¬¦ä¸²åˆå¹¶ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²</p></li><li><p><code>path.resolve(params)</code>:è§£æè·¯å¾„,è¿”å›ç»å¯¹è·¯å¾„;è‹¥æœ‰å¤šä¸ªè·¯å¾„å‚æ•°åˆ™è¿”å›æœ€åä¸€ä¸ª;è‹¥åªæœ‰ä¸€ä¸ªç›¸å¯¹è·¯å¾„,è¿”å›å½“å‰å·¥ä½œç›®å½•çš„ç»å¯¹è·¯å¾„.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;path&#x27;</span>)<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(path.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">&#x27;/a&#x27;</span>))<br><span class="hljs-comment">// D:\a</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(path.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">&#x27;./index.js&#x27;</span>))<br><span class="hljs-comment">// D:\Project\Program\Node\index.js</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(path.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">&#x27;D:/Project/Program/Node&#x27;</span>,<span class="hljs-string">&#x27;./node_modules&#x27;</span>,<span class="hljs-string">&#x27;./.bin/tldts&#x27;</span>))<br><span class="hljs-comment">// D:\Project\Program\Node\node_modules\.bin\tldts</span><br></code></pre></td></tr></table></figure></li><li><p><code>path.parse()</code>:è§£æè·¯å¾„,è¿”å›å¯¹è±¡</p></li><li><p><code>path.format()</code>:æ ¹æ®ä¼ å…¥çš„å¯¹è±¡è§£æè·¯å¾„</p></li></ol><h2 id="OS-ç³»ç»Ÿæ¨¡å—"><a href="#OS-ç³»ç»Ÿæ¨¡å—" class="headerlink" title="OS-ç³»ç»Ÿæ¨¡å—"></a>OS-ç³»ç»Ÿæ¨¡å—</h2><p>OSæ¨¡å—ä¸»è¦æ˜¯å’Œæ“ä½œç³»ç»Ÿäº¤äº’çš„æ¨¡å—</p><table><thead><tr><th>åºå·</th><th>API</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>1</td><td><strong>os.type()</strong></td><td>å®ƒåœ¨ Linux ä¸Šè¿”å›Â <code>&#39;Linux&#39;</code>ï¼Œåœ¨ macOS ä¸Šè¿”å›Â <code>&#39;Darwin&#39;</code>ï¼Œåœ¨ Windows ä¸Šè¿”å›Â <code>&#39;Windows_NT&#39;</code></td></tr><tr><td>2</td><td><strong>os.platform()</strong></td><td>è¿”å›æ ‡è¯†ä¸ºå…¶ç¼–è¯‘ Node.js äºŒè¿›åˆ¶æ–‡ä»¶çš„æ“ä½œç³»ç»Ÿå¹³å°çš„å­—ç¬¦ä¸²ã€‚ è¯¥å€¼åœ¨ç¼–è¯‘æ—¶è®¾ç½®ã€‚ å¯èƒ½çš„å€¼ä¸ºÂ <code>&#39;aix&#39;</code>ã€<code>&#39;darwin&#39;</code>ã€<code>&#39;freebsd&#39;</code>ã€<code>&#39;linux&#39;</code>ã€<code>&#39;openbsd&#39;</code>ã€<code>&#39;sunos&#39;</code>ã€ä»¥åŠÂ <code>&#39;win32&#39;</code></td></tr><tr><td>3</td><td><strong>os.release()</strong></td><td>è¿”å›æ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬ä¾‹å¦‚10.xxxx win10</td></tr><tr><td>4</td><td><strong>os.homedir()</strong></td><td>è¿”å›ç”¨æˆ·ç›®å½• ä¾‹å¦‚c:\user\xiaoman åŸç†å°±æ˜¯ windowsÂ <code>echo %USERPROFILE%</code>Â posix $HOME</td></tr><tr><td>5</td><td><strong>os.arch()</strong></td><td>è¿”å›cpuçš„æ¶æ„ å¯èƒ½çš„å€¼ä¸ºÂ <code>&#39;arm&#39;</code>ã€<code>&#39;arm64&#39;</code>ã€<code>&#39;ia32&#39;</code>ã€<code>&#39;mips&#39;</code>ã€<code>&#39;mipsel&#39;</code>ã€<code>&#39;ppc&#39;</code>ã€<code>&#39;ppc64&#39;</code>ã€<code>&#39;s390&#39;</code>ã€<code>&#39;s390x&#39;</code>ã€ä»¥åŠÂ <code>&#39;x64&#39;</code></td></tr><tr><td>6</td><td><strong>os.cpus()</strong></td><td>è¿”å›CPUçš„çº¿ç¨‹åŠè¯¦ç»†ä¿¡æ¯</td></tr><tr><td>7</td><td><strong>os.networkInterfaces()</strong></td><td>è¿”å›ç½‘ç»œä¿¡æ¯</td></tr></tbody></table><h2 id="Process-è¿›ç¨‹æ¨¡å—"><a href="#Process-è¿›ç¨‹æ¨¡å—" class="headerlink" title="Process-è¿›ç¨‹æ¨¡å—"></a>Process-è¿›ç¨‹æ¨¡å—</h2><ol><li><p><code>process.arch()</code>:è¿”å›æ“ä½œç³»ç»ŸCPUæ¶æ„</p></li><li><p><code>process.cwd()</code>:è¿”å›å½“å‰çš„å·¥ä½œç›®å½•,å¯ä»£æ›¿<code>__dirname</code>ä½¿ç”¨</p></li><li><p><code>process.argv()</code>:è·å–æ‰§è¡Œè¿›ç¨‹åé¢çš„å‚æ•° è¿”å›æ˜¯ä¸€ä¸ªæ•°ç»„ åé¢æˆ‘ä»¬è®²åˆ°å‘½ä»¤è¡Œäº¤äº’å·¥å…·çš„æ—¶å€™ä¼šå¾ˆæœ‰ç”¨ï¼Œå„ç§cliè„šæ‰‹æ¶ä¹Ÿæ˜¯ä½¿ç”¨è¿™ç§æ–¹å¼æ¥å—é…ç½®å‚æ•°ä¾‹å¦‚webpack</p></li><li><p><code>process.memoryUsage()</code>:ç”¨äºè·å–å½“å‰è¿›ç¨‹çš„å†…å­˜ä½¿ç”¨æƒ…å†µã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«äº†å„ç§å†…å­˜ä½¿ç”¨æŒ‡æ ‡ï¼Œå¦‚ rssï¼ˆResident Set Sizeï¼Œå¸¸é©»é›†å¤§å°ï¼‰ã€heapTotalï¼ˆå †åŒºæ€»å¤§å°ï¼‰ã€heapUsedï¼ˆå·²ç”¨å †å¤§å°ï¼‰å’Œ externalï¼ˆå¤–éƒ¨å†…å­˜ä½¿ç”¨é‡ï¼‰ç­‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js">&#123;<br>    <span class="hljs-attr">rss</span>: <span class="hljs-number">30932992</span>, <span class="hljs-comment">// å¸¸é©»é›†å¤§å° è¿™æ˜¯è¿›ç¨‹å½“å‰å ç”¨çš„ç‰©ç†å†…å­˜é‡ï¼Œä¸åŒ…æ‹¬å…±äº«å†…å­˜å’Œé¡µé¢ç¼“å­˜ã€‚å®ƒåæ˜ äº†è¿›ç¨‹å®é™…å ç”¨çš„ç‰©ç†å†…å­˜å¤§å°</span><br>    <span class="hljs-attr">heapTotal</span>: <span class="hljs-number">6438912</span>, <span class="hljs-comment">//å †åŒºæ€»å¤§å° è¿™æ˜¯ V8 å¼•æ“ä¸º JavaScript å¯¹è±¡åˆ†é…çš„å†…å­˜é‡ã€‚å®ƒåŒ…æ‹¬äº†å·²ç”¨å’Œæœªç”¨çš„å †å†…å­˜</span><br>    <span class="hljs-attr">heapUsed</span>: <span class="hljs-number">5678624</span>,  <span class="hljs-comment">//å·²ç”¨å †å¤§å°</span><br>    <span class="hljs-attr">external</span>: <span class="hljs-number">423221</span>, <span class="hljs-comment">//å¤–éƒ¨å†…å­˜ä½¿ç”¨é‡ è¿™éƒ¨åˆ†å†…å­˜ä¸æ˜¯ç”± Node.js è¿›ç¨‹ç›´æ¥åˆ†é…çš„ï¼Œè€Œæ˜¯ç”±å…¶ä»– C/C++ å¯¹è±¡æˆ–ç³»ç»Ÿåˆ†é…çš„</span><br>    <span class="hljs-attr">arrayBuffers</span>: <span class="hljs-number">17606</span> <span class="hljs-comment">//æ˜¯ç”¨äºå¤„ç†äºŒè¿›åˆ¶æ•°æ®çš„å¯¹è±¡ç±»å‹ï¼Œå®ƒä½¿ç”¨äº† JavaScript ä¸­çš„ ArrayBuffer æ¥å£ã€‚è¿™ä¸ªå±æ€§æ˜¾ç¤ºäº†å½“å‰è¿›ç¨‹ä¸­ ArrayBuffers çš„æ•°é‡</span><br>  &#125;<br><br></code></pre></td></tr></table></figure></li><li><p><code>process.exit()</code>:é€€å‡ºè¿›ç¨‹</p></li><li><p><code>process.kill(pid)</code>:æ€æ­»è¿›ç¨‹</p></li><li><p><code>process.env()</code>:è·å–æˆ–ä¿®æ”¹å½“å‰æ“ä½œç³»ç»Ÿçš„ç¯å¢ƒå˜é‡,ä½†ä¿®æ”¹åªåœ¨å½“å‰è¿›ç¨‹ç”Ÿæ•ˆ,ä¸ä¼šçœŸæ­£å½±å“ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡.</p></li></ol><p><strong>æ³¨:</strong> å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“<code>cross-env</code>å®ç°ç¯å¢ƒå˜é‡çš„åˆ‡æ¢</p><h2 id="child-process-å­è¿›ç¨‹æ¨¡å—"><a href="#child-process-å­è¿›ç¨‹æ¨¡å—" class="headerlink" title="child_process-å­è¿›ç¨‹æ¨¡å—"></a>child_process-å­è¿›ç¨‹æ¨¡å—</h2><ol><li><p><code>exec(&#39;command&#39;,(err,stdout,stderr)=&gt;&#123;&#125;)</code>åœ¨shellæ‰§è¡Œå‘½ä»¤,å¼‚æ­¥æ–¹æ³•,æœ‰å›è°ƒå‡½æ•°,<code>stdout</code>æ˜¯è¾“å‡º,<code>stderr</code>æ˜¯é”™è¯¯ä¿¡æ¯.</p></li><li><p><code>execSync()</code>:åŠŸèƒ½åŒä¸Š,ä½†æ˜¯åŒæ­¥æ–¹æ³•,ä¸éœ€è¦å›è°ƒå‡½æ•°.</p></li><li><p><code>spawn()</code>:æ‰§è¡Œå‘½ä»¤(shellå‘½ä»¤æ— ä¸Šé™,è¿”å›æµ,å®æ—¶è¿”å›)</p></li><li><p><code>spawnSync()</code>:æ‰§è¡Œå‘½ä»¤(åŒæ­¥æ–¹æ³•)<br>cwd &lt;string&gt; å­è¿›ç¨‹çš„å½“å‰å·¥ä½œç›®å½•ã€‚<br>env &lt;Object&gt; ç¯å¢ƒå˜é‡é”®å€¼å¯¹ã€‚<br>encoding &lt;string&gt; é»˜è®¤ä¸º â€˜utf8â€™ã€‚<br>shell &lt;string&gt; ç”¨äºæ‰§è¡Œå‘½ä»¤çš„ shellã€‚ åœ¨ UNIX ä¸Šé»˜è®¤ä¸º â€˜&#x2F;bin&#x2F;shâ€™ï¼Œåœ¨ Windows ä¸Šé»˜è®¤ä¸º process.env.ComSpecã€‚ è¯¦è§ Shell Requirements ä¸ Default Windows Shellã€‚<br>timeout &lt;number&gt; é»˜è®¤ä¸º 0ã€‚<br>maxBuffer &lt;number&gt; stdout æˆ– stderr å…è®¸çš„æœ€å¤§å­—èŠ‚æ•°ã€‚ é»˜è®¤ä¸º 200*1024ã€‚ å¦‚æœè¶…è¿‡é™åˆ¶ï¼Œåˆ™å­è¿›ç¨‹ä¼šè¢«ç»ˆæ­¢ã€‚ æŸ¥çœ‹è­¦å‘Šï¼š maxBuffer and Unicodeã€‚<br>killSignal &lt;string&gt; | &lt;integer&gt; é»˜è®¤ä¸º â€˜SIGTERMâ€™ã€‚<br>uid &lt;number&gt; è®¾ç½®è¯¥è¿›ç¨‹çš„ç”¨æˆ·æ ‡è¯†ã€‚ï¼ˆè¯¦è§ setuid(2)ï¼‰<br>gid &lt;number&gt; è®¾ç½®è¯¥è¿›ç¨‹çš„ç»„æ ‡è¯†ã€‚ï¼ˆè¯¦è§ setgid(2)ï¼‰</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> &#123;spawn&#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;child_process&#x27;</span>)<br><br><span class="hljs-keyword">const</span> &#123;stdout&#125; = <span class="hljs-title function_">spawn</span>(<span class="hljs-string">&#x27;netstat&#x27;</span>)<br><br>stdout.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;data&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">msg</span>)=&gt;</span>&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg.<span class="hljs-title function_">toString</span>())<br>&#125;)<br><br>stdout.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;close&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">msg</span>)=&gt;</span>&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;End&quot;</span>)<br>&#125;)<br></code></pre></td></tr></table></figure><ol start="5"><li><code>execFile()</code>æ‰§è¡Œè„šæœ¬æ–‡ä»¶</li><li><code>execFileSync()</code>:åŒä¸Š,åŒæ­¥æ–¹æ³•</li><li><code>fork()</code>:åˆ›å»ºå­è¿›ç¨‹,ä½†ä»…é™äºjsæ¨¡å—,çˆ¶å­è¿›ç¨‹å¯ç›¸äº’é€šä¿¡</li></ol><h2 id="Events-äº‹ä»¶æ¨¡å—"><a href="#Events-äº‹ä»¶æ¨¡å—" class="headerlink" title="Events-äº‹ä»¶æ¨¡å—"></a>Events-äº‹ä»¶æ¨¡å—</h2><p>Node.jsæ ¸å¿ƒAPIéƒ½é‡‡ç”¨å¼‚æ­¥äº‹ä»¶é©±åŠ¨æ¶æ„,é€šè¿‡æœ‰æ•ˆçš„æ–¹æ³•ç›‘å¬äº‹ä»¶çŠ¶æ€çš„å˜åŒ–,åœ¨å˜åŒ–æ—¶åšå‡ºç›¸åº”çš„åŠ¨ä½œ.</p><h3 id="äº‹ä»¶æ¨¡å‹"><a href="#äº‹ä»¶æ¨¡å‹" class="headerlink" title="äº‹ä»¶æ¨¡å‹"></a>äº‹ä»¶æ¨¡å‹</h3><p><code>å‘å¸ƒ-è®¢é˜…è®¾è®¡æ¨¡å¼</code></p><img title="" src="./Node-jså­¦ä¹ ç¬”è®°/re-sub.webp" alt=""><p>å½“ä¸€ä¸ªå‘å¸ƒè€…æœ‰æ–°æ¶ˆæ¯æ—¶ï¼Œå°±å°†è¿™ä¸ªæ¶ˆæ¯å‘å¸ƒåˆ°è°ƒåº¦ä¸­å¿ƒã€‚è°ƒåº¦ä¸­å¿ƒå°±ä¼šå°†è¿™ä¸ªæ¶ˆæ¯é€šçŸ¥ç»™æ‰€æœ‰è®¢é˜…è€…ã€‚è¿™å°±å®ç°äº†å‘å¸ƒè€…å’Œè®¢é˜…è€…ä¹‹é—´çš„è§£è€¦ï¼Œå‘å¸ƒè€…å’Œè®¢é˜…è€…ä¸å†ç›´æ¥ä¾èµ–äºå½¼æ­¤ï¼Œä»–ä»¬å¯ä»¥ç‹¬ç«‹åœ°æ‰©å±•è‡ªå·±.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs js"><br><span class="hljs-keyword">const</span> eventEmitter = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;events&#x27;</span>)<br><br><span class="hljs-comment">// å‘å¸ƒè®¢é˜…æ¨¡å¼ off on emit once</span><br><br><span class="hljs-keyword">const</span> bus = <span class="hljs-keyword">new</span> <span class="hljs-title function_">eventEmitter</span>()<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">fn</span> = (<span class="hljs-params">name</span>)=&gt;&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name)<br>&#125;<br><br><br><span class="hljs-comment">//è®¢é˜…ä¸€ä¸ªäº‹ä»¶</span><br>bus.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;test&#x27;</span>,fn)<br><span class="hljs-comment">//ç§»é™¤ä¸€ä¸ªäº‹ä»¶è®¢é˜…</span><br>bus.<span class="hljs-title function_">off</span>(<span class="hljs-string">&#x27;test&#x27;</span>,fn)<br><span class="hljs-comment">//ä»…æ‰§è¡Œä¸€æ¬¡</span><br>bus.<span class="hljs-title function_">once</span>(<span class="hljs-string">&#x27;testonce&#x27;</span>,<span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Only run once.&quot;</span>)<br>&#125;)<br><br><span class="hljs-comment">//å‘å¸ƒäº‹ä»¶</span><br>bus.<span class="hljs-title function_">emit</span>(<span class="hljs-string">&#x27;test&#x27;</span>,<span class="hljs-string">&quot;xm&quot;</span>)<br><br>bus.<span class="hljs-title function_">emit</span>(<span class="hljs-string">&#x27;testonce&#x27;</span>)<br>bus.<span class="hljs-title function_">emit</span>(<span class="hljs-string">&#x27;testonce&#x27;</span>)<br></code></pre></td></tr></table></figure><p>ç›‘å¬æ¶ˆæ¯æ•°é‡é»˜è®¤æ˜¯<strong>10</strong>ä¸ª,å¯ä»¥é€šè¿‡è°ƒç”¨<code>setMaxListeners</code>ä¼ å…¥æ•°é‡.</p><h2 id="Util-å·¥å…·æ¨¡å—"><a href="#Util-å·¥å…·æ¨¡å—" class="headerlink" title="Util-å·¥å…·æ¨¡å—"></a>Util-å·¥å…·æ¨¡å—</h2><p>utilæ˜¯Nodejså†…éƒ¨æä¾›çš„å®ç”¨å·¥å…·ç±»API.</p><ol><li><strong><code>util.promisify()</code></strong> :å°†å›è°ƒå‡½æ•°åŒ…è£…ä¸ºPromiseç±»å‹</li></ol><p><em>æ³¨:</em> å¦‚æœæœ‰å¤šä¸ªè¿”å›å€¼,resä¸ºjså¯¹è±¡;è‹¥åªæœ‰ä¸€ä¸ªè¿”å›å€¼,reså³æ˜¯æœ¬èº«</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; exec &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;node:child_process&#x27;</span><br><span class="hljs-keyword">import</span> util <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;node:util&#x27;</span><br><br><span class="hljs-keyword">const</span> execPromise = util.<span class="hljs-title function_">promisify</span>(exec)<br><br><span class="hljs-title function_">execPromise</span>(<span class="hljs-string">&#x27;node -v&#x27;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span>=&gt;</span>&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res,<span class="hljs-string">&#x27;res&#x27;</span>)<br>&#125;).<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span>=&gt;</span>&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err,<span class="hljs-string">&#x27;err&#x27;</span>)<br>&#125;)<br><br></code></pre></td></tr></table></figure><ol start="2"><li><strong><code>util.callbackify</code></strong> :å°†promiseç±»å‹çš„æ–¹æ³•å˜æˆ å›è°ƒå‡½æ•°ã€‚</li><li><strong><code>util.format</code></strong>:è¾“å…¥æ ¼å¼åŒ–<ul><li><code>%s</code>:Â <code>String</code>Â å°†ç”¨äºè½¬æ¢é™¤Â <code>BigInt</code>ã€<code>Object</code>Â å’ŒÂ <code>-0</code>Â ä¹‹å¤–çš„æ‰€æœ‰å€¼ã€‚Â <code>BigInt</code>Â å€¼å°†ç”¨Â <code>n</code>Â è¡¨ç¤ºï¼Œæ²¡æœ‰ç”¨æˆ·å®šä¹‰çš„Â <code>toString</code>Â å‡½æ•°çš„å¯¹è±¡ä½¿ç”¨å…·æœ‰é€‰é¡¹Â <code>&#123; depth: 0, colors: false, compact: 3 &#125;</code>Â çš„Â <code>util.inspect()</code>Â è¿›è¡Œæ£€æŸ¥ã€‚</li><li><code>%d</code>:Â <code>Number</code>Â å°†ç”¨äºè½¬æ¢é™¤Â <code>BigInt</code>Â å’ŒÂ <code>Symbol</code>Â ä¹‹å¤–çš„æ‰€æœ‰å€¼ã€‚</li><li><code>%i</code>:Â <code>parseInt(value, 10)</code>Â ç”¨äºé™¤Â <code>BigInt</code>Â å’ŒÂ <code>Symbol</code>Â ä¹‹å¤–çš„æ‰€æœ‰å€¼ã€‚</li><li><code>%f</code>:Â <code>parseFloat(value)</code>Â ç”¨äºé™¤Â <code>Symbol</code>Â ä¹‹å¤–çš„æ‰€æœ‰å€¼ã€‚</li><li><code>%j</code>: JSONã€‚ å¦‚æœå‚æ•°åŒ…å«å¾ªç¯å¼•ç”¨ï¼Œåˆ™æ›¿æ¢ä¸ºå­—ç¬¦ä¸²Â <code>&#39;[Circular]&#39;</code>ã€‚</li><li><code>%o</code>:Â <code>Object</code>. å…·æœ‰é€šç”¨ JavaScript å¯¹è±¡æ ¼å¼çš„å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚ ç±»ä¼¼äºå…·æœ‰é€‰é¡¹Â <code>&#123; showHidden: true, showProxy: true &#125;</code>Â çš„Â <code>util.inspect()</code>ã€‚ è¿™å°†æ˜¾ç¤ºå®Œæ•´çš„å¯¹è±¡ï¼ŒåŒ…æ‹¬ä¸å¯æšä¸¾çš„å±æ€§å’Œä»£ç†ã€‚</li><li><code>%O</code>:Â <code>Object</code>. å…·æœ‰é€šç”¨ JavaScript å¯¹è±¡æ ¼å¼çš„å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚ ç±»ä¼¼äºæ²¡æœ‰é€‰é¡¹çš„Â <code>util.inspect()</code>ã€‚ è¿™å°†æ˜¾ç¤ºå®Œæ•´çš„å¯¹è±¡ï¼Œä½†ä¸åŒ…æ‹¬ä¸å¯æšä¸¾çš„å±æ€§å’Œä»£ç†ã€‚</li><li><code>%c</code>:Â <code>CSS</code>. æ­¤è¯´æ˜ç¬¦è¢«å¿½ç•¥ï¼Œå°†è·³è¿‡ä»»ä½•ä¼ å…¥çš„ CSSã€‚</li><li><code>%%</code>: å•ä¸ªç™¾åˆ†å· (<code>&#39;%&#39;</code>)ã€‚ è¿™ä¸æ¶ˆè´¹å‚æ•°ã€‚</li></ul></li></ol><h2 id="Fs-æ–‡ä»¶æ¨¡å—"><a href="#Fs-æ–‡ä»¶æ¨¡å—" class="headerlink" title="Fs-æ–‡ä»¶æ¨¡å—"></a>Fs-æ–‡ä»¶æ¨¡å—</h2><h3 id="1-è¯»å–æ–‡ä»¶"><a href="#1-è¯»å–æ–‡ä»¶" class="headerlink" title="1. è¯»å–æ–‡ä»¶"></a>1. è¯»å–æ–‡ä»¶</h3><p>Â Â <code>fs.readFile()</code>:å¼‚æ­¥æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;node:fs&#x27;</span>)<br><br><span class="hljs-comment">// å¼‚æ­¥æ–¹æ³•</span><br>fs.<span class="hljs-title function_">readFile</span>(<span class="hljs-string">&#x27;./index.txt&#x27;</span>,&#123;<br>    <span class="hljs-attr">encoding</span>:<span class="hljs-string">&#x27;utf-8&#x27;</span>,<br>    <span class="hljs-attr">flag</span>:<span class="hljs-string">&#x27;r&#x27;</span><br>&#125;,<span class="hljs-function">(<span class="hljs-params">err,data</span>)=&gt;</span>&#123;<br>    <span class="hljs-keyword">if</span>(err)&#123;<br>        <span class="hljs-keyword">throw</span> err<br>    &#125;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data)<br>&#125;)<br><br><br></code></pre></td></tr></table></figure><p><code>fs.readFileSync()</code>:åŒæ­¥æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;node:fs&#x27;</span>)<br><br><span class="hljs-comment">// åŒæ­¥æ–¹æ³•,ä¼šå¯¼è‡´ä»£ç é˜»å¡</span><br><span class="hljs-keyword">const</span> res = fs.<span class="hljs-title function_">readFileSync</span>(<span class="hljs-string">&#x27;./index.txt&#x27;</span>)<br><span class="hljs-comment">// syncæ–¹æ³•çš„è¿”å›å€¼éƒ½æ˜¯bufferæµ,éœ€è¦toStringæ–¹æ³•å¤„ç†åæ‰èƒ½å¾—åˆ°åŸå§‹å€¼</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res.<span class="hljs-title function_">toString</span>())<br></code></pre></td></tr></table></figure><p><code>fs2.readFile().then()</code>:PromiseåŒ…è£…æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> fs2 = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;node:fs/promises&#x27;</span>)<br><br><span class="hljs-comment">//Promiseæ–¹æ³•</span><br>fs2.<span class="hljs-title function_">readFile</span>(<span class="hljs-string">&#x27;./index.txt&#x27;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span>=&gt;</span>&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res.<span class="hljs-title function_">toString</span>(<span class="hljs-string">&#x27;utf-8&#x27;</span>))<br>&#125;)<br></code></pre></td></tr></table></figure><p><code>fs.createReadStream()</code>:æµå¼è¯»å–æ–‡ä»¶(é€‚åˆå¤§æ–‡ä»¶)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//æµå¼è¯»å–-å¤§æ–‡ä»¶å¤„ç†</span><br><br><span class="hljs-keyword">const</span> readStream = fs.<span class="hljs-title function_">createReadStream</span>(<span class="hljs-string">&#x27;./index.txt&#x27;</span>)<br><br>readStream.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;data&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">chunk</span>)=&gt;</span>&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(chunk.<span class="hljs-title function_">toString</span>(<span class="hljs-string">&#x27;utf-8&#x27;</span>))<br>&#125;)<br><br>readStream.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;end&#x27;</span>,<span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;è¯»å–å®Œæˆ&quot;</span>)<br>&#125;)<br></code></pre></td></tr></table></figure><h3 id="2-æ–‡ä»¶å¤¹æ“ä½œ"><a href="#2-æ–‡ä»¶å¤¹æ“ä½œ" class="headerlink" title="2. æ–‡ä»¶å¤¹æ“ä½œ"></a>2. æ–‡ä»¶å¤¹æ“ä½œ</h3><p><code>fs.mkdirSync()</code>:åˆ›å»ºæ–‡ä»¶å¤¹,<code>recursive:true</code>å…è®¸å¤šå±‚æ–‡ä»¶å¤¹åµŒå¥—</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// åˆ›å»ºæ–‡ä»¶å¤¹</span><br>fs.<span class="hljs-title function_">mkdirSync</span>(<span class="hljs-string">&#x27;./works/native&#x27;</span>,&#123;<br>    <span class="hljs-attr">recursive</span>:<span class="hljs-literal">true</span><br>&#125;)<br></code></pre></td></tr></table></figure><p><code>fs.rmdirSync()</code>:åˆ é™¤æ–‡ä»¶å¤¹,è‹¥è¦åˆ é™¤å•æ–‡ä»¶å¯ç”¨<code>fs.rmSync()</code></p><h3 id="3-é‡å‘½å"><a href="#3-é‡å‘½å" class="headerlink" title="3.é‡å‘½å"></a>3.é‡å‘½å</h3><p><code>fs.renameSync(&#39;old&#39;,&#39;new&#39;)</code>:é‡å‘½åæ–‡ä»¶</p><h3 id="4-æ–‡ä»¶ç›‘å¬"><a href="#4-æ–‡ä»¶ç›‘å¬" class="headerlink" title="4.æ–‡ä»¶ç›‘å¬"></a>4.æ–‡ä»¶ç›‘å¬</h3><p><code>fs.watch(filePath,(event,filename)=&gt;&#123;&#125;)</code>:ç›‘å¬æ–‡ä»¶äº‹ä»¶å˜åŒ– </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;node:fs&#x27;</span>)<br><br>fs.<span class="hljs-title function_">watchFile</span>(<span class="hljs-string">&#x27;./index.txt&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">event,filename</span>)=&gt;</span>&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event)<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(filename)<br>&#125;)<br></code></pre></td></tr></table></figure><p><code>fs.watchFile(filePath,(cur,pre)=&gt;&#123;&#125;)</code>:ç›‘å¬æ–‡ä»¶çš„å…ƒæ•°æ®ä¿¡æ¯å˜åŒ–</p><h3 id="5-å†™å…¥æ–‡ä»¶"><a href="#5-å†™å…¥æ–‡ä»¶" class="headerlink" title="5.å†™å…¥æ–‡ä»¶"></a>5.å†™å…¥æ–‡ä»¶</h3><p><code>fs.writeFileSync(fileName,contentString)</code>:å‘æŒ‡å®šè·¯å¾„ä¸‹æ–‡ä»¶å†™å…¥å†…å®¹(é»˜è®¤è¦†ç›–æ–¹æ³•)</p><p><em>æ³¨:</em>,ç¬¬ä¸‰ä¸ªå‚æ•°<code>&#123;flag:&#39;a&#39;&#125;</code>è¡¨ç¤ºè¿½åŠ ,<code>fs.appendFileSync()</code>ä¹Ÿå¯å®ç°ç›¸åŒåŠŸèƒ½</p><ul><li><p><code>&#39;a&#39;</code>: æ‰“å¼€æ–‡ä»¶è¿›è¡Œè¿½åŠ ã€‚ å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºè¯¥æ–‡ä»¶ã€‚</p></li><li><p><code>&#39;ax&#39;</code>: ç±»ä¼¼äºÂ <code>&#39;a&#39;</code>Â ä½†å¦‚æœè·¯å¾„å­˜åœ¨åˆ™å¤±è´¥ã€‚</p></li><li><p><code>&#39;a+&#39;</code>: æ‰“å¼€æ–‡ä»¶è¿›è¡Œè¯»å–å’Œè¿½åŠ ã€‚ å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºè¯¥æ–‡ä»¶ã€‚</p></li><li><p><code>&#39;ax+&#39;</code>: ç±»ä¼¼äºÂ <code>&#39;a+&#39;</code>Â ä½†å¦‚æœè·¯å¾„å­˜åœ¨åˆ™å¤±è´¥ã€‚</p></li><li><p><code>&#39;as&#39;</code>: ä»¥åŒæ­¥æ¨¡å¼æ‰“å¼€æ–‡ä»¶è¿›è¡Œè¿½åŠ ã€‚ å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºè¯¥æ–‡ä»¶ã€‚</p></li><li><p><code>&#39;as+&#39;</code>: ä»¥åŒæ­¥æ¨¡å¼æ‰“å¼€æ–‡ä»¶è¿›è¡Œè¯»å–å’Œè¿½åŠ ã€‚ å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºè¯¥æ–‡ä»¶ã€‚</p></li><li><p><code>&#39;r&#39;</code>: æ‰“å¼€æ–‡ä»¶è¿›è¡Œè¯»å–ã€‚ å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™ä¼šå‘ç”Ÿå¼‚å¸¸ã€‚</p></li><li><p><code>&#39;r+&#39;</code>: æ‰“å¼€æ–‡ä»¶è¿›è¡Œè¯»å†™ã€‚ å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™ä¼šå‘ç”Ÿå¼‚å¸¸ã€‚</p></li><li><p><code>&#39;rs+&#39;</code>: ä»¥åŒæ­¥æ¨¡å¼æ‰“å¼€æ–‡ä»¶è¿›è¡Œè¯»å†™ã€‚ æŒ‡ç¤ºæ“ä½œç³»ç»Ÿç»•è¿‡æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿç¼“å­˜ã€‚<br>è¿™ä¸»è¦ç”¨äºåœ¨ NFS æŒ‚è½½ä¸Šæ‰“å¼€æ–‡ä»¶ï¼Œå› ä¸ºå®ƒå…è®¸è·³è¿‡å¯èƒ½è¿‡æ—¶çš„æœ¬åœ°ç¼“å­˜ã€‚ å®ƒå¯¹ I&#x2F;O æ€§èƒ½æœ‰éå¸¸å®é™…çš„å½±å“ï¼Œå› æ­¤é™¤ééœ€è¦ï¼Œå¦åˆ™ä¸å»ºè®®ä½¿ç”¨æ­¤æ ‡å¿—ã€‚<br>è¿™ä¸ä¼šå°†Â <code>fs.open()</code>Â æˆ–Â <code>fsPromises.open()</code>Â å˜æˆåŒæ­¥é˜»å¡è°ƒç”¨ã€‚ å¦‚æœéœ€è¦åŒæ­¥æ“ä½œï¼Œåº”è¯¥ä½¿ç”¨ç±»ä¼¼Â <code>fs.openSync()</code>Â çš„ä¸œè¥¿ã€‚</p></li><li><p><code>&#39;w&#39;</code>: æ‰“å¼€æ–‡ä»¶è¿›è¡Œå†™å…¥ã€‚ åˆ›å»ºï¼ˆå¦‚æœå®ƒä¸å­˜åœ¨ï¼‰æˆ–æˆªæ–­ï¼ˆå¦‚æœå®ƒå­˜åœ¨ï¼‰è¯¥æ–‡ä»¶ã€‚</p></li><li><p><code>&#39;wx&#39;</code>: ç±»ä¼¼äºÂ <code>&#39;w&#39;</code>Â ä½†å¦‚æœè·¯å¾„å­˜åœ¨åˆ™å¤±è´¥ã€‚</p></li><li><p><code>&#39;w+&#39;</code>: æ‰“å¼€æ–‡ä»¶è¿›è¡Œè¯»å†™ã€‚ åˆ›å»ºï¼ˆå¦‚æœå®ƒä¸å­˜åœ¨ï¼‰æˆ–æˆªæ–­ï¼ˆå¦‚æœå®ƒå­˜åœ¨ï¼‰è¯¥æ–‡ä»¶ã€‚</p></li><li><p><code>&#39;wx+&#39;</code>: ç±»ä¼¼äºÂ <code>&#39;w+&#39;</code>Â ä½†å¦‚æœè·¯å¾„å­˜åœ¨åˆ™å¤±è´¥ã€‚</p></li></ul><p><code>fs.createWriteStream(filePath)</code>:åˆ›å»ºå¯å†™æµ,é€‚åˆå¤§é‡æ•°æ®çš„å†™å…¥.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;node:fs&#x27;</span>)<br><span class="hljs-keyword">const</span> verse = [<br>    <span class="hljs-string">&#x27;ä½ è‹¥ä¸‰å†¬æ¥&#x27;</span>,<br>    <span class="hljs-string">&#x27;æ¢æˆ‘ä¸€åŸé›ªç™½&#x27;</span>,<br>    <span class="hljs-string">&#x27;ç›¸æ€é£ä¸­å¼€&#x27;</span>,<br>]<br><span class="hljs-keyword">const</span> writeStream = fs.<span class="hljs-title function_">createWriteStream</span>(<span class="hljs-string">&#x27;./index.txt&#x27;</span>)<br><br>verse.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span>=&gt;</span>&#123;<br>    writeStream.<span class="hljs-title function_">write</span>(item + <span class="hljs-string">&#x27;\n&#x27;</span>)<br>&#125;)<br><br>writeStream.<span class="hljs-title function_">end</span>()<br></code></pre></td></tr></table></figure><h3 id="6-è½¯è¿æ¥-ç¡¬é“¾æ¥"><a href="#6-è½¯è¿æ¥-ç¡¬é“¾æ¥" class="headerlink" title="6.è½¯è¿æ¥&#x2F;ç¡¬é“¾æ¥"></a>6.è½¯è¿æ¥&#x2F;ç¡¬é“¾æ¥</h3><p><code>fs.linkSync(filePath,newFilePath)</code>:åˆ›å»ºç¡¬é“¾æ¥æ–‡ä»¶,ç±»ä¼¼å…±äº«æ–‡ä»¶,å¯ç”¨äºæ–‡ä»¶å¤‡ä»½</p><p><code>fs.symlinkSync(filePath,newFilePath)</code>:åˆ›å»ºç¡¬é“¾æ¥,ç±»ä¼¼winçš„å¿«æ·æ–¹å¼,æºæ–‡ä»¶åˆ é™¤åæ— æ•ˆ.</p><h2 id="Zlib-è§£å‹ç¼©"><a href="#Zlib-è§£å‹ç¼©" class="headerlink" title="Zlib-è§£å‹ç¼©"></a>Zlib-è§£å‹ç¼©</h2><p>åœ¨ Node.js ä¸­ï¼Œ<code>zlib</code>Â æ¨¡å—æä¾›äº†å¯¹æ•°æ®å‹ç¼©å’Œè§£å‹ç¼©çš„åŠŸèƒ½ï¼Œä»¥ä¾¿åœ¨åº”ç”¨ç¨‹åºä¸­å‡å°‘æ•°æ®çš„ä¼ è¾“å¤§å°å’Œæé«˜æ€§èƒ½ã€‚è¯¥æ¨¡å—æ”¯æŒå¤šç§å‹ç¼©ç®—æ³•ï¼ŒåŒ…æ‹¬ Deflateã€Gzip å’Œ Raw Deflateã€‚</p><p>Gzipæµå¼å‹ç¼©:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> zlib = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;node:zlib&#x27;</span>)<br><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;node:fs&#x27;</span>)<br><br><span class="hljs-keyword">const</span> readStream = fs.<span class="hljs-title function_">createReadStream</span>(<span class="hljs-string">&#x27;./index.txt&#x27;</span>)<br><span class="hljs-keyword">const</span> writeStream = fs.<span class="hljs-title function_">createWriteStream</span>(<span class="hljs-string">&#x27;./index.txt.gz&#x27;</span>) <span class="hljs-comment">//gzåç¼€</span><br>readStream.<span class="hljs-title function_">pipe</span>(zlib.<span class="hljs-title function_">createGzip</span>()).<span class="hljs-title function_">pipe</span>(writeStream)<br></code></pre></td></tr></table></figure><p>Gzipæµå¼è§£å‹:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> zlib = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;node:zlib&#x27;</span>)<br><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;node:fs&#x27;</span>)<br><br><span class="hljs-keyword">const</span> readStream = fs.<span class="hljs-title function_">createReadStream</span>(<span class="hljs-string">&#x27;./index.txt&#x27;</span>)<br><span class="hljs-keyword">const</span> writeStream = fs.<span class="hljs-title function_">createWriteStream</span>(<span class="hljs-string">&#x27;./index.txt.gz&#x27;</span>) <span class="hljs-comment">//gzåç¼€</span><br>readStream.<span class="hljs-title function_">pipe</span>(zlib.<span class="hljs-title function_">createGunzip</span>()).<span class="hljs-title function_">pipe</span>(writeStream)<br></code></pre></td></tr></table></figure><p>DefalteåŒç†,æ”¹ä¸º<code>createDefalte()</code>å‹ç¼©,<code>createInfalte()</code>è§£å‹å³å¯.</p><p>Gzipæ–‡ä»¶è§£å‹:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> zlib = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;node:zlib&#x27;</span>)<br><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;node:fs&#x27;</span>)<br><br><br><span class="hljs-keyword">let</span> content = <span class="hljs-string">&#x27;...&#x27;</span><br><span class="hljs-keyword">const</span> res = zlib.<span class="hljs-title function_">gzipSync</span>() <span class="hljs-comment">//åŒæ­¥æ–¹æ³•</span><br></code></pre></td></tr></table></figure><h2 id="Http-httpæœåŠ¡"><a href="#Http-httpæœåŠ¡" class="headerlink" title="Http-httpæœåŠ¡"></a>Http-httpæœåŠ¡</h2><p>â€œhttpâ€ æ¨¡å—æ˜¯ Node.js ä¸­ç”¨äºåˆ›å»ºå’Œå¤„ç† HTTP æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯çš„æ ¸å¿ƒæ¨¡å—ã€‚å®ƒä½¿å¾—æ„å»ºåŸºäº HTTP åè®®çš„åº”ç”¨ç¨‹åºå˜å¾—æ›´åŠ ç®€å•å’Œçµæ´»ã€‚</p><ol><li>åˆ›å»º Web æœåŠ¡å™¨ï¼šä½ å¯ä»¥ä½¿ç”¨ â€œhttpâ€ æ¨¡å—åˆ›å»ºä¸€ä¸ª HTTP æœåŠ¡å™¨ï¼Œç”¨äºæä¾› Web åº”ç”¨ç¨‹åºæˆ–ç½‘ç«™ã€‚é€šè¿‡ç›‘å¬ç‰¹å®šçš„ç«¯å£ï¼ŒæœåŠ¡å™¨å¯ä»¥æ¥æ”¶å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå¹¶ç”Ÿæˆå“åº”ã€‚ä½ å¯ä»¥å¤„ç†ä¸åŒçš„è·¯ç”±ã€è¯·æ±‚æ–¹æ³•å’Œå‚æ•°ï¼Œå®ç°è‡ªå®šä¹‰çš„ä¸šåŠ¡é€»è¾‘ã€‚</li><li>æ„å»º RESTful APIï¼šâ€httpâ€ æ¨¡å—ä½¿å¾—æ„å»º RESTful API å˜å¾—ç®€å•ã€‚ä½ å¯ä»¥ä½¿ç”¨ HTTP è¯·æ±‚æ–¹æ³•ï¼ˆå¦‚ GETã€POSTã€PUTã€DELETE ç­‰ï¼‰å’Œè·¯å¾„æ¥å®šä¹‰ API çš„ä¸åŒç«¯ç‚¹ã€‚é€šè¿‡è§£æè¯·æ±‚å‚æ•°ã€éªŒè¯èº«ä»½å’Œæƒé™ï¼Œä»¥åŠç”Ÿæˆç›¸åº”çš„ JSON æˆ–å…¶ä»–æ•°æ®æ ¼å¼ï¼Œä½ å¯ä»¥æ„å»ºå¼ºå¤§çš„ API æœåŠ¡ã€‚</li><li>ä»£ç†æœåŠ¡å™¨ï¼šâ€httpâ€ æ¨¡å—è¿˜å¯ä»¥ç”¨äºåˆ›å»ºä»£ç†æœåŠ¡å™¨ï¼Œç”¨äºè½¬å‘å®¢æˆ·ç«¯çš„è¯·æ±‚åˆ°å…¶ä»–æœåŠ¡å™¨ã€‚ä»£ç†æœåŠ¡å™¨å¯ä»¥ç”¨äºè´Ÿè½½å‡è¡¡ã€ç¼“å­˜ã€å®‰å…¨è¿‡æ»¤æˆ–è·¨åŸŸè¯·æ±‚ç­‰åœºæ™¯ã€‚é€šè¿‡åœ¨ä»£ç†æœåŠ¡å™¨ä¸Šæ·»åŠ é€»è¾‘ï¼Œä½ å¯ä»¥å¯¹è¯·æ±‚å’Œå“åº”è¿›è¡Œä¿®æ”¹ã€è®°å½•æˆ–è¿‡æ»¤ã€‚</li><li>æ–‡ä»¶æœåŠ¡å™¨ï¼šâ€httpâ€ æ¨¡å—å¯ä»¥ç”¨äºåˆ›å»ºä¸€ä¸ªç®€å•çš„æ–‡ä»¶æœåŠ¡å™¨ï¼Œç”¨äºæä¾›é™æ€æ–‡ä»¶ï¼ˆå¦‚ HTMLã€CSSã€JavaScriptã€å›¾åƒç­‰ï¼‰ã€‚é€šè¿‡è¯»å–æ–‡ä»¶å¹¶å°†å…¶ä½œä¸ºå“åº”å‘é€ç»™å®¢æˆ·ç«¯ï¼Œä½ å¯ä»¥è½»æ¾åœ°æ„å»ºä¸€ä¸ªåŸºæœ¬çš„æ–‡ä»¶æœåŠ¡å™¨ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;node:http&#x27;</span>); <span class="hljs-comment">// å¼•å…¥ http æ¨¡å—</span><br><span class="hljs-keyword">const</span> url = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;node:url&#x27;</span>); <span class="hljs-comment">// å¼•å…¥ url æ¨¡å—</span><br><br><span class="hljs-comment">// åˆ›å»º HTTP æœåŠ¡å™¨ï¼Œå¹¶ä¼ å…¥å›è°ƒå‡½æ•°ç”¨äºå¤„ç†è¯·æ±‚å’Œç”Ÿæˆå“åº”</span><br>http.<span class="hljs-title function_">createServer</span>(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">const</span> &#123; pathname, query &#125; = url.<span class="hljs-title function_">parse</span>(req.<span class="hljs-property">url</span>, <span class="hljs-literal">true</span>); <span class="hljs-comment">// è§£æè¯·æ±‚çš„ URLï¼Œè·å–è·¯å¾„å’ŒæŸ¥è¯¢å‚æ•°</span><br><br>  <span class="hljs-keyword">if</span> (req.<span class="hljs-property">method</span> === <span class="hljs-string">&#x27;POST&#x27;</span>) &#123; <span class="hljs-comment">// æ£€æŸ¥è¯·æ±‚æ–¹æ³•æ˜¯å¦ä¸º POST</span><br>    <span class="hljs-keyword">if</span> (pathname === <span class="hljs-string">&#x27;/post&#x27;</span>) &#123; <span class="hljs-comment">// æ£€æŸ¥è·¯å¾„æ˜¯å¦ä¸º &#x27;/post&#x27;</span><br>      <span class="hljs-keyword">let</span> data = <span class="hljs-string">&#x27;&#x27;</span>;<br>      req.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;data&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">chunk</span>) =&gt;</span> &#123;<br>        data += chunk; <span class="hljs-comment">// è·å– POST è¯·æ±‚çš„æ•°æ®</span><br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);<br>      &#125;);<br>      req.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;end&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>        res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">&#x27;Content-Type&#x27;</span>, <span class="hljs-string">&#x27;application/json&#x27;</span>); <span class="hljs-comment">// è®¾ç½®å“åº”å¤´çš„ Content-Type ä¸º &#x27;application/json&#x27;</span><br>        res.<span class="hljs-property">statusCode</span> = <span class="hljs-number">200</span>; <span class="hljs-comment">// è®¾ç½®å“åº”çŠ¶æ€ç ä¸º 200</span><br>        res.<span class="hljs-title function_">end</span>(data); <span class="hljs-comment">// å°†è·å–åˆ°çš„æ•°æ®ä½œä¸ºå“åº”ä½“è¿”å›</span><br>      &#125;);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">&#x27;Content-Type&#x27;</span>, <span class="hljs-string">&#x27;application/json&#x27;</span>); <span class="hljs-comment">// è®¾ç½®å“åº”å¤´çš„ Content-Type ä¸º &#x27;application/json&#x27;</span><br>      res.<span class="hljs-property">statusCode</span> = <span class="hljs-number">404</span>; <span class="hljs-comment">// è®¾ç½®å“åº”çŠ¶æ€ç ä¸º 404</span><br>      res.<span class="hljs-title function_">end</span>(<span class="hljs-string">&#x27;Not Found&#x27;</span>); <span class="hljs-comment">// è¿”å› &#x27;Not Found&#x27; ä½œä¸ºå“åº”ä½“</span><br>    &#125;<br>  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (req.<span class="hljs-property">method</span> === <span class="hljs-string">&#x27;GET&#x27;</span>) &#123; <span class="hljs-comment">// æ£€æŸ¥è¯·æ±‚æ–¹æ³•æ˜¯å¦ä¸º GET</span><br>    <span class="hljs-keyword">if</span> (pathname === <span class="hljs-string">&#x27;/get&#x27;</span>) &#123; <span class="hljs-comment">// æ£€æŸ¥è·¯å¾„æ˜¯å¦ä¸º &#x27;/get&#x27;</span><br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(query.<span class="hljs-property">a</span>); <span class="hljs-comment">// æ‰“å°æŸ¥è¯¢å‚æ•°ä¸­çš„é”®åä¸º &#x27;a&#x27; çš„å€¼</span><br>      res.<span class="hljs-title function_">end</span>(<span class="hljs-string">&#x27;get success&#x27;</span>); <span class="hljs-comment">// è¿”å› &#x27;get success&#x27; ä½œä¸ºå“åº”ä½“</span><br>    &#125;<br>  &#125;<br>&#125;).<span class="hljs-title function_">listen</span>(<span class="hljs-number">98</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;server is running on port 98&#x27;</span>); <span class="hljs-comment">// æ‰“å°æœåŠ¡å™¨å¯åŠ¨çš„ä¿¡æ¯</span><br>&#125;);<br><br></code></pre></td></tr></table></figure><p>Httpè¯·æ±‚</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-keyword">POST</span> <span class="hljs-string">http://localhost:98/post/xxx</span> <span class="hljs-meta">HTTP/1.1</span><br><br><span class="language-pgsql">Content-<span class="hljs-keyword">Type</span>: application/<span class="hljs-type">json</span></span><br><span class="language-pgsql"></span><br><span class="language-pgsql">&#123;</span><br><span class="language-pgsql">     &quot;name&quot;:&quot;å°æ»¡zs&quot;</span><br><span class="language-pgsql">&#125;</span><br><span class="language-pgsql"></span><br><span class="language-pgsql"></span><br><span class="language-pgsql"><span class="hljs-keyword">GET</span> http://localhost:<span class="hljs-number">98</span>/<span class="hljs-keyword">get</span>?a=<span class="hljs-number">1</span>&amp;b=<span class="hljs-number">2</span> HTTP/<span class="hljs-number">1.1</span></span><br><span class="language-pgsql"></span><br><span class="language-pgsql"></span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>æ•°æ®ç»“æ„ä¸ç®—æ³•</title>
    <link href="/2025/06/02/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"/>
    <url>/2025/06/02/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="æ•°æ®ç»“æ„ä¸åˆ†ç±»"><a href="#æ•°æ®ç»“æ„ä¸åˆ†ç±»" class="headerlink" title="æ•°æ®ç»“æ„ä¸åˆ†ç±»"></a>æ•°æ®ç»“æ„ä¸åˆ†ç±»</h1><h2 id="é€»è¾‘ç»“æ„"><a href="#é€»è¾‘ç»“æ„" class="headerlink" title="é€»è¾‘ç»“æ„"></a>é€»è¾‘ç»“æ„</h2><ul><li><strong>çº¿æ€§æ•°æ®ç»“æ„:</strong> æ•°ç»„ã€é“¾è¡¨ã€æ ˆã€é˜Ÿåˆ—ã€å“ˆå¸Œè¡¨ï¼Œå…ƒç´ ä¹‹é—´æ˜¯ä¸€å¯¹ä¸€çš„é¡ºåºå…³ç³»ã€‚</li><li><strong>éçº¿æ€§æ•°æ®ç»“æ„ï¼š</strong> æ ‘ã€å †ã€å›¾ã€å“ˆå¸Œè¡¨ã€‚</li></ul><h2 id="çº¿æ€§ç»“æ„"><a href="#çº¿æ€§ç»“æ„" class="headerlink" title="çº¿æ€§ç»“æ„"></a>çº¿æ€§ç»“æ„</h2><ul><li><p><strong>è¿ç»­å‚¨å­˜ç©ºé—´:</strong> æ ˆã€é˜Ÿåˆ—ã€å“ˆå¸Œè¡¨ã€æ ‘ã€å †ã€å›¾ã€çŸ©é˜µã€å¼ é‡ï¼ˆç»´åº¦<br> çš„æ•°ç»„ï¼‰ç­‰ã€‚</p></li><li><p><strong>åˆ†æ•£å‚¨å­˜ç©ºé—´:</strong> æ ˆã€é˜Ÿåˆ—ã€å“ˆå¸Œè¡¨ã€æ ‘ã€å †ã€å›¾ç­‰ã€‚</p></li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ç”¨æˆ·ä¸­å¿ƒç³»ç»Ÿå¼€å‘æ—¥å¿—</title>
    <link href="/2025/04/09/%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/"/>
    <url>/2025/04/09/%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/</url>
    
    <content type="html"><![CDATA[<h1 id="ç”¨æˆ·ä¸­å¿ƒé¡¹ç›®"><a href="#ç”¨æˆ·ä¸­å¿ƒé¡¹ç›®" class="headerlink" title="ç”¨æˆ·ä¸­å¿ƒé¡¹ç›®"></a>ç”¨æˆ·ä¸­å¿ƒé¡¹ç›®</h1><h2 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h2><p>åšå‡ºç®¡ç†ç³»ç»Ÿ</p><h2 id="é¡¹ç›®æµç¨‹"><a href="#é¡¹ç›®æµç¨‹" class="headerlink" title="é¡¹ç›®æµç¨‹"></a>é¡¹ç›®æµç¨‹</h2><p> éœ€æ±‚åˆ†æ -&gt; è®¾è®¡ï¼ˆæ¦‚è¦è®¾è®¡ï¼Œè¯¦ç»†è®¾è®¡ï¼‰ -&gt; æŠ€æœ¯é€‰å‹ -&gt; åˆå§‹åŒ–&#x2F;å¼•å…¥éœ€è¦çš„æŠ€æœ¯ -&gt; å†™demo -&gt; å†™ä»£ç ï¼ˆå®ç°ä¸šåŠ¡æµ‹è¯•ï¼‰ -&gt; æµ‹è¯•ï¼ˆå•å…ƒæµ‹è¯•ï¼‰-&gt;ä»£ç æäº¤&#x2F;ä»£ç è¯„å®¡ -&gt; éƒ¨ç½²&#x2F;å‘å¸ƒ</p><h2 id="éœ€æ±‚åˆ†æ"><a href="#éœ€æ±‚åˆ†æ" class="headerlink" title="éœ€æ±‚åˆ†æ"></a>éœ€æ±‚åˆ†æ</h2><ol><li>ç™»é™†æ³¨å†Œ</li><li>ç”¨æˆ·ç®¡ç†ï¼ˆä»…ç®¡ç†å‘˜å¯è§ï¼‰ å¯¹ç”¨æˆ·çš„æŸ¥è¯¢æˆ–è€…ä¿®æ”¹</li><li>ç”¨æˆ·æ ¡éªŒï¼ˆä»…ç¤¾å›¢æˆå‘˜ï¼‰</li></ol><h2 id="æŠ€æœ¯é€‰å‹"><a href="#æŠ€æœ¯é€‰å‹" class="headerlink" title="æŠ€æœ¯é€‰å‹"></a>æŠ€æœ¯é€‰å‹</h2><p>å‰ç«¯ï¼š ä¸‰ä»¶å¥— + React + Antd + Umi + AntDesignPro<br>åç«¯ï¼šJava + Springä¸‰ä»¶å¥— + Mybatis + Mybatis-plus + mysql<br>éƒ¨ç½²ï¼šæœåŠ¡å™¨&#x2F;å®¹å™¨</p><h2 id="è®¡åˆ’"><a href="#è®¡åˆ’" class="headerlink" title="è®¡åˆ’"></a>è®¡åˆ’</h2><ol><li><p>é¡¹ç›®åˆå§‹åŒ–</p><ol><li>å‰ç«¯åˆå§‹åŒ–<ol><li>åˆå§‹åŒ–é¡¹ç›®</li><li>å¼•å…¥ç»„ä»¶</li><li>æ¡†æ¶ä»‹ç» ç˜¦èº«</li></ol></li><li>åç«¯åˆå§‹åŒ–<ol><li>å‡†å¤‡ç¯å¢ƒï¼ˆMySqlï¼‰</li><li>å¼•å…¥æ¡†æ¶ï¼ˆæ•´åˆæ¡†æ¶ï¼‰</li></ol></li></ol></li><li><p><strong>ç™»å½•&#x2F;æ³¨å†Œ</strong></p><ol><li>å‰ç«¯</li><li>åç«¯<ol><li><p>è§„æ•´ç›®å½•</p></li><li><p>å®ç°åŸºæœ¬æ•°æ®åº“æ“ä½œ</p><ol><li>æ¨¡å‹Userå¯¹è±¡ä¸æ•°æ®åº“å­—æ®µçš„å…³è”ï¼Œè‡ªåŠ¨ç”Ÿæˆ(Jetbrainsæ’ä»¶Mybatis-Xå®ç°)</li></ol><p> <strong>æ³¨æ„ï¼š</strong><br> åœ¨mavenä¸­é…ç½®lombokæ—¶ï¼Œéœ€è¦åœ¨jetbrainså®‰è£…å¯¹åº”æ’ä»¶å¹¶å¯ç”¨æ³¨è§£å¤„ç†å™¨ï¼Œå¹¶åœ¨pom.xmlä¸­<strong>æ‰‹åŠ¨å†™å…¥æŒ‡å®šç‰ˆæœ¬å·</strong>ï¼Œå¦åˆ™æ‰§è¡Œmodelå•å…ƒæµ‹è¯•ä¼šæŠ¥é”™<br> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.18.36<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">optional</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">optional</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">annotationProcessorPaths</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">path</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-configuration-processor<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">path</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">path</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.18.36<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">path</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">annotationProcessorPaths</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span><br></code></pre></td></tr></table></figure></p></li></ol></li></ol></li><li><p>ç”¨æˆ·ç®¡ç†</p><ol><li>å‰ç«¯</li><li>åç«¯</li></ol></li></ol><h2 id="æ•°æ®åº“è®¾è®¡"><a href="#æ•°æ®åº“è®¾è®¡" class="headerlink" title="æ•°æ®åº“è®¾è®¡"></a>æ•°æ®åº“è®¾è®¡</h2><p>æ•°æ®è¡¨ï¼šå¯ä»¥ç†è§£ä¸ºexcelè¡¨æ ¼<br>javaæ“ä½œæ•°æ®åº“-&gt;ä»£æ›¿äººå·¥</p><h3 id="ä»€ä¹ˆæ˜¯è®¾è®¡æ•°æ®åº“è¡¨"><a href="#ä»€ä¹ˆæ˜¯è®¾è®¡æ•°æ®åº“è¡¨" class="headerlink" title="ä»€ä¹ˆæ˜¯è®¾è®¡æ•°æ®åº“è¡¨"></a>ä»€ä¹ˆæ˜¯è®¾è®¡æ•°æ®åº“è¡¨</h3><p>æœ‰å“ªäº›è¡¨ï¼Ÿ è¡¨ä¸­æœ‰å“ªäº›å­—æ®µï¼Ÿå­—æ®µç±»å‹ï¼Ÿæ•°æ®åº“å­—æ®µæ·»åŠ ç´¢å¼•ï¼Ÿè¡¨ä¸è¡¨ä¹‹é—´çš„å…³è”</p><p>*è®¾è®¡ï¼š*åŸåˆ™ä¸Šä¸èƒ½åœ¨æ•°æ®åº“å†…ç¡¬åˆ é™¤è¡¨æ ¼å¯¹è±¡ï¼Œè€Œæ˜¯é‡‡ç”¨isDeleteçš„â€é€»è¾‘åˆ é™¤â€</p><p><strong>ç”¨æˆ·è¡¨ï¼š</strong></p><p>id (ä¸»é”®) bigint<br>username ï¼ˆæ˜µç§°ï¼‰ varchar<br>userAccount (ç™»é™†è´¦å·) bigint<br>avatarUrl(å¤´åƒ) varchar<br>gender (æ€§åˆ«) tinyint<br>userpassword ï¼ˆå¯†ç ï¼‰varchar<br>phone (ç”µè¯) varchar<br>email (é‚®ç®±) varchar<br>userStatus(è´¦æˆ·çŠ¶æ€) int(0&#x2F;1&#x2F;2)</p><p>createTime(åˆ›å»ºæ—¶é—´) (æ•°æ®æ’å…¥æ—¶é—´) datetime<br>updateTime(æ›´æ–°æ—¶é—´) (æ•°æ®æ›´æ–°æ—¶é—´) datetime<br>isDelete(é€»è¾‘åˆ é™¤) tinyint</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create table</span> <span class="hljs-keyword">user</span><br>(<br>    id           <span class="hljs-type">bigint</span>                              <span class="hljs-keyword">null</span> comment <span class="hljs-string">&#x27;id&#x27;</span>,<br>    username     <span class="hljs-type">varchar</span>(<span class="hljs-number">256</span>)                        <span class="hljs-keyword">null</span> comment <span class="hljs-string">&#x27;ç”¨æˆ·æ˜µç§°&#x27;</span>,<br>    userAccount  <span class="hljs-type">varchar</span>(<span class="hljs-number">256</span>)                        <span class="hljs-keyword">null</span> comment <span class="hljs-string">&#x27;ç”¨æˆ·è´¦å·&#x27;</span>,<br>    avatarUrl    <span class="hljs-type">varchar</span>(<span class="hljs-number">2048</span>)                       <span class="hljs-keyword">null</span> comment <span class="hljs-string">&#x27;ç”¨æˆ·å¤´åƒ&#x27;</span>,<br>    gender       tinyint                             <span class="hljs-keyword">null</span> comment <span class="hljs-string">&#x27;æ€§åˆ«&#x27;</span>,<br>    userPassword <span class="hljs-type">varchar</span>(<span class="hljs-number">512</span>)                        <span class="hljs-keyword">not null</span> comment <span class="hljs-string">&#x27;å¯†ç &#x27;</span>,<br>    phone        <span class="hljs-type">varchar</span>(<span class="hljs-number">128</span>)                        <span class="hljs-keyword">null</span> comment <span class="hljs-string">&#x27;ç”µè¯å·ç &#x27;</span>,<br>    email        <span class="hljs-type">varchar</span>(<span class="hljs-number">512</span>)                        <span class="hljs-keyword">null</span> comment <span class="hljs-string">&#x27;ç”µå­é‚®ç®±&#x27;</span>,<br>    userStatus   <span class="hljs-type">int</span>       <span class="hljs-keyword">default</span> <span class="hljs-number">0</span>                 <span class="hljs-keyword">not null</span> comment <span class="hljs-string">&#x27;ç”¨æˆ·çŠ¶æ€(0æ­£å¸¸)&#x27;</span>,<br>    createTime   <span class="hljs-type">timestamp</span> <span class="hljs-keyword">default</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">null</span> comment <span class="hljs-string">&#x27;åˆ›å»ºæ—¶é—´&#x27;</span>,<br>    updateTime   <span class="hljs-type">timestamp</span> <span class="hljs-keyword">default</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">null</span> comment <span class="hljs-string">&#x27;æ›´æ–°æ—¶é—´&#x27;</span>,<br>    isDelete     tinyint   <span class="hljs-keyword">default</span> <span class="hljs-number">0</span>                 <span class="hljs-keyword">not null</span> comment <span class="hljs-string">&#x27;æ˜¯å¦åˆ é™¤&#x27;</span><br>)<br>    comment <span class="hljs-string">&#x27;ç”¨æˆ·&#x27;</span>;<br><br></code></pre></td></tr></table></figure><h2 id="æ³¨å†Œé€»è¾‘"><a href="#æ³¨å†Œé€»è¾‘" class="headerlink" title="æ³¨å†Œé€»è¾‘"></a>æ³¨å†Œé€»è¾‘</h2><ol><li>ç”¨æˆ·åœ¨å‰ç«¯è¾“å…¥è´¦å·ï¼Œå¯†ç å’Œæ ¡éªŒç </li><li>æ ¡éªŒè´¦æˆ·ï¼Œå¯†ç ï¼Œæ ¡éªŒå¯†ç æ˜¯å¦ç¬¦åˆè¦æ±‚<ol><li>è´¦æˆ·ä¸å°‘äº4ä½</li><li>å¯†ç ä¸å°‘äº8ä½</li><li>è´¦å·ä¸èƒ½é‡å¤</li><li>è´¦æˆ·ä¸å«ç‰¹æ®Šå­—ç¬¦</li><li>å¯†ç ä¸æ ¡éªŒå¯†ç ç›¸åŒ</li></ol></li><li>å¯¹å¯†ç åŠ å¯†(å¯†ç <strong>åƒä¸‡</strong>ä¸è¦ç›´æ¥å­˜å‚¨åˆ°æ•°æ®åº“)</li><li>å‘æ•°æ®åº“æ’å…¥ç”¨æˆ·æ•°æ®</li><li>è®¾è®¡å¹¶é€šè¿‡å•å…ƒæµ‹è¯•</li></ol><h2 id="ç™»é™†è®¾è®¡"><a href="#ç™»é™†è®¾è®¡" class="headerlink" title="ç™»é™†è®¾è®¡"></a>ç™»é™†è®¾è®¡</h2><h3 id="ç™»é™†æ¥å£"><a href="#ç™»é™†æ¥å£" class="headerlink" title="ç™»é™†æ¥å£"></a>ç™»é™†æ¥å£</h3><p>æ¥æ”¶å‚æ•°:ç”¨æˆ·è´¦æˆ· å¯†ç <br>    è¯·æ±‚ç±»å‹: POST<br>    &gt; è¯·æ±‚å‚æ•°è¿‡é•¿æ—¶ä¸å»ºè®®ç”¨GET<br>    è¯·æ±‚ä½“: JSONæ ¼å¼æ•°æ®<br>    è¿”å›å€¼: å½“å‰ç”¨æˆ·ä¿¡æ¯(è„±æ•)ï¼Œ</p><h3 id="ç™»é™†é€»è¾‘"><a href="#ç™»é™†é€»è¾‘" class="headerlink" title="ç™»é™†é€»è¾‘"></a>ç™»é™†é€»è¾‘</h3><ol><li>æ ¡éªŒç”¨æˆ·è´¦æˆ·å’Œå¯†ç æ˜¯å¦åˆæ³•<ol><li>éç©º</li><li>è´¦æˆ·é•¿åº¦&lt;4</li><li>å¯†ç &lt;8</li><li>è´¦æˆ·ä¸å«ç‰¹æ®Šå­—ç¬¦</li></ol></li><li>æ ¡éªŒå¯†ç æ˜¯å¦è¾“å…¥æ­£ç¡®ï¼Œä¸æ•°æ®åº“ä¸­çš„å¯†æ–‡å¯†ç å»å¯¹æ¯”</li><li>è®°å½•ç”¨æˆ·çš„ç™»é™†æ€(session)ï¼Œå°†å…¶å­˜åˆ°æœåŠ¡å™¨ä¸Šï¼Œ(ä½¿ç”¨åç«¯çš„SpringBootæ¡†æ¶å°è£…çš„æœåŠ¡å™¨tomcatå»è®°å½•)<br>cookie</li><li>è¿”å›ç”¨æˆ·ä¿¡æ¯(è„±æ•)</li></ol><h3 id="å¦‚ä½•çŸ¥é“æ˜¯å“ªä¸ªç”¨æˆ·ç™»é™†äº†ï¼Ÿ"><a href="#å¦‚ä½•çŸ¥é“æ˜¯å“ªä¸ªç”¨æˆ·ç™»é™†äº†ï¼Ÿ" class="headerlink" title="å¦‚ä½•çŸ¥é“æ˜¯å“ªä¸ªç”¨æˆ·ç™»é™†äº†ï¼Ÿ"></a>å¦‚ä½•çŸ¥é“æ˜¯å“ªä¸ªç”¨æˆ·ç™»é™†äº†ï¼Ÿ</h3><ol><li>è¿æ¥åˆ°æœåŠ¡å™¨ç«¯åï¼Œå¾—åˆ°ä¸€ä¸ªsession1çŠ¶æ€(åŒ¿åä¼šè¯)ï¼Œè¿”å›ç»™å‰ç«¯</li><li>ç™»é™†æˆåŠŸåï¼Œå¾—åˆ°ç™»é™†æˆåŠŸçš„seesionï¼Œå¹¶ä¸”ç»™sessionè®¾ç½®ä¸€äº›å€¼ï¼Œè¿”å›ç»™å‰ç«¯è®¾ç½®cookieçš„å‘½ä»¤</li><li>å‰ç«¯æ¥æ”¶å‘½ä»¤ï¼Œè®¾ç½®cookieä¿å­˜åˆ°æµè§ˆå™¨</li><li>å‰ç«¯å†æ¬¡è¯·æ±‚åç«¯æ—¶ï¼Œåœ¨è¯·æ±‚å¤´ä¸­å¸¦ä¸Šcookie</li><li>åç«¯æ‹¿åˆ°å‰ç«¯ä¼ æ¥çš„cookieï¼Œæ‰¾åˆ°å¯¹åº”çš„session</li><li>åç«¯ä»sessionä¸­å–å‡ºåŸºäºè¯¥sessionå‚¨å­˜çš„å˜é‡ï¼ˆç”¨æˆ·çš„ç™»å½•ä¿¡æ¯ï¼Œç™»å½•åç­‰ï¼‰</li></ol><h3 id="åç«¯æ§åˆ¶å±‚-Controller-å°è£…è¯·æ±‚"><a href="#åç«¯æ§åˆ¶å±‚-Controller-å°è£…è¯·æ±‚" class="headerlink" title="åç«¯æ§åˆ¶å±‚-Controller å°è£…è¯·æ±‚"></a>åç«¯æ§åˆ¶å±‚-Controller å°è£…è¯·æ±‚</h3><p>@RestController é€‚ç”¨äºç¼–å†™RESTfulé£æ ¼çš„API</p><blockquote><p><strong>å…³äºRESTfulé£æ ¼ï¼š</strong><br>ç¼©å†™ï¼šREST ï¼ˆä¸æ˜¯â€restâ€è¿™ä¸ªå•è¯ï¼‰<br>å¤–æ–‡åï¼šRepresentational State Transferï¼Œç®€ç§° RESTã€‚ä¸­æ–‡åï¼šè¡¨ç°å±‚çŠ¶æ€è½¬ç§»ï¼Œå³<strong>èµ„æºåœ¨ç½‘ç»œä¸­ä»¥æŸç§è¡¨ç°å½¢å¼è¿›è¡ŒçŠ¶æ€è½¬ç§»ã€‚</strong><br>æå‡ºæ—¶é—´ï¼š2000å¹´ã€‚<br>å±æ€§ï¼šä¸€ç§è½¯ä»¶æ¶æ„é£æ ¼ã€‚ï¼ˆä»¥Webä¸ºå¹³å°çš„ã€‚webæœåŠ¡çš„æ¶æ„é£æ ¼ï¼Œå‰åç«¯æ¥å£æ—¶å€™ç”¨åˆ°ã€‚ï¼‰<br>**ç†è§£ï¼š**URLä¸­åªä½¿ç”¨åè¯æ¥å®šä½èµ„æºï¼Œç”¨HTTPåè®®é‡Œçš„åŠ¨è¯ï¼ˆGETã€POSTã€PUTã€DELETEï¼‰æ¥å®ç°èµ„æºçš„å¢åˆ æ”¹æŸ¥æ“ä½œã€‚</p></blockquote><p>Controllerå±‚å€¾å‘äºå¯¹è¯·æ±‚å‚æ•°æœ¬èº«çš„æ ¡éªŒï¼Œä¸æ¶‰åŠä¸šåŠ¡æœ¬èº«é€»è¾‘(è¶Šå°‘è¶Šå¥½)<br>Serviceå±‚æ˜¯å¯¹ä¸šåŠ¡é€»è¾‘çš„æ ¡éªŒ(æœ‰å¯èƒ½æ¶‰åŠControllerä¹‹å¤–çš„ç±»è°ƒç”¨)</p><h3 id="ç”¨æˆ·ç®¡ç†æ¥å£"><a href="#ç”¨æˆ·ç®¡ç†æ¥å£" class="headerlink" title="ç”¨æˆ·ç®¡ç†æ¥å£"></a>ç”¨æˆ·ç®¡ç†æ¥å£</h3><ol><li>æŸ¥è¯¢ç”¨æˆ·<ol><li>é‰´æƒ</li><li>æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢</li></ol></li><li>åˆ é™¤ç”¨æˆ·<ol><li>é‰´æƒ</li><li>é€»è¾‘åˆ é™¤</li></ol></li></ol><h3 id="Java-SpringBooté…ç½®é¡¹"><a href="#Java-SpringBooté…ç½®é¡¹" class="headerlink" title="Java SpringBooté…ç½®é¡¹"></a>Java SpringBooté…ç½®é¡¹</h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">application:</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">user-center</span><br>  <span class="hljs-attr">datasource:</span><br>    <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.jdbc.Driver</span><br>    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/uniuser</span><br>    <span class="hljs-attr">username:</span> <span class="hljs-string">root</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-string">~</span><br><span class="hljs-comment">#    sessionå¤±æ•ˆæ—¶é—´</span><br>  <span class="hljs-attr">session:</span><br>    <span class="hljs-attr">timeout:</span> <span class="hljs-number">86400</span><br><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">8080</span><br>  <span class="hljs-attr">servlet:</span><br>    <span class="hljs-attr">context-path:</span> <span class="hljs-string">/api</span><br><span class="hljs-attr">mybatis-plus:</span><br>  <span class="hljs-attr">configuration:</span><br>    <span class="hljs-attr">map-underscore-to-camel-case:</span> <span class="hljs-literal">false</span><br>  <span class="hljs-attr">global-config:</span><br>    <span class="hljs-attr">db-config:</span><br>      <span class="hljs-attr">logic-delete-field:</span> <span class="hljs-string">isDelete</span> <span class="hljs-comment"># å…¨å±€é€»è¾‘åˆ é™¤å­—æ®µå</span><br>      <span class="hljs-attr">logic-delete-value:</span> <span class="hljs-number">1</span> <span class="hljs-comment"># é€»è¾‘å·²åˆ é™¤å€¼</span><br>      <span class="hljs-attr">logic-not-delete-value:</span> <span class="hljs-number">0</span> <span class="hljs-comment"># é€»è¾‘æœªåˆ é™¤å€¼</span><br></code></pre></td></tr></table></figure><h3 id="å‰ç«¯ç”¨æˆ·ç™»é™†åŠŸèƒ½"><a href="#å‰ç«¯ç”¨æˆ·ç™»é™†åŠŸèƒ½" class="headerlink" title="å‰ç«¯ç”¨æˆ·ç™»é™†åŠŸèƒ½"></a>å‰ç«¯ç”¨æˆ·ç™»é™†åŠŸèƒ½</h3><ol><li>åˆå§‹åŒ–ï¼Œæ”¹è„šæ‰‹æ¶</li><li>åˆ é™¤å¤šä½™ä»£ç </li><li>ä¿®æ”¹æ¨¡æ¿nameï¼Œå®ç°postè¯·æ±‚çš„keyä¸åç«¯apiä¸€è‡´</li><li>åŒæ­¥routerå’Œproxy å®Œæˆä»£ç†</li></ol><h3 id="å‰ç«¯ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½"><a href="#å‰ç«¯ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½" class="headerlink" title="å‰ç«¯ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½"></a>å‰ç«¯ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½</h3><ol><li>å¤åˆ¶ç²˜è´´ï¼Œä¿®æ”¹ç»„ä»¶å†…å‚æ•°å</li><li>æ³¨å†Œrouter<ol><li>ä¿®æ”¹router</li><li>åœ¨<code>app.tsx</code>ä¸­ä¿®æ”¹ç™»é™†é‡å®šå‘é€»è¾‘ï¼Œå®ç°registerè·¯ç”±ç™½åå•</li></ol></li><li>æŒ‰è¦æ±‚é‡æ„ç»„ä»¶<ol><li>å¸¸è§„æ–‡å­—ä¿®æ”¹</li><li>ä¸‰ä¸ªè¾“å…¥æ¡†<code>&lt;ProFormText&gt;</code>ç»„ä»¶</li><li>ruleä¼ å‚å®ç°è§„åˆ™åŒ¹é…<ol><li>min&#x2F;max:é™åˆ¶è¾“å…¥å¤§å°</li><li>whitespace:falseçº¦æŸç©ºæ ¼è¾“å…¥</li><li>validator:è‡ªå®šä¹‰æ–¹æ³•å®ç°è¡¨å•å…¨å±€æŸ¥æ‰¾ï¼Œè·å–å¹¶æŒ‰éœ€æ±‚æ ¡éªŒ</li></ol> <figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs ts">(&#123; getFieldValue &#125;) =&gt; (&#123;<br>        <span class="hljs-title function_">validator</span>(<span class="hljs-params">_, value</span>) &#123;<br>          <span class="hljs-keyword">if</span> (!value || <span class="hljs-title function_">getFieldValue</span>(<span class="hljs-string">&#x27;userPassword&#x27;</span>) === value || value.<span class="hljs-title function_">toString</span>().<span class="hljs-property">length</span>&lt;<span class="hljs-number">8</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>();<br>          &#125;<br>          <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´!&#x27;</span>));<br>        &#125;,<br>      &#125;),<br></code></pre></td></tr></table></figure><ol start="4"><li>pattern:æ­£åˆ™è¡¨è¾¾å¼æ¨¡æ¿åˆæ³•åŒ¹é…</li></ol></li><li>å‘ä¸ŠæŸ¥æ‰¾ProComponentå°è£…çš„<code>&lt;LoginForm&gt;</code>ç»„ä»¶ï¼Œå®ç°è‡ªå®šä¹‰ç™»é™†æŒ‰é’®å†…æ–‡å­—ï¼ˆæŒ‰éœ€æ±‚é‡æ„å°è£…ç»„ä»¶çš„æ€è·¯ï¼‰</li><li>åˆ©ç”¨AntD Proçš„<code>history.push()</code>æ–¹æ³•å®ç°åŒåŸŸåè·³è½¬è·¯ç”±åŠŸèƒ½</li></ol></li></ol><h3 id="å‰åç«¯äº¤äº’"><a href="#å‰åç«¯äº¤äº’" class="headerlink" title="å‰åç«¯äº¤äº’"></a>å‰åç«¯äº¤äº’</h3><p>ç”¨åˆ°umiæ’ä»¶ï¼ŒrequestConfigä¿®æ”¹é…ç½®</p><h2 id="ä»£ç†"><a href="#ä»£ç†" class="headerlink" title="ä»£ç†"></a>ä»£ç†</h2><p><strong>æ­£å‘ä»£ç†ï¼š</strong> æ›¿å®¢æˆ·ç«¯å‘é€è¯·æ±‚<br><strong>åå‘ä»£ç†ï¼š</strong> æ›¿æœåŠ¡å™¨æ¥æ”¶è¯·æ±‚ï¼Œè´Ÿè½½å‡è¡¡<br>å¦‚ä½•å®ç°ä»£ç†ï¼Ÿ:Nginx&#x2F;Node.js</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç«¯æ·±å…¥å­¦ä¹ ç¬”è®°</title>
    <link href="/2025/04/06/%E5%89%8D%E7%AB%AF%E5%85%AB%E8%82%A1%E6%96%87%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <url>/2025/04/06/%E5%89%8D%E7%AB%AF%E5%85%AB%E8%82%A1%E6%96%87%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="å‰ç«¯å…«è‚¡æ–‡å­¦ä¹ ç¬”è®°"><a href="#å‰ç«¯å…«è‚¡æ–‡å­¦ä¹ ç¬”è®°" class="headerlink" title="å‰ç«¯å…«è‚¡æ–‡å­¦ä¹ ç¬”è®°"></a>å‰ç«¯å…«è‚¡æ–‡å­¦ä¹ ç¬”è®°</h1><h2 id="Javascript"><a href="#Javascript" class="headerlink" title="Javascript"></a>Javascript</h2><h3 id="EventLoop-å¾®ä»»åŠ¡ä¸å®ä»»åŠ¡"><a href="#EventLoop-å¾®ä»»åŠ¡ä¸å®ä»»åŠ¡" class="headerlink" title="EventLoop å¾®ä»»åŠ¡ä¸å®ä»»åŠ¡"></a>EventLoop å¾®ä»»åŠ¡ä¸å®ä»»åŠ¡</h3><blockquote><p>å‚è€ƒèµ„æ–™ï¼š<br><a href="https://juejin.cn/post/7484521465200132122" target="_blank" rel="noopener noreferrer">æ·±å…¥æµ…å‡º JavaScript äº‹ä»¶å¾ªç¯ä¸å¼‚æ­¥ç¼–ç¨‹æŠ€å·§</a><br><a href="https://juejin.cn/post/7108751200262029319" target="_blank" rel="noopener noreferrer">ä¸€æ–‡è¯¦è§£Event Loopäº‹ä»¶å¾ªç¯ã€å¾®ä»»åŠ¡ã€å®ä»»åŠ¡</a></p></blockquote><h4 id="1-è°ƒç”¨æ ˆ"><a href="#1-è°ƒç”¨æ ˆ" class="headerlink" title="1.è°ƒç”¨æ ˆ"></a>1.è°ƒç”¨æ ˆ</h4><p>è°ƒç”¨æ ˆæ˜¯ JavaScript æ‰§è¡Œ<strong>åŒæ­¥ä»£ç </strong>çš„åœ°æ–¹ã€‚å®ƒæ˜¯ä¸€ä¸ª<strong>åè¿›å…ˆå‡º</strong>çš„æ•°æ®ç»“æ„ï¼Œç”¨æ¥è®°å½•å‡½æ•°çš„è°ƒç”¨é¡ºåºã€‚æ¯å½“ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œå®ƒå°±ä¼šè¢«æ¨å…¥è°ƒç”¨æ ˆï¼›å½“å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œå®ƒå°±ä¼šä»è°ƒç”¨æ ˆä¸­å¼¹å‡ºã€‚</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs js"><br><span class="hljs-comment">//eloop1.js</span><br><br><br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br><br>Â  Â  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;foo&#x27;</span>);<br><br>Â  &#125;<br><br>Â  <span class="hljs-keyword">function</span> <span class="hljs-title function_">bar</span>(<span class="hljs-params"></span>) &#123;<br><br>Â  Â  <span class="hljs-title function_">foo</span>();<br><br>Â  Â  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;bar&#x27;</span>);<br><br>Â  &#125;<br><br>Â  <span class="hljs-title function_">bar</span>();<br><br><span class="hljs-comment">// foo</span><br><br><span class="hljs-comment">// bar</span><br><br></code></pre></td></tr></table></figure><h4 id="2-ä»»åŠ¡é˜Ÿåˆ—"><a href="#2-ä»»åŠ¡é˜Ÿåˆ—" class="headerlink" title="2.ä»»åŠ¡é˜Ÿåˆ—"></a>2.ä»»åŠ¡é˜Ÿåˆ—</h4><p>ä»»åŠ¡é˜Ÿåˆ—ç”¨äºå­˜æ”¾å¼‚æ­¥ä»»åŠ¡çš„å›è°ƒå‡½æ•°ã€‚å½“å¼‚æ­¥ä»»åŠ¡ï¼ˆå¦‚ <code>setTimeout</code>ã€<code>setInterval</code>ã€I&#x2F;O æ“ä½œç­‰ï¼‰å®Œæˆæ—¶ï¼Œå®ƒä»¬çš„å›è°ƒå‡½æ•°ä¼šè¢«æ”¾å…¥ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œç­‰å¾…äº‹ä»¶å¾ªç¯å¤„ç†ã€‚</p><p>å…·ä½“çš„æ¥è¯´ï¼Œå¼‚æ­¥ä»»åŠ¡åˆåˆ†ä¸ºå®ä»»åŠ¡(Macrotask)å’Œå¾®ä»»åŠ¡(Microtask)</p><h5 id="å®ä»»åŠ¡"><a href="#å®ä»»åŠ¡" class="headerlink" title="å®ä»»åŠ¡"></a>å®ä»»åŠ¡</h5><p>å®ä»»åŠ¡æ˜¯äº‹ä»¶å¾ªç¯ä¸­çš„ä¸»è¦ä»»åŠ¡å•å…ƒã€‚æ¯æ¬¡äº‹ä»¶å¾ªç¯ä¼šæ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡ï¼Œç„¶åæ£€æŸ¥å¹¶æ‰§è¡Œæ‰€æœ‰çš„å¾®ä»»åŠ¡ã€‚</p><p>å¸¸è§å®ä»»åŠ¡æœ‰ï¼š</p><table><thead><tr><th>å®ä»»åŠ¡ç±»å‹</th><th>å…·ä½“å½¢æ€</th></tr></thead><tbody><tr><td>å®šæ—¶å™¨æ“ä½œ</td><td><code>setTimeout</code>,<code>setInterval</code></td></tr><tr><td>I&#x2F;O æ“ä½œ</td><td>æ–‡ä»¶è¯»å†™ã€ç½‘ç»œè¯·æ±‚ç­‰</td></tr><tr><td>UI æ¸²æŸ“</td><td>æµè§ˆå™¨ä¸­çš„ UI æ›´æ–°ã€‚</td></tr><tr><td>äº‹ä»¶å›è°ƒ</td><td><code>click</code>ã€<code>scroll</code> ç­‰ DOM äº‹ä»¶</td></tr><tr><td><code>requestAnimationFrame</code></td><td>æµè§ˆå™¨ä¸­çš„åŠ¨ç”»å¸§å›è°ƒï¼ˆä¼˜å…ˆçº§é«˜äºæ™®é€šå®ä»»åŠ¡ï¼‰</td></tr><tr><td><code>setImmediate</code></td><td>ï¼ˆNode.js ç‰¹æœ‰ï¼‰ï¼šåœ¨å½“å‰äº‹ä»¶å¾ªç¯ç»“æŸåç«‹å³æ‰§è¡Œã€‚</td></tr></tbody></table><h5 id="å¾®ä»»åŠ¡"><a href="#å¾®ä»»åŠ¡" class="headerlink" title="å¾®ä»»åŠ¡"></a>å¾®ä»»åŠ¡</h5><p>å¾®ä»»åŠ¡é˜Ÿåˆ—ç”¨äºå­˜æ”¾ä¼˜å…ˆçº§æ›´é«˜çš„å¼‚æ­¥ä»»åŠ¡å›è°ƒï¼Œå¾®ä»»åŠ¡ä¼šåœ¨å½“å‰ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åç«‹å³æ‰§è¡Œä¸”ä¼šåœ¨ä¸‹ä¸€ä¸ªå®ä»»åŠ¡å¼€å§‹ä¹‹å‰æ¸…ç©ºã€‚</p><table><thead><tr><th>å¾®ä»»åŠ¡ç±»å‹</th><th>å…·ä½“å½¢æ€</th></tr></thead><tbody><tr><td><code>Promise</code>çš„å›è°ƒ</td><td><code>then</code>,<code>catch</code>,<code>finally</code></td></tr><tr><td><code>async / await</code></td><td>å¼‚æ­¥æ–¹æ³•</td></tr><tr><td><code>queueMicrotask</code></td><td>å°†ä»»åŠ¡æ¨å…¥å¾®é˜Ÿåˆ—çš„API</td></tr><tr><td><code>MutationObserver</code></td><td>ç›‘å¬DOMå˜åŒ–çš„å›è°ƒ</td></tr></tbody></table><h4 id="3-äº‹ä»¶å¾ªç¯çš„æµç¨‹"><a href="#3-äº‹ä»¶å¾ªç¯çš„æµç¨‹" class="headerlink" title="3.äº‹ä»¶å¾ªç¯çš„æµç¨‹"></a>3.äº‹ä»¶å¾ªç¯çš„æµç¨‹</h4><ol><li><p><strong>æ‰§è¡ŒåŒæ­¥ä»£ç </strong> ï¼šä»è°ƒç”¨æ ˆé‡Œæ‰§è¡ŒåŒæ­¥ä»»åŠ¡</p></li><li><p><strong>å¼‚æ­¥ä»»åŠ¡å‹å…¥ä»»åŠ¡é˜Ÿåˆ—</strong>ï¼šé‡åˆ°å®&#x2F;å¾®ä»»åŠ¡ï¼ŒåŠ å…¥å¯¹åº”çš„ä»»åŠ¡é˜Ÿåˆ—</p></li><li><p><strong>æ¸…ç©ºå¾®ä»»åŠ¡é˜Ÿåˆ—</strong>ï¼šå¾ªç¯æ‰§è¡Œæ‰€æœ‰å¾®ä»»åŠ¡ï¼ˆå¦‚ Promise çš„å›è°ƒï¼‰ã€‚</p></li><li><p><strong>æ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡</strong>ï¼šä»å®ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œã€‚</p></li></ol><p>å‚è€ƒç¤ºä¾‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs js"><br><span class="hljs-comment">//eloop2.js</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Script start&#x27;</span>);<br><br><br><br><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br><br>Â  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Timeout&#x27;</span>);<br><br>&#125;, <span class="hljs-number">0</span>);<br><br><br><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<br><br>Â  Â  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Behind Promise&quot;</span>)<br><br>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> &#123;<br><br>Â  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Promise&#x27;</span>);<br><br>&#125;);<br><br><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Script end&#x27;</span>);<br><br><span class="hljs-comment">// Script start</span><br><br><span class="hljs-comment">// Behind Promise</span><br><br><span class="hljs-comment">// Script end</span><br><br><span class="hljs-comment">// Promise</span><br><br><span class="hljs-comment">// Timeout</span><br><br><br><br></code></pre></td></tr></table></figure><h4 id="4-ä¸å¾—ä¸å“çš„æ˜“é”™ç‚¹ï¼"><a href="#4-ä¸å¾—ä¸å“çš„æ˜“é”™ç‚¹ï¼" class="headerlink" title="4.ä¸å¾—ä¸å“çš„æ˜“é”™ç‚¹ï¼"></a>4.ä¸å¾—ä¸å“çš„æ˜“é”™ç‚¹ï¼</h4><ol><li><code>Promise</code>æœ¬èº«æ˜¯ä¸€ä¸ª<strong>åŒæ­¥</strong>çš„ä»£ç (åªæ˜¯å®¹å™¨)ï¼Œåªæœ‰å®ƒåé¢è°ƒç”¨çš„<code>then()</code>æ–¹æ³•é‡Œé¢çš„å›è°ƒæ‰æ˜¯å¾®ä»»åŠ¡</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs js"><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span>&#123;<br><br>Â  Â  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;111&#x27;</span>)<br><br>Â  Â  <span class="hljs-title function_">resolve</span>()<br><br>&#125;).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br><br>Â  Â  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;222&quot;</span>)<br><br>&#125;)<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;333&#x27;</span>)<br><br><br><br><span class="hljs-comment">// 111</span><br><br><span class="hljs-comment">// 333</span><br><br><span class="hljs-comment">// 222</span><br><br></code></pre></td></tr></table></figure><ol start="2"><li><code>await</code>å³è¾¹çš„<strong>ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼</strong>è¿˜æ˜¯ä¼š<strong>ç«‹å³æ‰§è¡Œ</strong>,è¡¨è¾¾å¼ä¹‹åçš„ä»£ç æ‰æ˜¯å¾®ä»»åŠ¡</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs js"><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>) <span class="hljs-comment">//1</span><br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">async1</span>(<span class="hljs-params"></span>) &#123;<br><br>Â  Â  <span class="hljs-keyword">await</span> <span class="hljs-title function_">async2</span>()<span class="hljs-comment">//3</span><br><br>Â  Â  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>)<span class="hljs-comment">//6</span><br><br>Â  Â  <span class="hljs-keyword">await</span> <span class="hljs-title function_">async3</span>()<span class="hljs-comment">//7</span><br><br>Â  Â  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>)<br><br>&#125;<br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">async2</span>(<span class="hljs-params"></span>) &#123;<br><br>Â  Â  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">4</span>)<span class="hljs-comment">//4</span><br><br>&#125;<br><br><br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">async3</span>(<span class="hljs-params"></span>) &#123;<br><br>Â  Â  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">5</span>)<span class="hljs-comment">//8</span><br><br>&#125;<br><br><br><br><span class="hljs-title function_">async1</span>()<span class="hljs-comment">//2</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">6</span>)<span class="hljs-comment">//5</span><br><br><span class="hljs-comment">// 1 4 6 2 5 3</span><br><br></code></pre></td></tr></table></figure><h4 id="5-ä¾‹é¢˜"><a href="#5-ä¾‹é¢˜" class="headerlink" title="5.ä¾‹é¢˜"></a>5.ä¾‹é¢˜</h4><p><img src="/bench.webp" alt="ä¾‹é¢˜"><br><strong>è§£æï¼š</strong></p><p>1.å…ˆæ‰§è¡Œä¸»çº¿ç¨‹ä¸Šçš„åŒæ­¥ä»£ç ï¼Œæ‰“å°1</p><p>2.æ‰§è¡Œç¬¬9è¡Œçš„å‡½æ•°ï¼Œè¿›â¼Šasync1å†…éƒ¨ï¼Œasync1å…¶å®æ˜¯å£°æ˜äº†â¼€ä¸ªpromise,promiseæ˜¯åŒæ­¥ä»£ç ï¼Œä¼šé¡ºåºæ‰§â¾æ‰“å°async2å‡½æ•°é‡Œçš„4 ï¼Œåªæœ‰.thenâ¾¥â¾¯çš„ä»£ç ä¼šåŠ â¼Šå¾®ä»»åŠ¡é˜Ÿåˆ—â¾¥ï¼Œè¿™â¾¥ç›¸å½“äºæ‰§â¾äº†async2()ä¹‹åï¼Œå†å°†åé¢çš„ä»£ç åŠ â¼Šâ¼€ä¸ªå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ã€‚</p><p>3.å›ä¸»çº¿ç¨‹ä¸­ï¼Œé‡åˆ°setTimeout()ï¼ŒåŠ â¼Šåˆ°å®ä»»åŠ¡é˜Ÿåˆ—</p><p>4.ä¸»çº¿ç¨‹ç»§ç»­å¾€åæ‰§â¾ï¼Œå‰â¾¯è¯´è¿‡ï¼Œpromiseæ˜¯åŒæ­¥ä»£ç ï¼Œ.thenåâ¾¯çš„å›è°ƒä¼šåŠ â¼Šå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ‰€ä»¥ä¼šæ‰“å°13â¾çš„7</p><p>5.ä¸»çº¿ç¨‹æ‰§â¾å®Œæˆï¼Œå¼€å§‹æ‰§â¾å¾®ä»»åŠ¡é˜Ÿåˆ—å†…çš„ä»»åŠ¡ï¼Œéµå¾ªå…ˆè¿›å…ˆå‡ºçš„åŸåˆ™ï¼Œæ‰“å°ç¬¬å››â¾çš„2ã€‚ç„¶åæ¥ç€æ‰§è¡Œç¬¬5è¡Œç¬¬äºŒä¸ªawaiteå³è¾¹çš„ä»£ç ï¼Œæ‰“å°5ã€‚ç¬¬6è¡Œè¿™ä¸ªæ—¶å€™å°±è¢«åŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚</p><p>6.æ¥ç€ä¼šæ‰§è¡Œç¬¬äºŒä¸ªå¾®ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯16è¡Œä»£ç ï¼Œæ‰“å°8ã€‚ç¬¬17è¡Œçš„thenè¿™ä¸ªæ—¶å€™ä¹Ÿä¼šåŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚å†ä¾æ¬¡æ‰§è¡Œç¬¬6è¡Œå’Œç¬¬17è¡Œçš„ä¸¤ä¸ªå¾®ä»»åŠ¡ï¼Œæ‰“å°3å’Œ9</p><p>7.å¾®ä»»åŠ¡æ‰§â¾ç»“æŸï¼Œå¼€å§‹æ‰§â¾å®ä»»åŠ¡setTimeout,æ‰“å°11â¾çš„6.</p><h4 id="6-æ€»ç»“"><a href="#6-æ€»ç»“" class="headerlink" title="6.æ€»ç»“"></a>6.æ€»ç»“</h4><p>æ‰€æœ‰åŒæ­¥ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆï¼ˆcall stackï¼‰ã€‚</p><p>é‡åˆ°å¼‚æ­¥ä»»åŠ¡, è¿›å…¥å¼‚æ­¥å¤„ç†æ¨¡å—å¹¶æ³¨å†Œå›è°ƒå‡½æ•°; ç­‰åˆ°æŒ‡å®šçš„äº‹ä»¶å®Œæˆ(å¦‚ajaxè¯·æ±‚å“åº”è¿”å›, setTimeoutå»¶è¿Ÿåˆ°æŒ‡å®šæ—¶é—´)æ—¶ï¼Œå¼‚æ­¥å¤„ç†æ¨¡å—ä¼šå°†è¿™ä¸ªå›è°ƒå‡½æ•°ç§»å…¥å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—ã€‚</p><p>å½“æ ˆä¸­çš„ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œæ‰§è¡Œæ ˆä¸­çš„ä»»åŠ¡ä¸ºç©ºæ—¶ï¼Œä¸»çº¿ç¨‹ä¼šå…ˆæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰ä»»åŠ¡ï¼Œå¦‚æœæœ‰ï¼Œå°±å°†å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰ä»»åŠ¡ä¾æ¬¡æ‰§è¡Œï¼Œç›´åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©º; ä¹‹åå†æ£€æŸ¥å®ä»»åŠ¡é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰ä»»åŠ¡ï¼Œå¦‚æœæœ‰ï¼Œåˆ™å–å‡ºç¬¬ä¸€ä¸ªå®ä»»åŠ¡åŠ å…¥åˆ°æ‰§è¡Œæ ˆä¸­ï¼Œä¹‹åå†æ¸…ç©ºæ‰§è¡Œæ ˆï¼Œæ£€æŸ¥å¾®ä»»åŠ¡ï¼Œä»¥æ­¤å¾ªç¯ï¼Œç›´åˆ°å…¨éƒ¨çš„ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæˆã€‚</p><h3 id="æœ¬åœ°åŒ–å­˜å‚¨"><a href="#æœ¬åœ°åŒ–å­˜å‚¨" class="headerlink" title="æœ¬åœ°åŒ–å­˜å‚¨"></a>æœ¬åœ°åŒ–å­˜å‚¨</h3><blockquote><p>å‚è€ƒèµ„æ–™<br><a href="https://juejin.cn/post/7273025863981383680" target="_blank" rel="noopener noreferrer">æ·±åº¦è§£ææœ¬åœ°åŒ–å­˜å‚¨æ–¹æ¡ˆä¸é¡¹ç›®å®æˆ˜ç»éªŒ</a><br><a href="https://juejin.cn/post/7490391876743561256" target="_blank" rel="noopener noreferrer">å‰ç«¯çŸ¥è¯†åº“</a></p></blockquote><h4 id="Cookies"><a href="#Cookies" class="headerlink" title="Cookies"></a>Cookies</h4><h5 id="Cookiesæ˜¯ä»€ä¹ˆ"><a href="#Cookiesæ˜¯ä»€ä¹ˆ" class="headerlink" title="Cookiesæ˜¯ä»€ä¹ˆ"></a>Cookiesæ˜¯ä»€ä¹ˆ</h5><p>Cookie æ˜¯æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´ä¼ é€’å°å‹æ•°æ®çš„ä¸€ç§æœºåˆ¶ã€‚å®ƒé€šå¸¸ç”¨äºå­˜å‚¨å®¢æˆ·ç«¯ï¼ˆå¦‚æµè§ˆå™¨ï¼‰çš„ä¸€äº›ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯ä¼šåœ¨éšåçš„è¯·æ±‚ä¸­è‡ªåŠ¨å‘é€ç»™æœåŠ¡å™¨ï¼Œå¸®åŠ©æœåŠ¡å™¨è®°ä½ç”¨æˆ·çš„çŠ¶æ€æˆ–è€…è¡Œä¸ºã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ç”¨ Cookie è®°å½•ç”¨æˆ·çš„ç™»å½•çŠ¶æ€ã€è´­ç‰©è½¦å†…å®¹ç­‰ã€‚<br><strong>ç‰¹ç‚¹ï¼š</strong></p><ol><li>å®¹é‡å°ï¼šæ¯ä¸ªCookieé€šå¸¸åªèƒ½å­˜å‚¨4KBå·¦å³çš„æ•°æ®ã€‚</li><li>è·¨æµè§ˆå™¨æ”¯æŒï¼šå‡ ä¹æ‰€æœ‰ç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒCookiesã€‚</li><li>è‡ªåŠ¨å‘é€ï¼šæµè§ˆå™¨åœ¨æ¯æ¬¡HTTPè¯·æ±‚ä¸­éƒ½ä¼šè‡ªåŠ¨å‘é€ä¸ç½‘ç«™ç›¸å…³çš„Cookiesã€‚</li></ol><h5 id="Cookiesåœ¨HTTPä¸­çš„ä½¿ç”¨"><a href="#Cookiesåœ¨HTTPä¸­çš„ä½¿ç”¨" class="headerlink" title="Cookiesåœ¨HTTPä¸­çš„ä½¿ç”¨"></a>Cookiesåœ¨HTTPä¸­çš„ä½¿ç”¨</h5><p>åœ¨ HTTP è¯·æ±‚å’Œå“åº”ä¸­ï¼ŒCookie çš„ä½¿ç”¨ä¸»è¦é€šè¿‡ HTTP å¤´éƒ¨æ¥è¿›è¡Œã€‚</p><ol><li><p>æœåŠ¡å™¨è®¾ç½® Cookieï¼š<br>å½“æœåŠ¡å™¨å¸Œæœ›åœ¨æµè§ˆå™¨ä¸­å­˜å‚¨ä¸€äº›ä¿¡æ¯æ—¶ï¼Œå®ƒä¼šé€šè¿‡ HTTP å“åº”å¤´ä¸­çš„ <code>Set-Cookie</code> å­—æ®µæ¥è®¾ç½® Cookieã€‚</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-meta">HTTP/1.1</span> <span class="hljs-number">200</span> OK<br><span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>text/html<br><span class="hljs-attribute">Set-Cookie</span><span class="hljs-punctuation">: </span>userId=12345; Expires=Thu, 01 Jan 2026 00:00:00 GMT; Path=/<br></code></pre></td></tr></table></figure></li><li><p>å®¢æˆ·ç«¯å‘é€ Cookieï¼šå½“æµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å°†å­˜å‚¨çš„ Cookie é€šè¿‡ Cookie å¤´å‘é€ç»™æœåŠ¡å™¨ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/index.html</span> <span class="hljs-meta">HTTP/1.1</span><br><span class="hljs-attribute">Host</span><span class="hljs-punctuation">: </span>www.example.com<br><span class="hljs-attribute">Cookie</span><span class="hljs-punctuation">: </span>userId=12345<br></code></pre></td></tr></table></figure><h5 id="Cookie-çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#Cookie-çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Cookie çš„ç”Ÿå‘½å‘¨æœŸ"></a>Cookie çš„ç”Ÿå‘½å‘¨æœŸ</h5></li></ol><ul><li><strong>ä¼šè¯ Cookie</strong>ï¼šæ²¡æœ‰è®¾ç½® <code>Expires</code> æˆ– <code>Max-Age</code> çš„ Cookie æ˜¯ä¼šè¯ Cookieï¼Œå®ƒä»…åœ¨å½“å‰æµè§ˆå™¨ä¼šè¯æœ‰æ•ˆï¼Œæµè§ˆå™¨å…³é—­æ—¶ä¼šè‡ªåŠ¨åˆ é™¤ã€‚</li><li><strong>æŒä¹… Cookie</strong>ï¼šè®¾ç½®äº† <code>Expires</code> æˆ– <code>Max-Age</code>ï¼Œåˆ™è¯¥ Cookie æ˜¯æŒä¹…åŒ–çš„ï¼Œç›´åˆ°æŒ‡å®šçš„æ—¶é—´ç‚¹æ‰ä¼šè¿‡æœŸã€‚</li></ul><h5 id="Cookiesçš„è®¾ç½®"><a href="#Cookiesçš„è®¾ç½®" class="headerlink" title="Cookiesçš„è®¾ç½®"></a>Cookiesçš„è®¾ç½®</h5><p>å¯ä»¥é€šè¿‡ <code>document.cookie</code> æ¥è®¾ç½® Cookieã€‚åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">document</span>.<span class="hljs-property">cookie</span> = <span class="hljs-string">&#x27;name=value; expires=expiration_date; path=path; domain=domain; secure&#x27;</span>;<br></code></pre></td></tr></table></figure><ul><li><code>name=value</code>ï¼šCookie çš„é”®å€¼å¯¹ã€‚</li><li><code>expires</code>ï¼šæŒ‡å®šè¿‡æœŸæ—¶é—´ï¼Œå¿…é¡»æ˜¯æœ‰æ•ˆçš„ UTC æ ¼å¼ã€‚å¦‚æœä¸è®¾ç½®ï¼Œåˆ™é»˜è®¤ä¸ºä¼šè¯ Cookieã€‚</li><li><code>path</code>ï¼šæŒ‡å®šè·¯å¾„ï¼Œé»˜è®¤ä¸ºå½“å‰é¡µé¢è·¯å¾„ã€‚</li><li><code>domain</code>ï¼šæŒ‡å®š Cookie çš„æœ‰æ•ˆåŸŸåã€‚ï¼ˆè§£å†³è·¨åŸŸé—®é¢˜ï¼‰</li><li><code>secure</code>ï¼šè¡¨ç¤ºè¯¥ Cookie åªé€šè¿‡ HTTPS åè®®å‘é€ã€‚</li></ul><h5 id="Cookiesçš„å®‰å…¨æ€§"><a href="#Cookiesçš„å®‰å…¨æ€§" class="headerlink" title="Cookiesçš„å®‰å…¨æ€§"></a>Cookiesçš„å®‰å…¨æ€§</h5><ul><li><p><code>HttpOnly</code>ï¼šå¦‚æœè®¾ç½®äº† <code>HttpOnly</code> æ ‡å¿—ï¼Œè¯¥ Cookie ä¸èƒ½è¢« JavaScript è®¿é—®ï¼Œé¿å… XSS æ”»å‡»çªƒå– Cookie ä¸­çš„æ•æ„Ÿä¿¡æ¯ã€‚</p></li><li><p><code>Secure</code>ï¼šå¦‚æœè®¾ç½®äº† <code>Secure</code> æ ‡å¿—ï¼ŒCookie åªèƒ½é€šè¿‡ HTTPS è¿æ¥å‘é€ï¼Œé¿å…åœ¨ HTTP è¿æ¥ä¸­æ³„æ¼ã€‚</p></li><li><p><code>SameSite</code>ï¼š<code>SameSite</code> å±æ€§å¯ä»¥é˜²æ­¢è·¨ç«™è¯·æ±‚ä¼ªé€ æ”»å‡»ã€‚å®ƒæœ‰ä¸‰ç§å€¼ï¼š</p></li></ul><ol><li><p>Strictï¼šä¸¥æ ¼é™åˆ¶ï¼Œåªæœ‰åœ¨ç›¸åŒç«™ç‚¹å†…çš„è¯·æ±‚ä¸­æ‰ä¼šå‘é€ Cookieã€‚</p></li><li><p>Laxï¼šå®½æ¾é™åˆ¶ï¼Œå…è®¸éƒ¨åˆ†è·¨ç«™è¯·æ±‚ï¼ˆå¦‚é€šè¿‡é“¾æ¥è·³è½¬ï¼‰ã€‚</p></li><li><p>Noneï¼šæ²¡æœ‰é™åˆ¶ï¼Œå…è®¸è·¨ç«™è¯·æ±‚å‘é€ Cookieï¼Œä½†éœ€è¦åŒæ—¶è®¾ç½® Secureã€‚</p></li></ol><h5 id="Cookieçš„é—®é¢˜"><a href="#Cookieçš„é—®é¢˜" class="headerlink" title="Cookieçš„é—®é¢˜"></a>Cookieçš„é—®é¢˜</h5><ol><li>å‚¨å­˜ç©ºé—´é™åˆ¶ï¼ŒCookieè‡³å¤š4kbå·¦å³</li><li>æ€§èƒ½é—®é¢˜ï¼ŒCookieå¡åœ¨httpè¯·æ±‚å¤´ä¸­ä¼šæ‹–æ…¢è¯·æ±‚é€Ÿåº¦</li><li>è·¨åŸŸé—®é¢˜ï¼ŒCookieåªèƒ½åœ¨åŒåŸŸåä¸‹æ”¶å‘ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®<code>domain</code>è§£å†³</li><li>Cookie ä¼šåœ¨å®¢æˆ·ç«¯å­˜å‚¨ä¸€äº›ä¿¡æ¯ï¼Œå› æ­¤å®¹æ˜“å—åˆ°å„ç§å®‰å…¨æ”»å‡»ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®å¥½<code>secure</code>ï¼Œ<code>samesite</code>å±æ€§æ¥è§£å†³</li></ol><h5 id="Cookiesæ€»ç»“"><a href="#Cookiesæ€»ç»“" class="headerlink" title="Cookiesæ€»ç»“"></a>Cookiesæ€»ç»“</h5><p>Cookie æ˜¯ä¸€ç§ç”¨äºå­˜å‚¨å®¢æˆ·ç«¯ä¿¡æ¯çš„å°å‹æ•°æ®ï¼Œé€šå¸¸ç”¨äºä¿æŒç”¨æˆ·ä¼šè¯ã€ä¿å­˜ç”¨æˆ·åå¥½è®¾ç½®æˆ–è·Ÿè¸ªç”¨æˆ·è¡Œä¸ºã€‚å®ƒé€šè¿‡ HTTP å¤´éƒ¨åœ¨å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´ä¼ é€’ï¼Œå¯ä»¥æ˜¯ä¼šè¯ Cookieï¼ˆåœ¨æµè§ˆå™¨ä¼šè¯æœŸé—´æœ‰æ•ˆï¼‰æˆ– æŒä¹… Cookieï¼ˆæœ‰æ˜ç¡®çš„è¿‡æœŸæ—¶é—´ï¼‰ã€‚<br>è™½ç„¶ Cookie ä½¿ç”¨å¹¿æ³›ï¼Œä½†å®ƒä¹Ÿå­˜åœ¨ä¸€äº›ç¼ºç‚¹ï¼Œå¦‚å­˜å‚¨ç©ºé—´æœ‰é™ã€æ€§èƒ½é—®é¢˜ã€å®‰å…¨æ€§éšæ‚£ã€éšç§é—®é¢˜å’Œè·¨åŸŸé™åˆ¶ç­‰ã€‚<br>å› æ­¤ï¼Œåœ¨ä½¿ç”¨ Cookie æ—¶ï¼Œéœ€è¦è€ƒè™‘é€‚å½“çš„å®‰å…¨æªæ–½å¹¶åˆç†ç®¡ç†å…¶ç”Ÿå‘½å‘¨æœŸã€‚</p><h4 id="localStorage"><a href="#localStorage" class="headerlink" title="localStorage"></a>localStorage</h4><h5 id="localStorageæ˜¯ä»€ä¹ˆ"><a href="#localStorageæ˜¯ä»€ä¹ˆ" class="headerlink" title="localStorageæ˜¯ä»€ä¹ˆ"></a>localStorageæ˜¯ä»€ä¹ˆ</h5><p>LocalStorage æ˜¯ä¸€ç§ Web å­˜å‚¨æœºåˆ¶ï¼Œå…è®¸åœ¨å®¢æˆ·ç«¯ï¼ˆå³æµè§ˆå™¨ï¼‰ä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨æ•°æ®ã€‚<br>ä¸ Cookie ç›¸æ¯”ï¼ŒLocalStorage æä¾›äº†æ›´å¤§çš„å­˜å‚¨ç©ºé—´ï¼ˆé€šå¸¸ä¸º 5MB æˆ–æ›´å¤šï¼‰ï¼Œå¹¶ä¸”æ•°æ®å­˜å‚¨åœ¨æµè§ˆå™¨ä¸­ã€‚<br>å³ä½¿å…³é—­æµè§ˆå™¨æˆ–é‡æ–°å¯åŠ¨ç”µè„‘ï¼Œæ•°æ®ä¹Ÿä¼šä¿æŒç›´åˆ°è¢«æ‰‹åŠ¨åˆ é™¤æˆ–è¿‡æœŸã€‚<br><strong>ç‰¹ç‚¹ï¼š</strong></p><ol><li>å®¹é‡å¤§ï¼šå…è®¸æ¯ä¸ªåŸŸåå­˜å‚¨5MBç”šè‡³æ›´å¤š</li><li>æ°¸ä¹…å­˜å‚¨ï¼šé™¤éä¸»åŠ¨åˆ é™¤ï¼Œå¦åˆ™å­˜å‚¨çš„æ•°æ®ä¼šåœ¨æµè§ˆå™¨å…³é—­åä»ç„¶å­˜åœ¨ï¼Œç›´åˆ°æ˜ç¡®åœ°è¢«åˆ é™¤ã€‚</li><li>æ•°æ®éš”ç¦»ï¼šLocalStorage ä¸­çš„æ•°æ®æŒ‰ åŸŸå éš”ç¦»ï¼Œä¸åŒåŸŸåé—´çš„æ•°æ®æ— æ³•è®¿é—®ã€‚</li><li>åŒæ­¥æ“ä½œï¼šLocalStorage çš„è®¿é—®æ˜¯ åŒæ­¥çš„ï¼Œæ¯æ¬¡æ“ä½œéƒ½ä¼šç«‹å³å½±å“å­˜å‚¨çš„æ•°æ®ã€‚</li><li>å®‰å…¨æ€§å¥½ï¼šä¸Cookieç›¸æ¯”ï¼ŒlocalStorageä¸ä¼šä¸»åŠ¨å‘é€åˆ°æœåŠ¡å™¨</li></ol><h5 id="localStorageçš„ä½¿ç”¨"><a href="#localStorageçš„ä½¿ç”¨" class="headerlink" title="localStorageçš„ä½¿ç”¨"></a>localStorageçš„ä½¿ç”¨</h5><p>LocalStorage ä½¿ç”¨ é”®å€¼å¯¹ å­˜å‚¨æ•°æ®ï¼Œä½ å¯ä»¥é€šè¿‡ localStorage å¯¹è±¡çš„ API æ¥è®¾ç½®ã€è·å–ã€åˆ é™¤æ•°æ®ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>localStorage.setItem(key, value)</code> æ–¹æ³•å­˜å‚¨æ•°æ®ã€‚<br>è¿™é‡Œçš„ key æ˜¯æ•°æ®çš„é”®ï¼Œvalue æ˜¯å­˜å‚¨çš„æ•°æ®ã€‚<br>å€¼å¿…é¡»æ˜¯<strong>å­—ç¬¦ä¸²</strong>ï¼Œå¦‚æœè¦å­˜å‚¨éå­—ç¬¦ä¸²æ•°æ®ï¼Œéœ€è¦å…ˆå°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼ˆé€šå¸¸ä½¿ç”¨ <code>JSON.stringify()</code>ï¼‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å­˜å‚¨æ•°æ®</span><br><span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&#x27;username&#x27;</span>, <span class="hljs-string">&#x27;JohnDoe&#x27;</span>);<br><span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&#x27;age&#x27;</span>, <span class="hljs-string">&#x27;30&#x27;</span>);<br></code></pre></td></tr></table></figure><p>é€šè¿‡ <code>localStorage.getItem(key)</code> æ–¹æ³•æ¥è¯»å–å­˜å‚¨çš„æ•°æ®ã€‚å®ƒä¼šè¿”å›è¯¥ key å¯¹åº”çš„å€¼ï¼Œå¦‚æœè¯¥é”®ä¸å­˜åœ¨ï¼Œåˆ™è¿”å› nullã€‚</p><p>ä½¿ç”¨ <code>localStorage.removeItem(key)</code> æ¥åˆ é™¤æŒ‡å®šçš„é”®å€¼å¯¹ã€‚</p><p>ä½¿ç”¨ <code>localStorage.clear()</code> æ¸…é™¤å­˜å‚¨åœ¨ LocalStorage ä¸­çš„æ‰€æœ‰æ•°æ®ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å­˜å‚¨å¯¹è±¡</span><br><span class="hljs-keyword">const</span> user = &#123;<br>  <span class="hljs-attr">username</span>: <span class="hljs-string">&#x27;JohnDoe&#x27;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">30</span>,<br>&#125;;<br><br><span class="hljs-comment">// ä½¿ç”¨ JSON.stringify è½¬æ¢å¯¹è±¡ä¸ºå­—ç¬¦ä¸²</span><br><span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&#x27;user&#x27;</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(user));<br><br><span class="hljs-comment">// è¯»å–å¯¹è±¡å¹¶ä½¿ç”¨ JSON.parse è½¬æ¢å›åŸå¯¹è±¡</span><br><span class="hljs-keyword">const</span> storedUser = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&#x27;user&#x27;</span>));<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(storedUser.<span class="hljs-property">username</span>); <span class="hljs-comment">// &quot;JohnDoe&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(storedUser.<span class="hljs-property">age</span>); <span class="hljs-comment">// 30</span><br><br></code></pre></td></tr></table></figure><h5 id="LocalStorageçš„ç¼ºç‚¹"><a href="#LocalStorageçš„ç¼ºç‚¹" class="headerlink" title="LocalStorageçš„ç¼ºç‚¹"></a>LocalStorageçš„ç¼ºç‚¹</h5><ol><li>åªèƒ½å­˜å‚¨å­—ç¬¦ä¸²ï¼šLocalStorage åªèƒ½å­˜å‚¨å­—ç¬¦ä¸²ç±»å‹çš„æ•°æ®ï¼Œå…¶ä»–ç±»å‹çš„æ•°æ®éœ€è¦è¿›è¡Œåºåˆ—åŒ–ï¼ˆ<code>JSON.Stringify</code>ï¼‰ã€‚</li><li>åŒæ­¥æ“ä½œï¼šLocalStorage æ˜¯åŒæ­¥çš„ï¼Œå¯èƒ½ä¼šå¯¹æ€§èƒ½äº§ç”Ÿå½±å“ï¼Œå°¤å…¶æ˜¯å½“å­˜å‚¨çš„æ•°æ®é‡è¾ƒå¤§æ—¶ã€‚</li><li>åŒæºç­–ç•¥é™åˆ¶ï¼šLocalStorage ä¸­çš„æ•°æ®æ˜¯ æŒ‰åŸŸåéš”ç¦» çš„ï¼Œæ— æ³•åœ¨ä¸åŒåŸŸä¹‹é—´å…±äº«æ•°æ®ã€‚</li><li>æ²¡æœ‰è¿‡æœŸæ—¶é—´ï¼šLocalStorage ä¸­çš„æ•°æ®ä¸ä¼šè‡ªåŠ¨è¿‡æœŸï¼Œå› æ­¤éœ€è¦æ‰‹åŠ¨ç®¡ç†å­˜å‚¨æ•°æ®çš„ç”Ÿå‘½å‘¨æœŸã€‚å¦‚æœä¸æ‰‹åŠ¨æ¸…ç†è¿‡æœŸæ•°æ®ï¼Œå¯èƒ½ä¼šé€ æˆå­˜å‚¨ç©ºé—´æµªè´¹ã€‚</li><li>ä¸é€‚ç”¨äºæ•æ„Ÿä¿¡æ¯ï¼šLocalStorage æ•°æ®å®¹æ˜“è¢«æµè§ˆå™¨ä¸­çš„è„šæœ¬è®¿é—®ï¼Œå› æ­¤ä¸é€‚åˆå­˜å‚¨æ•æ„Ÿçš„ç”¨æˆ·æ•°æ®ï¼ˆå¦‚å¯†ç ã€ä»¤ç‰Œç­‰ï¼‰ã€‚å®ƒä¸å…·å¤‡åƒ Cookie çš„ HttpOnlyã€Secure å’Œ SameSite ç­‰å®‰å…¨ç‰¹æ€§ã€‚</li></ol><h5 id="localStorageæ€»ç»“"><a href="#localStorageæ€»ç»“" class="headerlink" title="localStorageæ€»ç»“"></a>localStorageæ€»ç»“</h5><p>LocalStorage æ˜¯ä¸€ç§å®¢æˆ·ç«¯å­˜å‚¨æœºåˆ¶ï¼Œå…è®¸åœ¨æµè§ˆå™¨ä¸­å­˜å‚¨æ•°æ®ï¼Œå…·æœ‰è¾ƒå¤§çš„å­˜å‚¨ç©ºé—´ï¼ˆé€šå¸¸ä¸º 5MB æˆ–æ›´å¤šï¼‰ï¼Œå¹¶ä¸”æ•°æ®ä¼šåœ¨æµè§ˆå™¨å…³é—­åä¿æŒï¼Œç›´åˆ°è¢«æ‰‹åŠ¨åˆ é™¤ã€‚<br>å®ƒéå¸¸é€‚åˆç”¨äºæŒä¹…åŒ–å­˜å‚¨ç”¨æˆ·æ•°æ®ã€ç¼“å­˜æ•°æ®å’Œç®¡ç† SPA(<em>å•ç½‘é¡µåº”ç”¨</em>) çš„çŠ¶æ€ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒLocalStorage å­˜å‚¨çš„æ•°æ®å®¹æ˜“å—åˆ° XSS æ”»å‡»ï¼Œå› æ­¤ä¸é€‚åˆå­˜å‚¨æ•æ„Ÿæ•°æ®.<br>åŒæ—¶ï¼Œå®ƒçš„æ•°æ®å­˜å‚¨æ˜¯åŒæ­¥çš„ï¼Œå¯èƒ½ä¼šå½±å“æ€§èƒ½ã€‚åœ¨ä½¿ç”¨æ—¶ï¼Œè¦è°¨æ…é€‰æ‹©åˆé€‚çš„æ•°æ®å­˜å‚¨æ–¹å¼ï¼Œç¡®ä¿æ•°æ®çš„å®‰å…¨æ€§å’Œæœ‰æ•ˆç®¡ç†ã€‚</p><h4 id="SessionStorage"><a href="#SessionStorage" class="headerlink" title="SessionStorage"></a>SessionStorage</h4><h5 id="SessionStoragesæ˜¯ä»€ä¹ˆ"><a href="#SessionStoragesæ˜¯ä»€ä¹ˆ" class="headerlink" title="SessionStoragesæ˜¯ä»€ä¹ˆ"></a>SessionStoragesæ˜¯ä»€ä¹ˆ</h5><p>SessionStorage æä¾›äº†ä¸€ç§ç®€å•çš„æ–¹å¼æ¥åœ¨æµè§ˆå™¨ä¼šè¯ä¸­å­˜å‚¨æ•°æ®ï¼Œä¸”è¯¥æ•°æ®æ˜¯ <strong>ä»…é™äºå½“å‰ä¼šè¯</strong> çš„ã€‚<br>æ¯ä¸ªæµè§ˆå™¨æ ‡ç­¾é¡µæˆ–çª—å£éƒ½æœ‰ç‹¬ç«‹çš„ SessionStorageï¼Œå½¼æ­¤ä¹‹é—´çš„æ•°æ®ä¸èƒ½å…±äº«ã€‚SessionStorage ä¸ LocalStorage ç±»ä¼¼ï¼Œä½†å®ƒçš„ç”Ÿå‘½å‘¨æœŸæ›´åŠ çŸ­æš‚ã€‚<br><strong>ç‰¹ç‚¹ï¼š</strong></p><ol><li>ä¼šè¯çº§å­˜å‚¨ï¼šæ•°æ®åªåœ¨å½“å‰æµè§ˆå™¨ä¼šè¯æœŸé—´æœ‰æ•ˆã€‚ä¼šè¯ç»“æŸæ—¶ï¼Œæ•°æ®ä¼šè‡ªåŠ¨æ¸…é™¤ã€‚</li><li>æ¯ä¸ªæ ‡ç­¾é¡µç‹¬ç«‹ï¼šæ¯ä¸ªæµè§ˆå™¨æ ‡ç­¾é¡µæˆ–çª—å£éƒ½æœ‰ç‹¬ç«‹çš„ SessionStorageï¼Œæ ‡ç­¾é¡µä¹‹é—´ä¸èƒ½å…±äº« SessionStorage æ•°æ®ã€‚</li><li>å­˜å‚¨å®¹é‡ï¼šSessionStorage çš„å­˜å‚¨ç©ºé—´é€šå¸¸ä¸ LocalStorage ç›¸åŒï¼Œé€šå¸¸ä¸º 5MB æˆ–æ›´å¤šï¼Œå…·ä½“å–å†³äºæµè§ˆå™¨ã€‚</li><li>åŒæ­¥ APIï¼šSessionStorage çš„ API æ˜¯åŒæ­¥çš„ï¼Œæ„å‘³ç€æ¯æ¬¡è¯»å–ã€å­˜å‚¨æˆ–åˆ é™¤æ•°æ®æ—¶ï¼Œæ“ä½œä¼šç«‹å³å®Œæˆã€‚</li></ol><h5 id="sessionStorageçš„ä½¿ç”¨"><a href="#sessionStorageçš„ä½¿ç”¨" class="headerlink" title="sessionStorageçš„ä½¿ç”¨"></a>sessionStorageçš„ä½¿ç”¨</h5><p>è¯­æ³•åŒ<code>localStorage</code></p><h5 id="localStorage-VS-sessionStorage-ä½ ä»¬çŸ¥é“å—"><a href="#localStorage-VS-sessionStorage-ä½ ä»¬çŸ¥é“å—" class="headerlink" title="localStorage VS sessionStorage ä½ ä»¬çŸ¥é“å—"></a>localStorage VS sessionStorage ä½ ä»¬çŸ¥é“å—</h5><table><thead><tr><th>ç‰¹æ€§</th><th>SessionStorage</th><th>LocalStorage</th></tr></thead><tbody><tr><td>å­˜å‚¨å®¹é‡</td><td>5MB æˆ–æ›´å¤šï¼Œå–å†³äºæµè§ˆå™¨</td><td>5MB æˆ–æ›´å¤šï¼Œå–å†³äºæµè§ˆå™¨</td></tr><tr><td>ç”Ÿå‘½å‘¨æœŸ</td><td>ä»…åœ¨å½“å‰ä¼šè¯ï¼ˆæ ‡ç­¾é¡µï¼‰æœ‰æ•ˆï¼Œä¼šè¯ç»“æŸæ—¶åˆ é™¤</td><td>æ°¸ä¹…å­˜å‚¨ï¼Œç›´åˆ°æ˜¾å¼åˆ é™¤</td></tr><tr><td>æ•°æ®éš”ç¦»æ€§</td><td>ä¸åŒæ ‡ç­¾é¡µã€ä¸åŒçª—å£çš„æ•°æ®éš”ç¦»</td><td>åŒä¸€åŸŸä¸‹çš„æ•°æ®å…±äº«</td></tr><tr><td>å­˜å‚¨æ–¹å¼</td><td>é”®å€¼å¯¹ï¼Œå­—ç¬¦ä¸²</td><td>é”®å€¼å¯¹ï¼Œå­—ç¬¦ä¸²</td></tr><tr><td>ä¼ è¾“åˆ°æœåŠ¡å™¨</td><td>ä¸ä¼šéšæ¯ä¸ªè¯·æ±‚è‡ªåŠ¨å‘é€</td><td>ä¼šéšæ¯ä¸ª HTTP è¯·æ±‚è‡ªåŠ¨å‘é€åˆ°æœåŠ¡å™¨</td></tr><tr><td>API å¼‚æ­¥æ€§</td><td>åŒæ­¥ API</td><td>åŒæ­¥ API</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>ä¸´æ—¶å­˜å‚¨ä¼šè¯ä¿¡æ¯ï¼Œå¦‚ç”¨æˆ·ç™»å½•çŠ¶æ€ã€è´­ç‰©è½¦ç­‰</td><td>é•¿æœŸå­˜å‚¨ç”¨æˆ·è®¾ç½®ã€åå¥½ã€æµè§ˆå†å²ç­‰</td></tr></tbody></table><h5 id="sessionStorageæ€»ç»“"><a href="#sessionStorageæ€»ç»“" class="headerlink" title="sessionStorageæ€»ç»“"></a>sessionStorageæ€»ç»“</h5><p>sessionStorage ä¸€èˆ¬ç”¨äºä¸´æ—¶ä¿å­˜åŒä¸€çª—å£(æˆ–æ ‡ç­¾é¡µ)çš„æ•°æ®ï¼Œåœ¨å…³é—­çª—å£æˆ–æ ‡ç­¾é¡µä¹‹åå°†ä¼šåˆ é™¤è¿™äº›æ•°æ®ã€‚</p><h3 id="JavaScriptæ•°ç»„Array"><a href="#JavaScriptæ•°ç»„Array" class="headerlink" title="JavaScriptæ•°ç»„Array"></a>JavaScriptæ•°ç»„Array</h3><blockquote><p>å‚è€ƒèµ„æ–™:</p><p><a href="https://juejin.cn/post/6844904048106143757" target="_blank" rel="noopener noreferrer">å…¨é¢ä»‹ç»JavaScriptæ•°ç»„æ–¹æ³•</a></p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noopener noreferrer">JavaScriptæ ‡å‡†å¯¹è±¡ &gt; Array</a></p><p>èœé¸Ÿæ•™ç¨‹</p></blockquote><h4 id="Arrayçš„æè¿°"><a href="#Arrayçš„æè¿°" class="headerlink" title="Arrayçš„æè¿°"></a>Arrayçš„æè¿°</h4><p>åœ¨ JavaScript ä¸­ï¼Œæ•°ç»„ä¸æ˜¯<em>åŸå§‹ç±»å‹</em>ï¼Œè€Œæ˜¯å…·æœ‰ä»¥ä¸‹æ ¸å¿ƒç‰¹å¾çš„<code>Array</code>å¯¹è±¡(å¼•ç”¨ç±»å‹)ï¼š</p><ul><li><strong>JavaScript æ•°ç»„æ˜¯å¯è°ƒæ•´å¤§å°çš„ï¼Œå¹¶ä¸”å¯ä»¥åŒ…å«ä¸åŒçš„æ•°æ®ç±»å‹ã€‚</strong>ï¼ˆå½“ä¸éœ€è¦è¿™äº›ç‰¹å¾æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ç±»å‹åŒ–æ•°ç»„ã€‚ï¼‰</li><li><strong>JavaScript æ•°ç»„ä¸æ˜¯å…³è”æ•°ç»„</strong>ï¼Œå› æ­¤ï¼Œä¸èƒ½ä½¿ç”¨ä»»æ„å­—ç¬¦ä¸²ä½œä¸ºç´¢å¼•è®¿é—®æ•°ç»„å…ƒç´ ï¼Œä½†å¿…é¡»ä½¿ç”¨éè´Ÿæ•´æ•°ï¼ˆæˆ–å®ƒä»¬å„è‡ªçš„å­—ç¬¦ä¸²å½¢å¼ï¼‰ä½œä¸ºç´¢å¼•è®¿é—®ã€‚</li><li><strong>JavaScript æ•°ç»„çš„ç´¢å¼•ä» 0 å¼€å§‹</strong>ï¼šæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ åœ¨ç´¢å¼• 0 å¤„ï¼Œç¬¬äºŒä¸ªåœ¨ç´¢å¼• 1 å¤„ï¼Œä»¥æ­¤ç±»æ¨ï¼Œæœ€åä¸€ä¸ªå…ƒç´ æ˜¯æ•°ç»„çš„ length å±æ€§å‡å» 1 çš„å€¼ã€‚</li><li><strong>JavaScript æ•°ç»„å¤åˆ¶æ“ä½œåˆ›å»ºæµ…æ‹·è´ã€‚</strong>ï¼ˆæ‰€æœ‰ JavaScript å¯¹è±¡çš„æ ‡å‡†å†…ç½®å¤åˆ¶æ“ä½œéƒ½ä¼šåˆ›å»ºæµ…æ‹·è´ï¼Œè€Œä¸æ˜¯æ·±æ‹·è´ï¼‰ã€‚<blockquote><p><strong>å…³äºæ·±æµ…æ‹·è´</strong><br>æµ…æ‹·è´ï¼ˆShallow Copyï¼‰</p><p>æµ…æ‹·è´åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä½†åª<strong>å¤åˆ¶åŸå§‹å¯¹è±¡çš„å¼•ç”¨ç±»å‹å­—æ®µçš„åœ°å€</strong>ï¼Œè€Œä¸å¤åˆ¶å¼•ç”¨æŒ‡å‘çš„å¯¹è±¡æœ¬èº«ã€‚è¿™æ„å‘³ç€æ–°å¯¹è±¡å’ŒåŸå§‹å¯¹è±¡çš„å¼•ç”¨ç±»å‹å­—æ®µå°†æŒ‡å‘ç›¸åŒçš„å¯¹è±¡ã€‚å¦‚æœåŸå§‹å¯¹è±¡ä¸­çš„å­—æ®µæ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œåˆ™è¿™äº›å­—æ®µçš„å€¼ä¼šè¢«å¤åˆ¶åˆ°æ–°å¯¹è±¡ä¸­ã€‚ç”±äºå¼•ç”¨ç±»å‹å­—æ®µå…±äº«ï¼Œ<strong>å¯¹æ–°å¯¹è±¡çš„ä¿®æ”¹å¯èƒ½ä¼šå½±å“åŸå§‹å¯¹è±¡ã€‚</strong></p><p>æ·±æ‹·è´ï¼ˆDeep Copyï¼‰</p><p>æ·±æ‹·è´åˆ™<strong>åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡</strong>ï¼Œå¹¶é€’å½’åœ°å¤åˆ¶åŸå§‹å¯¹è±¡çš„æ‰€æœ‰å­—æ®µï¼ŒåŒ…æ‹¬å¼•ç”¨æŒ‡å‘çš„å¯¹è±¡ã€‚è¿™ç§æ–¹æ³•ä¼šå¤åˆ¶æ•´ä¸ªå¯¹è±¡ç»“æ„ï¼Œç¡®ä¿æ–°å¯¹è±¡å’ŒåŸå§‹å¯¹è±¡ä¹‹é—´çš„æ‰€æœ‰å…³ç³»éƒ½æ˜¯ç‹¬ç«‹çš„ã€‚å› æ­¤ï¼Œ<strong>å¯¹æ–°å¯¹è±¡çš„ä¿®æ”¹ä¸ä¼šå½±å“åˆ°åŸå§‹å¯¹è±¡ã€‚</strong></p></blockquote></li></ul><h4 id="Arrayçš„æ•°ç»„ç´¢å¼•"><a href="#Arrayçš„æ•°ç»„ç´¢å¼•" class="headerlink" title="Arrayçš„æ•°ç»„ç´¢å¼•"></a>Arrayçš„æ•°ç»„ç´¢å¼•</h4><p>Array å¯¹è±¡ä¸èƒ½ä½¿ç”¨ä»»æ„å­—ç¬¦ä¸²ä½œä¸ºå…ƒç´ ç´¢å¼•ï¼ˆå¦‚å…³è”æ•°ç»„ï¼‰ï¼Œå¿…é¡»ä½¿ç”¨éè´Ÿæ•´æ•°ï¼ˆæˆ–å®ƒä»¬çš„å­—ç¬¦ä¸²å½¢å¼ï¼‰ã€‚<br>JavaScript è¯­æ³•è¦æ±‚ä½¿ç”¨æ–¹æ‹¬å·è¡¨ç¤ºæ³•æ¥è®¿é—®ä»¥æ•°å­—å¼€å¤´çš„å±æ€§ï¼Œå½¢å¦‚:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>];<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr[<span class="hljs-number">0</span>])<br><span class="hljs-comment">//æˆ–è€…</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr[<span class="hljs-string">&#x27;0&#x27;</span>])<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong> JavaScript å¼•æ“é€šè¿‡éšå¼çš„<code>toString</code>ï¼Œå°† years[2] ä¸­çš„ 2 å¼ºåˆ¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚å› æ­¤ï¼Œâ€™2â€™ å’Œ â€˜02â€™ å°†æŒ‡å‘ years å¯¹è±¡ä¸Šçš„ä¸¤ä¸ªä¸åŒçš„æ§½ä½ã€‚<br>åªæœ‰<code>years[&#39;2&#39;]</code>æ˜¯ä¸€ä¸ªå®é™…çš„æ•°ç»„ç´¢å¼•ã€‚è€Œ<code>years[&#39;02&#39;]</code>æ˜¯ä¸€ä¸ªåœ¨æ•°ç»„è¿­ä»£ä¸­ä¸ä¼šè¢«è®¿é—®çš„ä»»æ„å­—ç¬¦ä¸²å±æ€§ã€‚</p><h4 id="Arrayçš„æ•°ç»„æ–¹æ³•"><a href="#Arrayçš„æ•°ç»„æ–¹æ³•" class="headerlink" title="Arrayçš„æ•°ç»„æ–¹æ³•"></a>Arrayçš„æ•°ç»„æ–¹æ³•</h4><h5 id="1-æ£€æµ‹æ–¹æ³•"><a href="#1-æ£€æµ‹æ–¹æ³•" class="headerlink" title="1. æ£€æµ‹æ–¹æ³•"></a>1. æ£€æµ‹æ–¹æ³•</h5><ol><li><code>Array.isArray()</code><br>åˆ¤æ–­ä¼ å…¥çš„å€¼æ˜¯å¦æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// true</span><br><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br><span class="hljs-comment">// false</span><br><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(&#123;<span class="hljs-attr">foo</span>: <span class="hljs-number">123</span>&#125;)<br><span class="hljs-comment">// false</span><br><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(<span class="hljs-string">&#x27;foobar&#x27;</span>)   <br><span class="hljs-comment">// false</span><br><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(<span class="hljs-literal">undefined</span>)  <br></code></pre></td></tr></table></figure><ol start="2"><li><code>typeof</code></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&quot;a&quot;</span>]); <span class="hljs-comment">// &quot;object&quot;</span><br></code></pre></td></tr></table></figure><ol start="3"><li><code>Object.prototype.toString.call()</code> é€‚ç”¨äºæ‰€æœ‰ç±»å‹çš„è¯¦ç»†åˆ¤æ–­</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&quot;a&quot;</span>])); <span class="hljs-comment">// &quot;[object Array]&quot;</span><br></code></pre></td></tr></table></figure><ol start="4"><li><code>constructor</code>å±æ€§</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> i = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&quot;a&quot;</span>];<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i.<span class="hljs-property">constructor</span>.<span class="hljs-property">name</span>); <span class="hljs-comment">// &quot;Array&quot;</span><br></code></pre></td></tr></table></figure><h5 id="2-åˆ›å»ºæ•°ç»„æ–¹æ³•"><a href="#2-åˆ›å»ºæ•°ç»„æ–¹æ³•" class="headerlink" title="2. åˆ›å»ºæ•°ç»„æ–¹æ³•"></a>2. åˆ›å»ºæ•°ç»„æ–¹æ³•</h5><ol><li><code>Array.from()</code><br><code>Array.from()</code>æ–¹æ³•ç”¨äºå°†ç±»æ•°ç»„å¯¹è±¡å’Œå¯è¿­ä»£å¯¹è±¡è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªæ–°çš„ï¼Œæµ…æ‹·è´çš„æ•°ç»„å®ä¾‹ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// æŠ¥é”™</span><br><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-literal">undefined</span>)<br><span class="hljs-comment">// æŠ¥é”™</span><br><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-literal">null</span>)<br><span class="hljs-comment">// [&quot;f&quot;, &quot;o&quot;, &quot;o&quot;]</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">&#x27;foo&#x27;</span>))<br><span class="hljs-comment">// []</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">&#x27;&#x27;</span>))<br><span class="hljs-comment">// []</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-number">123</span>))<br><span class="hljs-comment">// []</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-title class_">NaN</span>))<br></code></pre></td></tr></table></figure><ol start="2"><li><code>Array.of()</code><br>Array.of()åˆ›å»ºä¸€ä¸ªåŒ…å«æ‰€æœ‰ä¼ å…¥å‚æ•°çš„æ•°ç»„ï¼Œä¸è€ƒè™‘å‚æ•°çš„æ•°é‡æˆ–ç±»å‹ï¼Œè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">of</span>()                  <span class="hljs-comment">// []</span><br><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">of</span>(<span class="hljs-literal">undefined</span>)         <span class="hljs-comment">// [undefined]</span><br><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">of</span>(<span class="hljs-literal">null</span>)              <span class="hljs-comment">// [null]</span><br><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">of</span>(<span class="hljs-title class_">NaN</span>)               <span class="hljs-comment">// [NaN]</span><br><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">of</span>(<span class="hljs-number">1</span>)                 <span class="hljs-comment">// [1]</span><br><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">of</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)              <span class="hljs-comment">// [1, 2]</span><br><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">of</span>([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>])           <span class="hljs-comment">// [[1,2,3]]</span><br><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">of</span>(&#123;<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>&#125;,&#123;<span class="hljs-attr">id</span>: <span class="hljs-number">2</span>&#125;)   <span class="hljs-comment">// [&#123;id:1&#125;, &#123;id:2&#125;]</span><br></code></pre></td></tr></table></figure><h5 id="3-éå†ï¼ˆè¿­ä»£ï¼‰æ–¹æ³•"><a href="#3-éå†ï¼ˆè¿­ä»£ï¼‰æ–¹æ³•" class="headerlink" title="3. éå†ï¼ˆè¿­ä»£ï¼‰æ–¹æ³•"></a>3. éå†ï¼ˆè¿­ä»£ï¼‰æ–¹æ³•</h5><ol><li><code>forEach()</code><br>å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡ŒæŒ‡å®šçš„å‡½æ•°ã€‚è¿™ä¸ªæ–¹æ³•è¿”å›<code>undefined</code>ï¼Œå³ä½¿ä½ returnäº†ä¸€ä¸ªå€¼ã€‚<ol><li><p>Array.forEach()å‚æ•°è¯­æ³•ï¼š</p><table><thead><tr><th>element</th><th>index</th><th>array</th></tr></thead><tbody><tr><td>å½“å‰å…ƒç´ </td><td>å½“å‰å…ƒç´ çš„ç´¢å¼•</td><td>æ•°ç»„æœ¬èº«</td></tr></tbody></table></li><li><p>ç¬¬äºŒä¸ªå‚æ•°ï¼ˆå¯é€‰ï¼‰ï¼šå½“æ‰§è¡Œå›è°ƒå‡½æ•°æ—¶ç”¨ä½œ this çš„å€¼ã€‚</p></li></ol></li></ol><p><strong>æ³¨æ„:</strong> <code>Array.forEach()</code>ä¸èƒ½ä¸­æ–­å¾ªç¯(ä½¿ç”¨<code>break</code>ï¼Œæˆ–<code>continue</code>è¯­å¥)ã€‚åªèƒ½ç”¨<code>return</code>é€€å‡ºæœ¬æ¬¡å›è°ƒï¼Œè¿›è¡Œä¸‹ä¸€æ¬¡å›è°ƒã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> arr = [&#123;<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,<span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;zhangsan&#x27;</span>&#125;,&#123;<span class="hljs-attr">id</span>: <span class="hljs-number">2</span>,<span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;lisi&#x27;</span>&#125;]<br><span class="hljs-comment">// 1 - zhangsan</span><br><span class="hljs-comment">// 2 - lisi</span><br>arr.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">el</span> =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">$&#123;el.id&#125;</span> - <span class="hljs-subst">$&#123;el.name&#125;</span>`</span>);<br>&#125;);<br><br><span class="hljs-keyword">const</span> obj = &#123;<br>  <span class="hljs-attr">handle</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>)&#123;<br>    <span class="hljs-keyword">return</span> n + <span class="hljs-number">2</span><br>  &#125;<br>&#125;;<br><span class="hljs-comment">// true </span><br>[&#123;<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,<span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;zhangsan&#x27;</span>&#125;,&#123;<span class="hljs-attr">id</span>: <span class="hljs-number">2</span>,<span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;lisi&#x27;</span>&#125;].<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">el,index,arr</span>)&#123;<br>  <span class="hljs-keyword">if</span>(el.<span class="hljs-property">id</span> === <span class="hljs-number">1</span>) &#123;<br>    <span class="hljs-keyword">return</span><br>  &#125;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span> === obj)<br>&#125;,obj);<br><br></code></pre></td></tr></table></figure><ol start="2"><li><p><code>map()</code><br>è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œç»“æœæ˜¯è¯¥æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨æä¾›çš„å‡½æ•°åè¿”å›çš„ç»“æœã€‚</p><ol><li><p>Array.map()å‚æ•°è¯­æ³•ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>element</td><td>å½“å‰å…ƒç´ </td></tr><tr><td>index</td><td>å½“å‰å…ƒç´ çš„ç´¢å¼• (å¯é€‰)</td></tr><tr><td>array</td><td>æ•°ç»„æœ¬èº« (å¯é€‰)</td></tr></tbody></table></li><li><p>ç¬¬äºŒä¸ªå‚æ•°ï¼ˆå¯é€‰ï¼‰ï¼šå½“æ‰§è¡Œå›è°ƒå‡½æ•°æ—¶ç”¨ä½œ this çš„å€¼ã€‚</p></li></ol></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> arr = [&#123;<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>&#125;,&#123;<span class="hljs-attr">id</span>: <span class="hljs-number">2</span>&#125;,&#123;<span class="hljs-attr">id</span>: <span class="hljs-number">3</span>&#125;]<br><span class="hljs-keyword">const</span> newArr = arr.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">el,index,arr</span>) =&gt;</span> &#123;<br>  el.<span class="hljs-property">age</span> = <span class="hljs-number">20</span><br>  <span class="hljs-keyword">return</span> el<br>&#125;);<br><span class="hljs-comment">// [&#123;id: 1,age: 20&#125;,&#123;id: 2,age: 20&#125;,&#123;id: 3,age: 20&#125;]</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(newArr);<br></code></pre></td></tr></table></figure><ol start="3"><li><p><code>filter()</code><br>å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡ŒæŒ‡å®šçš„å‡½æ•°ï¼Œè¿”å›è¯¥å‡½æ•°ä¼šè¿”å›trueçš„é¡¹ç»„æˆçš„æ–°çš„æ•°ç»„ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•æ•°ç»„å…ƒç´ é€šè¿‡æµ‹è¯•ï¼Œåˆ™è¿”å›ç©ºæ•°ç»„ã€‚</p><ol><li><p>Array.filter()å‚æ•°è¯­æ³•ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>element</td><td>å½“å‰å…ƒç´ </td></tr><tr><td>index</td><td>å½“å‰å…ƒç´ çš„ç´¢å¼• (å¯é€‰)</td></tr><tr><td>array</td><td>æ•°ç»„æœ¬èº« (å¯é€‰)</td></tr></tbody></table></li><li><p>ç¬¬äºŒä¸ªå‚æ•°ï¼ˆå¯é€‰ï¼‰ï¼šå½“æ‰§è¡Œå›è°ƒå‡½æ•°æ—¶ç”¨ä½œ this çš„å€¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> arr = [&#123;<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>&#125;,&#123;<span class="hljs-attr">id</span>: <span class="hljs-number">2</span>&#125;,&#123;<span class="hljs-attr">id</span>: <span class="hljs-number">3</span>&#125;]<br><span class="hljs-keyword">const</span> newArr = arr.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">el,index,arr</span>) =&gt;</span> &#123;<br>el.<span class="hljs-property">age</span> = <span class="hljs-number">20</span><br><span class="hljs-keyword">return</span> el<br>&#125;);<br><span class="hljs-comment">// [&#123;id: 1,age: 20&#125;,&#123;id: 2,age: 20&#125;,&#123;id: 3,age: 20&#125;]</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(newArr);<br><br></code></pre></td></tr></table></figure></li></ol></li><li><p><code>some()</code><br>æ£€æµ‹æ•°ç»„ä¸­çš„æ˜¯å¦æœ‰æ»¡è¶³åˆ¤æ–­æ¡ä»¶çš„å…ƒç´ ã€‚</p></li></ol><p>å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡ŒæŒ‡å®šçš„å‡½æ•°ï¼Œå¦‚æœè¯¥å‡½æ•°å¯¹<strong>ä»»ä¸€é¡¹è¿”å›true</strong>ï¼Œåˆ™è¿”å›trueï¼Œå¹¶ä¸”å‰©ä½™çš„å…ƒç´ ä¸ä¼šå†æ‰§è¡Œæ£€æµ‹ã€‚å¦‚æœæ²¡æœ‰æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼Œåˆ™è¿”å›falseã€‚</p><ol><li><p>Array.some()å‚æ•°è¯­æ³•ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>element</td><td>å½“å‰å…ƒç´ </td></tr><tr><td>index</td><td>å½“å‰å…ƒç´ çš„ç´¢å¼• (å¯é€‰)</td></tr><tr><td>array</td><td>æ•°ç»„æœ¬èº« (å¯é€‰)</td></tr></tbody></table></li><li><p>ç¬¬äºŒä¸ªå‚æ•°ï¼ˆå¯é€‰ï¼‰ï¼šå½“æ‰§è¡Œå›è°ƒå‡½æ•°æ—¶ç”¨ä½œ this çš„å€¼ã€‚</p></li></ol>   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> arr = [&#123;<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>&#125;,&#123;<span class="hljs-attr">id</span>: <span class="hljs-number">2</span>&#125;,&#123;<span class="hljs-attr">id</span>: <span class="hljs-number">3</span>&#125;]<br><span class="hljs-keyword">const</span> someResult = arr.<span class="hljs-title function_">some</span>(<span class="hljs-function">(<span class="hljs-params">el,index,arr</span>) =&gt;</span> &#123;<br><span class="hljs-keyword">return</span> el.<span class="hljs-property">id</span> === <span class="hljs-number">1</span><br>&#125;);<br><span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(someResult)<br><br></code></pre></td></tr></table></figure><ol start="5"><li><code>every()</code><br>æ£€æµ‹æ•°ç»„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½ç¬¦åˆåˆ¤æ–­æ¡ä»¶ã€‚</li></ol><p>å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡ŒæŒ‡å®šçš„å‡½æ•°ï¼Œå¦‚æœè¯¥å‡½æ•°å¯¹æ¯ä¸€é¡¹éƒ½è¿”å›trueï¼Œåˆ™è¿”å›trueã€‚è‹¥æ”¶åˆ°ä¸€ä¸ªç©ºæ•°ç»„ï¼Œæ­¤æ–¹æ³•åœ¨ä¸€åˆ‡æƒ…å†µä¸‹éƒ½ä¼šè¿”å›trueã€‚å¦‚æœæ•°ç»„ä¸­æ£€æµ‹åˆ°æœ‰ä¸€ä¸ªå…ƒç´ ä¸æ»¡è¶³ï¼Œåˆ™è¿”å› falseï¼Œä¸”å‰©ä½™çš„å…ƒç´ ä¸ä¼šå†è¿›è¡Œæ£€æµ‹ã€‚</p><h3 id="JavaScriptä¸­æ¯”è¾ƒå¸¸è€ƒçš„ç‚¹"><a href="#JavaScriptä¸­æ¯”è¾ƒå¸¸è€ƒçš„ç‚¹" class="headerlink" title="JavaScriptä¸­æ¯”è¾ƒå¸¸è€ƒçš„ç‚¹"></a>JavaScriptä¸­æ¯”è¾ƒå¸¸è€ƒçš„ç‚¹</h3><h4 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h4><ol><li><p>åœ¨Numberä¸Stringè¿ç®—æ—¶ï¼Œ<strong>åªæœ‰</strong><code>+</code>æ“ä½œæ—¶Numberä¼šéšå¼è½¬æ¢ä¸ºStringï¼Œå…¶ä½™æƒ…å†µä¸‹éƒ½æ˜¯Stringéšå¼è½¬æ¢ä¸ºNumber</p></li><li><p>åœ¨JavaScriptä¸­ï¼Œæ•°æ®ç±»å‹åˆ†ä¸¤å¤§ç±»ï¼š</p><p><strong>åŸå§‹ç±»å‹(Primitive Types)ï¼š</strong></p><table><thead><tr><th>ç±»å‹å</th><th>ç±»å‹è‹±æ–‡</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>å­—ç¬¦ä¸²</td><td>String</td><td></td></tr><tr><td>æ•°å­—</td><td>Number</td><td></td></tr><tr><td>å¸ƒå°”å€¼</td><td>Boolean</td><td></td></tr><tr><td>æœªå®šä¹‰</td><td>Undefined</td><td></td></tr><tr><td>ç©ºå€¼</td><td>Null</td><td><em>ä½¿ç”¨ <code>typeof</code> æ“ä½œç¬¦çš„ç»“æœæ˜¯â€<code>Object</code>â€œ</em></td></tr><tr><td>ç¬¦å·</td><td>Symbol</td><td>ES6æ–°ç‰¹æ€§</td></tr><tr><td>å¤§æ•´æ•°</td><td>BigInt</td><td>ES6æ–°ç‰¹æ€§</td></tr></tbody></table><p><strong>å¼•ç”¨ç±»å‹(Reference Types)ï¼š</strong></p><table><thead><tr><th>ç±»å‹å</th><th>ç±»å‹è‹±æ–‡</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>å¯¹è±¡</td><td>Object</td><td></td></tr><tr><td>æ•°ç»„</td><td>Array</td><td></td></tr><tr><td>å‡½æ•°</td><td>Function</td><td></td></tr><tr><td>æ—¥æœŸ</td><td>Date</td><td></td></tr><tr><td>æ­£åˆ™è¡¨è¾¾å¼</td><td>RegExp</td><td></td></tr><tr><td>é”™è¯¯</td><td>Error</td><td></td></tr></tbody></table></li></ol>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Reactå­¦ä¹ ç¬”è®°</title>
    <link href="/2025/02/06/React%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <url>/2025/02/06/React%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="1-Reactä»‹ç»"><a href="#1-Reactä»‹ç»" class="headerlink" title="1.Reactä»‹ç»"></a>1.Reactä»‹ç»</h1><p><strong>React</strong>Â æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„JavaScriptåº“ï¼Œå®ƒå…è®¸å¼€å‘è€…ä»¥å£°æ˜å¼çš„æ–¹å¼åˆ›å»ºäº¤äº’ä¸°å¯Œçš„Webåº”ç”¨ã€‚Reactä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ¡†æ¶ï¼Œè€Œæ˜¯ä¸“æ³¨äºæ„å»ºç»„ä»¶åŒ–çš„UIå±‚ã€‚å®ƒå¯ä»¥ä¸å…¶ä»–åº“æˆ–æ¡†æ¶ï¼ˆå¦‚Reduxæˆ–Angularï¼‰é…åˆä½¿ç”¨ï¼Œä»¥æ„å»ºå¤æ‚çš„åº”ç”¨ç¨‹åºã€‚</p><h1 id="2-Reactåˆ›å»ºç¯å¢ƒï¼ˆä»¥Viteä¸ºä¾‹ï¼‰"><a href="#2-Reactåˆ›å»ºç¯å¢ƒï¼ˆä»¥Viteä¸ºä¾‹ï¼‰" class="headerlink" title="2.Reactåˆ›å»ºç¯å¢ƒï¼ˆä»¥Viteä¸ºä¾‹ï¼‰"></a>2.Reactåˆ›å»ºç¯å¢ƒï¼ˆä»¥Viteä¸ºä¾‹ï¼‰</h1><p>åœ¨Nodeç¯å¢ƒä¸‹è¾“å…¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs npmignore">npm create vite@latest my-vite-app <br></code></pre></td></tr></table></figure><p>æŒ‰è¦æ±‚é€‰æ‹©React+JavaScripté…ç½®</p><p><strong>æ–‡ä»¶ç›®å½•</strong></p><table><thead><tr><th>æ–‡ä»¶å</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>package.json</td><td>æ ¸å¿ƒåŒ…ï¼ŒåŒ…å«æ ¸å¿ƒä¾èµ–å’Œå…³é”®å‘½ä»¤</td></tr><tr><td>.src</td><td>å­˜æ”¾é¡¹ç›®çš„æºä»£ç ã€‚</td></tr><tr><td>.src&#x2F;index.js</td><td>é¡¹ç›®å…¥å£æ–‡ä»¶</td></tr><tr><td>.src&#x2F;App.js</td><td>é¡¹ç›®æ ¹ç»„ä»¶</td></tr></tbody></table><p>.&#x2F;src&#x2F;main.jsx</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">// ./src/main.jsxé¡¹ç›®å…¥å£ ä»è¿™é‡Œå¼€å§‹è¿è¡Œ</span><br><br><span class="hljs-comment">//Reacté¡¹ç›®æ ¸å¿ƒå¯¼å…¥</span><br><span class="hljs-keyword">import</span> &#123; createRoot &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-dom/client&#x27;</span><br><span class="hljs-comment">//å¯¼å…¥é¡¹ç›®æ ¹ç»„ä»¶</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.jsx&#x27;</span><br><span class="hljs-comment">//æŠŠAppæ ¹ç»„ä»¶æ¸²æŸ“åˆ°idä¸º&#x27;root&#x27;çš„èŠ‚ç‚¹</span><br><span class="hljs-title function_">createRoot</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;root&#x27;</span>)).<span class="hljs-title function_">render</span>(  <br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span><br>)<br><br><br></code></pre></td></tr></table></figure><p>.&#x2F;src&#x2F;App.jsx</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">//é¡¹ç›®çš„æ ¹ç»„ä»¶</span><br><span class="hljs-comment">// App -&gt; index.js -&gt; index.html(root)</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        This is an App. </span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  )<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span><br><br><br></code></pre></td></tr></table></figure><h1 id="3-JSXåŸºç¡€"><a href="#3-JSXåŸºç¡€" class="headerlink" title="3.JSXåŸºç¡€"></a>3.JSXåŸºç¡€</h1><h2 id="JSXç†è®º"><a href="#JSXç†è®º" class="headerlink" title="JSXç†è®º"></a>JSXç†è®º</h2><p><strong>æ¦‚å¿µï¼š</strong> <strong>JSX</strong>æ˜¯<em>JavaScript</em>å’Œ<em>XML</em>çš„ç¼©å†™ï¼Œè¡¨ç¤º<strong>JSä»£ç ä¸­ç¼–å†™HTMLæ¨¡æ¿ç»“æ„</strong>ï¼Œæ˜¯Reactä¸­ç¼–å†™UIæ¨¡æ¿çš„æ–¹æ³•ã€‚</p><p><strong>æœ¬è´¨ï¼š</strong> <strong>JSX</strong>æœ¬è´¨æ˜¯å¯¹JSçš„è¯­æ³•æ‰©å±•ï¼Œéœ€è¦å€ŸåŠ©<em>Babel</em>ç¼–è¯‘è½¬åŒ–æˆæ­£å¸¸çš„JSã€‚</p><h2 id="JSXè¯­æ³•"><a href="#JSXè¯­æ³•" class="headerlink" title="JSXè¯­æ³•"></a>JSXè¯­æ³•</h2><h3 id="JSXä½¿ç”¨JSè¡¨è¾¾å¼"><a href="#JSXä½¿ç”¨JSè¡¨è¾¾å¼" class="headerlink" title="JSXä½¿ç”¨JSè¡¨è¾¾å¼"></a>JSXä½¿ç”¨JSè¡¨è¾¾å¼</h3><p>ä½¿ç”¨<code>&#123;&#125;</code>ä¼ é€’è¡¨è¾¾å¼</p><p><strong>1.ä¼ é€’å­—ç¬¦ä¸²</strong></p><p><strong>2.ä¼ é€’JavaScriptå˜é‡&#x2F;å¯¹è±¡&#x2F;å‡½æ•°&#x2F;æ–¹æ³•</strong></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        This is an App. </span><br><span class="language-xml">        &#123;&#x27;This is a message&#x27;&#125;</span><br><span class="language-xml">        &#123;/* ä¼ å­—ç¬¦ä¸² */&#125;</span><br><span class="language-xml">        &#123;count&#125;</span><br><span class="language-xml">        &#123;/* ä¼ JavaScriptå˜é‡ */&#125;</span><br><span class="language-xml">        &#123;getName()&#125;</span><br><span class="language-xml">        &#123;/* ä¼ å‡½æ•°è°ƒç”¨ */&#125;</span><br><span class="language-xml">        &#123;new Date().getDate()&#125;</span><br><span class="language-xml">        &#123;/* ä¼ æ–¹æ³•è°ƒç”¨ */&#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;color:</span>&quot;<span class="hljs-attr">red</span>&quot;&#125;&#125;&gt;</span></span><br><span class="language-xml">          &#123;/* ä¼ jså¯¹è±¡ */&#125;</span><br><span class="language-xml">          This is a red div.</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  )<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼šifã€Switchã€å˜é‡å£°æ˜å±äºè¯­å¥è€Œéè¡¨è¾¾å¼ï¼Œå› æ­¤ä¸èƒ½å‡ºç°åœ¨<code>&#123;&#125;</code>ä¸­ã€‚</strong></p><h3 id="JSXå®ç°åˆ—è¡¨æ¸²æŸ“"><a href="#JSXå®ç°åˆ—è¡¨æ¸²æŸ“" class="headerlink" title="JSXå®ç°åˆ—è¡¨æ¸²æŸ“"></a>JSXå®ç°åˆ—è¡¨æ¸²æŸ“</h3><p><strong>è¯­æ³•ï¼š</strong> åœ¨JSXä¸­å¯ä»¥ä½¿ç”¨åŸç”ŸJSä¸­çš„<em>mapæ–¹æ³•</em>æ¸²æŸ“éå†åˆ—è¡¨</p><p><strong><code>&#123;targetList.map(item=&gt; &lt;dom key=&#123;item.key&#125;&gt; &lt;/dom&gt;)&#125;</code></strong></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> list =[&#123;<span class="hljs-attr">id</span>:<span class="hljs-number">101</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;Vue&#x27;</span>&#125;,<br>  &#123;<span class="hljs-attr">id</span>:<span class="hljs-number">102</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;React&#x27;</span>&#125;,<br>  &#123;<span class="hljs-attr">id</span>:<span class="hljs-number">103</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;Angular&#x27;</span>&#125;,<br><br>]<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">            &#123;list.map(item =&gt; <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;item.id&#125;</span>&gt;</span>&#123;item.name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>)&#125;</span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  )<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼šå¯¹åº”çš„DOMæ ‡ç­¾ä¸Šå¿…é¡»ç»‘å®šä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„keyå€¼ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–numberï¼Œå¸¸ç”¨idç»‘å®š</strong></p><h3 id="JSXä¸­å®ç°æ¡ä»¶æ¸²æŸ“"><a href="#JSXä¸­å®ç°æ¡ä»¶æ¸²æŸ“" class="headerlink" title="JSXä¸­å®ç°æ¡ä»¶æ¸²æŸ“"></a>JSXä¸­å®ç°æ¡ä»¶æ¸²æŸ“</h3><p><strong>è¯­æ³•ï¼š</strong> é€»è¾‘è¿ç®—ç¬¦ <strong><code>&amp;&amp;</code></strong> æˆ–ä¸‰å…ƒè¡¨è¾¾å¼ <strong><code>?:</code></strong> å®ç°æ¡ä»¶æ¸²æŸ“ã€‚</p><p><strong><code>&#123;flag &amp;&amp; &lt;DOM&gt;&lt;/DOM&gt;&#125;</code></strong></p><p><strong><code>&#123;flag ? &lt;DOM&gt;A&lt;/DOM&gt; : &lt;DOM&gt;B&lt;/DOM&gt;&#125;</code></strong></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> isLogin = <span class="hljs-literal">false</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">          &#123;isLogin &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>This is a span.<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>&#125;</span><br><span class="language-xml">          &#123;isLogin ? <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Welcome<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>:<span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Loading...<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>&#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  )<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span><br><br><br></code></pre></td></tr></table></figure><p><strong>å¯¹äºå¤æ‚æƒ…å†µï¼Œå¯æ„é€ æ ¸å¿ƒå‡½æ•°ï¼Œæ ¹æ®ä¸åŒç±»å‹è¿”å›ä¸åŒçš„JSXæ¨¡æ¿</strong></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> articleType = <span class="hljs-number">3</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">getArticleTem</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-keyword">if</span> (articleType === <span class="hljs-number">0</span>)&#123;<br>    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>No image<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>&#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(articleType === <span class="hljs-number">1</span>)&#123;<br>      <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Single image<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    &#125; <span class="hljs-keyword">else</span>&#123;<br>      <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Triple Image<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    &#125;<br>&#125;<br><br><br>&#123;<span class="hljs-title function_">getArticleTem</span>()&#125;<br></code></pre></td></tr></table></figure><h1 id="4-Reactäº‹ä»¶ä¸ç»„ä»¶"><a href="#4-Reactäº‹ä»¶ä¸ç»„ä»¶" class="headerlink" title="4.Reactäº‹ä»¶ä¸ç»„ä»¶"></a>4.Reactäº‹ä»¶ä¸ç»„ä»¶</h1><h2 id="Reactäº‹ä»¶"><a href="#Reactäº‹ä»¶" class="headerlink" title="Reactäº‹ä»¶"></a>Reactäº‹ä»¶</h2><h3 id="ReactåŸºç¡€äº‹ä»¶ç»‘å®š"><a href="#ReactåŸºç¡€äº‹ä»¶ç»‘å®š" class="headerlink" title="ReactåŸºç¡€äº‹ä»¶ç»‘å®š"></a>ReactåŸºç¡€äº‹ä»¶ç»‘å®š</h3><p><strong>è¯­æ³•:</strong> <em><strong><code>&lt;DOM onEvent=&#123;function()&#125;&gt;&lt;/DOM&gt;</code></strong></em></p><p>ä¾‹å¦‚</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params"></span>) =&gt;&#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;buttonè¢«ç‚¹å‡»äº†&quot;</span>)<br><br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>)&#123;<br><br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;handleClick&#125;</span>&gt;</span>Click Me<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ä½¿ç”¨äº‹ä»¶å¯¹è±¡å‚æ•°"><a href="#ä½¿ç”¨äº‹ä»¶å¯¹è±¡å‚æ•°" class="headerlink" title="ä½¿ç”¨äº‹ä»¶å¯¹è±¡å‚æ•°"></a>ä½¿ç”¨äº‹ä»¶å¯¹è±¡å‚æ•°</h3><p><strong>è¯­æ³•:</strong> åœ¨äº‹ä»¶å›è°ƒå‡½æ•°ä¸­è®¾ç½®å½¢å‚ <strong><code>e</code></strong></p><p>æ³¨æ„åœ¨DOMä¸­çš„æ ¼å¼  <code>&lt;DOM action=&#123;(e) =&gt; function(Args,e)&#125;&gt; &lt;/DOM&gt; </code></p><p>å…¶ä¸­,äº‹ä»¶å¯¹è±¡<code>e</code> æ˜¯å¯é€‰é¡¹ã€‚</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params">name,e</span>) =&gt;&#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;buttonè¢«ç‚¹å‡»äº†&quot;</span>)<br><br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>)&#123;<br><br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;(e)</span> =&gt;</span> handleClick(&#x27;jack&#x27;),e&#125;&gt;Click Me<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="Reactç»„ä»¶"><a href="#Reactç»„ä»¶" class="headerlink" title="Reactç»„ä»¶"></a>Reactç»„ä»¶</h2><h3 id="Reactç»„ä»¶ä½¿ç”¨"><a href="#Reactç»„ä»¶ä½¿ç”¨" class="headerlink" title="Reactç»„ä»¶ä½¿ç”¨"></a>Reactç»„ä»¶ä½¿ç”¨</h3><p><strong>æ¦‚å¿µ:</strong> ä¸€ä¸ªç»„ä»¶å°±æ˜¯ç”¨æˆ·ç•Œé¢çš„ä¸€éƒ¨åˆ†,å¯ä»¥æœ‰è‡ªå·±çš„é€»è¾‘å’Œå¤–è§‚,ç»„ä»¶ä¹‹é—´å¯ä»¥äº’ç›¸åµŒå¥—å’Œå¤šæ¬¡å¤ç”¨ã€‚</p><p>åœ¨Reactä¸­ï¼Œä¸€ä¸ªç»„ä»¶å°±æ˜¯ä¸€ä¸ªé¦–å­—æ¯å¤§å†™çš„å‡½æ•°ï¼Œå†…éƒ¨å­˜æ”¾äº†ç»„ä»¶çš„é€»è¾‘å’Œè§†å›¾UIï¼Œæ¸²æŸ“ç»„ä»¶æ—¶ï¼Œä»¥æ ‡ç­¾çš„å½¢å¼ä¹¦å†™å³å¯ã€‚</p><p><strong>åˆ›å»ºç»„ä»¶çš„æ–¹æ³•ï¼š</strong></p><p>1.å®šä¹‰ç»„ä»¶</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> <span class="hljs-title function_">Button</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>Click Me<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>&#125;<br></code></pre></td></tr></table></figure><p>2.ä½¿ç”¨ç»„ä»¶</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>(<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span></span><br>)<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="useStateåŸºç¡€"><a href="#useStateåŸºç¡€" class="headerlink" title="useStateåŸºç¡€"></a>useStateåŸºç¡€</h3><p>useStateæ˜¯ä¸€ä¸ªReact Hook,å…è®¸æˆ‘ä»¬å‘ç»„ä»¶ä¸­æ·»åŠ ä¸€ä¸ª<strong>çŠ¶æ€å˜é‡</strong>,ä»è€Œæ§åˆ¶å½±å“ç»„ä»¶çš„æ¸²æŸ“ç»“æœ</p><p>æœ¬è´¨:å’Œæ™®é€šJSå˜é‡ä¸åŒ,çŠ¶æ€å˜é‡ä¸€æ—¦å‘ç”Ÿå˜åŒ–,ç»„ä»¶çš„è§†å›¾UIä¹Ÿä¼šå‘ç”Ÿå˜åŒ–ã€‚<strong>ï¼ˆæ•°æ®é©±åŠ¨è§†å›¾ï¼‰</strong></p><p>è¯­æ³•:<strong><code>const [Variable,setVariableFunction] = useState(initialValue)</code></strong></p><ol><li><p><strong>useState</strong>æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªæ•°ç»„</p></li><li><p>æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯çŠ¶æ€å˜é‡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯setå‡½æ•°ï¼Œç”¨æ¥ä¿®æ”¹çŠ¶æ€å˜é‡</p></li><li><p>useStateçš„å‚æ•°å°†ä½œä¸ºcountçš„åˆå§‹é‡</p></li></ol><p><strong>æ³¨æ„:</strong> 1. éœ€è¦å¼•ç”¨<code>import &#123; useState &#125; from &quot;react&quot;</code> </p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> [count,setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>)<br>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params"></span>) =&gt;&#123;<br>    <span class="hljs-title function_">setCount</span>(count + <span class="hljs-number">1</span>)<br>  &#125; <br>Â Â Â Â &lt;button onClick=&#123;handleClick&#125;&gt;&#123;count&#125;&lt;/button&gt;<br><br><br>&#125;<br></code></pre></td></tr></table></figure><ol start="2"><li><p><strong>çŠ¶æ€ä¸å¯å˜</strong><br>åœ¨Reactä¸­,çŠ¶æ€è¢«è®¤ä¸ºæ˜¯åªè¯»çš„,å› æ­¤å§‹ç»ˆè¦ä½¿ç”¨åŒ¹é…çš„<code>setVariableFunction()</code> æ¥æ›¿æ¢åŸçŠ¶æ€å˜é‡ï¼Œç›´æ¥çš„ä¿®æ”¹çŠ¶æ€å¹¶ä¸èƒ½å¼•å‘è§†å›¾æ›´æ–°ã€‚</p></li><li><p><strong>ä¿®æ”¹å¯¹è±¡çŠ¶æ€</strong><br>å¯¹äºå¯¹è±¡ç±»å‹çš„çŠ¶æ€å˜é‡ï¼Œåº”è¯¥å§‹ç»ˆè¦ä½¿ç”¨åŒ¹é…çš„<code>setVariableFunction()</code> æ¥æ›¿æ¢åŸçŠ¶æ€å¯¹è±¡ã€‚</p></li></ol><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">const</span> [form,setForm] = <span class="hljs-title function_">useState</span>(&#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;jack&#x27;</span>&#125;)<br>    <span class="hljs-keyword">const</span> <span class="hljs-title function_">changeForm</span> = (<span class="hljs-params"></span>) =&gt;&#123;<br>    <span class="hljs-title function_">setForm</span>(&#123;<br>      ...form,<br>      <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;john&#x27;</span><br>    &#125;)<br>    <span class="hljs-keyword">return</span>(<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;changeForm&#125;</span>&gt;</span>&#123;form.name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><br>)<br>&#125;<br></code></pre></td></tr></table></figure><p><em>æ³¨:</em></p><p><strong>æ‰©å±•è¿ç®—ç¬¦ï¼ˆSpread Operatorï¼‰:â€â€¦â€</strong></p><ul><li><p>ç”¨äºæ•°ç»„æˆ–å¯¹è±¡çš„å±•å¼€ã€‚ä¾‹å¦‚ï¼Œåœ¨æ•°ç»„ä¸­ï¼š<br>JavaScriptå¤åˆ¶<br>   let arr1 &#x3D; [1, 2, 3];<br>   let arr2 &#x3D; [0, â€¦arr1, 4];<br>è¿™é‡Œâ€œâ€¦arr1â€å°†arr1æ•°ç»„ä¸­çš„å…ƒç´ 1ã€2ã€3å±•å¼€ï¼Œæœ€ç»ˆarr2çš„å€¼ä¸º[0, 1, 2, 3, 4]ã€‚å®ƒèƒ½å¤Ÿå°†ä¸€ä¸ªæ•°ç»„çš„å…ƒç´ é€ä¸ªæ·»åŠ åˆ°å¦ä¸€ä¸ªæ•°ç»„ä¸­ã€‚</p></li><li><p>å¯¹äºå¯¹è±¡ï¼Œå¯ä»¥ç”¨äºå¤åˆ¶å¯¹è±¡çš„å±æ€§ã€‚ä¾‹å¦‚ï¼š<br>JavaScriptå¤åˆ¶<br>   let obj1 &#x3D; {a: 1, b: 2};<br>   let obj2 &#x3D; {â€¦obj1, c: 3};<br>â€œâ€¦obj1â€å°†obj1å¯¹è±¡çš„å±æ€§aå’Œbå¤åˆ¶åˆ°obj2ä¸­ï¼Œobj2çš„ç»“æ„ä¸º{a: 1, b: 2, c: 3}ã€‚å®ƒèƒ½å¤Ÿå°†ä¸€ä¸ªå¯¹è±¡çš„å¯æšä¸¾å±æ€§å¤åˆ¶åˆ°å¦ä¸€ä¸ªå¯¹è±¡ä¸­ã€‚</p></li></ul><h3 id="ç»„ä»¶æ ·å¼æ§åˆ¶"><a href="#ç»„ä»¶æ ·å¼æ§åˆ¶" class="headerlink" title="ç»„ä»¶æ ·å¼æ§åˆ¶"></a>ç»„ä»¶æ ·å¼æ§åˆ¶</h3><ol><li><p>è¡Œå†…æ ·å¼<br><code>&lt;DOM style=&#123;color:&#39;red&#39;&#125;&gt;&lt;/DOM&gt;</code></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">//index.css</span><br>.<span class="hljs-property">foo</span>&#123;<br>    <span class="hljs-attr">color</span>:<span class="hljs-string">&quot;red&quot;</span>;<br>    <span class="hljs-attr">fontSize</span>:<span class="hljs-string">&quot;50px&quot;</span><br>&#125;<br><span class="hljs-comment">//App.jsx</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./index.css&#x27;</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>(<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">classname</span>=<span class="hljs-string">&#x27;foo&#x27;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>)<br>&#125;<br></code></pre></td></tr></table></figure><ol start="2"><li>classç±»åæ§åˆ¶<br><strong>è¯­æ³•:</strong> <code>&lt;DOM className=&quot;&quot;&gt;&lt;/DOM&gt;</code></li></ol></li></ol><p><em>æ³¨:</em> </p><ol><li><p>å†™è¡Œå†…æ ·å¼æ—¶,CSSå±æ€§åè¦ä½¿ç”¨é©¼å³°å‘½åæ³•.</p></li><li><p>éœ€åœ¨App.jsä¸‹å¼•ç”¨å¯¹åº”çš„CSSæ–‡ä»¶.</p></li></ol><p><strong>classnameä¼˜åŒ–ç±»åæ§åˆ¶</strong></p><ol><li><p>å®‰è£…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs npmignore">npm install classnames<br></code></pre></td></tr></table></figure></li><li><p>å¼•ç”¨</p></li></ol><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> classNames = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;classnames&#x27;</span>)<br><span class="hljs-comment">//ES6</span><br><span class="hljs-keyword">import</span> classNames <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;classnames&#x27;</span><br><span class="hljs-comment">//import</span><br></code></pre></td></tr></table></figure><ol start="3"><li>ä½¿ç”¨<br>è¯­æ³•:<code>classNames(&#39;objclassName1&#39;,&#39;2...&#39;,&#123;conditionalClassName:Condition&#125;)</code></li></ol><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;span <br>&#123;key=item.<span class="hljs-property">type</span>&#125;<br>className=&#123;<span class="hljs-title function_">classNames</span>(<span class="hljs-string">&#x27;nav-item&#x27;</span>,&#123;<span class="hljs-attr">active</span>:type === item.<span class="hljs-property">type</span>&#125;)&#125;<br></code></pre></td></tr></table></figure><h3 id="å—æ§è¡¨å•ç»‘å®š"><a href="#å—æ§è¡¨å•ç»‘å®š" class="headerlink" title="å—æ§è¡¨å•ç»‘å®š"></a>å—æ§è¡¨å•ç»‘å®š</h3><p><strong>æ¦‚å¿µ:</strong> ä½¿ç”¨Reactç»„ä»¶çš„çŠ¶æ€(useState)æ§åˆ¶è¡¨å•çš„çŠ¶æ€,å³åŒå‘ç»‘å®š</p><p><a href="https://imgse.com/i/pEkBICq"><img src="https://s21.ax1x.com/2025/01/19/pEkBICq.png" alt="pEkBICq.png"></a></p><p><strong>æ­¥éª¤:</strong></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> [value,setValue] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-comment">// 1.å‡†å¤‡ä¸€ä¸ªReactçŠ¶æ€å€¼</span><br>&lt;input <br>type=<span class="hljs-string">&quot;text&quot;</span><br>value=&#123;value&#125;<br><span class="hljs-comment">// 2.é€šè¿‡valueå±æ€§ç»‘å®šReactçŠ¶æ€å˜é‡</span><br>onChange=&#123;<span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> <span class="hljs-title function_">setValue</span>(e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>)&#125;<br><span class="hljs-comment">// 3.ç»‘å®šonChangeäº‹ä»¶ é€šè¿‡å‚æ•°eæ‹¿åˆ°è¾“å…¥æ¡†çš„å€¼ åå‘ä¿®æ”¹åˆ°ReactçŠ¶æ€ä¸­</span><br>/&gt;<br></code></pre></td></tr></table></figure><h3 id="Reactä¸­è·å–DOM"><a href="#Reactä¸­è·å–DOM" class="headerlink" title="Reactä¸­è·å–DOM"></a>Reactä¸­è·å–DOM</h3><p><strong>æ¦‚å¿µ:</strong> åœ¨Reactç»„ä»¶ä¸­<strong>è·å–&#x2F;æ“ä½œ</strong> DOM,éœ€è¦ä½¿ç”¨<strong>useRef</strong> é’©å­å‡½æ•°,åˆ†ä¸ºä¸¤æ­¥:</p><ol><li><p>ä½¿ç”¨useRefåˆ›å»ºRefå¯¹è±¡,å¹¶ä¸JSXç»‘å®š</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> inputRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>)<br>&lt;input type=<span class="hljs-string">&quot;text&quot;</span> ref=&#123;inputRef&#125; /&gt;<br></code></pre></td></tr></table></figure></li><li><p>åœ¨DOMå¯ç”¨æ—¶(ç»„ä»¶æ¸²æŸ“å®Œæ¯•),é€šè¿‡<code>inputRef.current</code>è·å–DOMå¯¹è±¡</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(inputRef.<span class="hljs-property">current</span>)<br></code></pre></td></tr></table></figure></li></ol><h2 id="Reactç»„ä»¶é€šä¿¡"><a href="#Reactç»„ä»¶é€šä¿¡" class="headerlink" title="Reactç»„ä»¶é€šä¿¡"></a>Reactç»„ä»¶é€šä¿¡</h2><h3 id="ç†è§£ç»„ä»¶é€šä¿¡"><a href="#ç†è§£ç»„ä»¶é€šä¿¡" class="headerlink" title="ç†è§£ç»„ä»¶é€šä¿¡"></a>ç†è§£ç»„ä»¶é€šä¿¡</h3><p><strong>æ¦‚å¿µ:</strong> ç»„ä»¶é€šä¿¡å°±æ˜¯<em>ç»„ä»¶ä¹‹é—´çš„æ•°æ®ä¼ é€’</em>,æ ¹æ®ç»„ä»¶åµŒå¥—å…³ç³»çš„ä¸åŒ,æœ‰ç€ä¸åŒçš„é€šä¿¡æ–¹æ³•.</p><h4 id="çˆ¶ä¼ å­-åŸºç¡€å®ç°"><a href="#çˆ¶ä¼ å­-åŸºç¡€å®ç°" class="headerlink" title="çˆ¶ä¼ å­-åŸºç¡€å®ç°"></a>çˆ¶ä¼ å­-åŸºç¡€å®ç°</h4><p><strong>å®ç°æ­¥éª¤:</strong> </p><ol><li><p>çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®,åœ¨å­ç»„ä»¶æ ‡ç­¾ä¸Šç»‘å®šå±æ€§</p></li><li><p>å­ç»„ä»¶æ¥æ”¶æ•°æ®,å­ç»„ä»¶é€šè¿‡<strong>propså‚æ•°</strong> æ¥æ”¶æ•°æ®</p></li></ol><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> name = <span class="hljs-string">&#x27;This is app name.&#x27;</span><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">Son</span>(<span class="hljs-params">props</span>)&#123;<br>    <span class="hljs-comment">// props:å¯¹è±¡é‡Œé¢åŒ…å«äº†çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„æ‰€æœ‰æ•°æ®</span><br>    <span class="hljs-comment">// eslint-disable-next-line react/prop-types</span><br><br>    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>this is son &#123;props.name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  &#125;<br>&#123;<span class="hljs-comment">/* çˆ¶ä¼ å­é€šä¿¡ */</span>&#125;<br>        &lt;div&gt;<br>          <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Son</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&#123;name&#125;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Son</span>&gt;</span></span><br>        &lt;/div&gt;<br><br><br></code></pre></td></tr></table></figure><h4 id="çˆ¶ä¼ å­-props"><a href="#çˆ¶ä¼ å­-props" class="headerlink" title="çˆ¶ä¼ å­-props"></a>çˆ¶ä¼ å­-props</h4><ol><li><p>propså¯ä¼ é€’ä»»æ„çš„æ•°æ®<br>æ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ã€æ•°ç»„ã€å¯¹è±¡ã€å‡½æ•°ã€JSX</p></li><li><p>propsæ˜¯<strong>åªè¯»å¯¹è±¡</strong><br>å­ç»„ä»¶<strong>åªèƒ½è¯»å–propsä¸­çš„æ•°æ®</strong>,ä¸èƒ½ç›´æ¥è¿›è¡Œä¿®æ”¹,çˆ¶ç»„ä»¶çš„æ•°æ®åªèƒ½ç”±çˆ¶ç»„ä»¶ä¿®æ”¹</p></li></ol><h4 id="çˆ¶ä¼ å­-props-children"><a href="#çˆ¶ä¼ å­-props-children" class="headerlink" title="çˆ¶ä¼ å­-props children"></a>çˆ¶ä¼ å­-props children</h4><p>åœºæ™¯:å½“æˆ‘ä»¬æŠŠå†…å®¹åµŒå¥—åœ¨å­ç»„ä»¶ä¸­æ—¶,çˆ¶ç»„ä»¶ä¼šè‡ªåŠ¨åœ¨åä¸ºprop.childrenå±æ€§ä¸­æ¥æ”¶å†…å®¹</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Son</span>(<span class="hljs-params">props</span>)&#123;<br>    <span class="hljs-comment">// props:å¯¹è±¡é‡Œé¢åŒ…å«äº†çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„æ‰€æœ‰æ•°æ®</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(props)<br>    <span class="hljs-comment">// eslint-disable-next-line react/prop-types</span><br>    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>this is son &#123;props.children&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><br>  &#125;<br><br><br><br></code></pre></td></tr></table></figure><h4 id="çˆ¶å­ç»„ä»¶é€šä¿¡-å­ä¼ çˆ¶"><a href="#çˆ¶å­ç»„ä»¶é€šä¿¡-å­ä¼ çˆ¶" class="headerlink" title="çˆ¶å­ç»„ä»¶é€šä¿¡-å­ä¼ çˆ¶"></a>çˆ¶å­ç»„ä»¶é€šä¿¡-å­ä¼ çˆ¶</h4><p>æ ¸å¿ƒæ€è·¯:åœ¨å­ç»„ä»¶ä¸­è°ƒç”¨çˆ¶ç»„ä»¶ä¸­çš„å‡½æ•°å¹¶ä¼ é€’æ•°æ®</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Son</span>(<span class="hljs-params">&#123;onGetMsg&#125;</span>)&#123;<br>  <span class="hljs-keyword">const</span> sonMsg = <span class="hljs-string">&quot;This is son msg.&quot;</span><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      &#123;/* åœ¨å­ç»„ä»¶ä¸­è°ƒç”¨çˆ¶ç»„ä»¶çš„å½¢å‚ */&#125;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span>=&gt;</span>onGetMsg(sonMsg)&#125;&gt;send<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  )<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">getMsg</span> = (<span class="hljs-params">msg</span>) =&gt; <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg)<br><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Son</span> <span class="hljs-attr">onGetMsg</span>=<span class="hljs-string">&#123;getMsg&#125;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Son</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  )<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="ä½¿ç”¨çŠ¶æ€æå‡å®ç°å…„å¼Ÿç»„ä»¶é€šä¿¡"><a href="#ä½¿ç”¨çŠ¶æ€æå‡å®ç°å…„å¼Ÿç»„ä»¶é€šä¿¡" class="headerlink" title="ä½¿ç”¨çŠ¶æ€æå‡å®ç°å…„å¼Ÿç»„ä»¶é€šä¿¡"></a>ä½¿ç”¨çŠ¶æ€æå‡å®ç°å…„å¼Ÿç»„ä»¶é€šä¿¡</h4><p><strong>å®ç°æ€è·¯:</strong> å€ŸåŠ©<em>çŠ¶æ€æå‡</em> æœºåˆ¶,é€šè¿‡çˆ¶ç»„ä»¶è¿›è¡Œå…„å¼Ÿç»„ä»¶ä¹‹é—´çš„æ•°æ®ä¼ é€’</p><ol><li><p>Aç»„ä»¶å…ˆé€šè¿‡å­ä¼ çˆ¶çš„æ–¹å¼æŠŠæ•°æ®ä¼ ç»™çˆ¶ç»„ä»¶App</p></li><li><p>Appæ‹¿åˆ°æ•°æ®åé€šè¿‡çˆ¶ä¼ å­çš„æ–¹å¼ä¼ é€’ç»™Bç»„ä»¶</p></li></ol><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">A</span>(<span class="hljs-params">&#123; onGetAname &#125;</span>)&#123;<br>  <span class="hljs-comment">// &#123;onGetAname&#125;æ˜¯ç»„ä»¶Açš„å‚æ•°è§£æ„,æ„å‘³ç€å‡½æ•°æ¥å—åŒåå‡½æ•°ä½œä¸ºpropsåœ¨ç»„ä»¶å†…è°ƒç”¨</span><br>  <span class="hljs-keyword">const</span> name = <span class="hljs-string">&#x27;This is A name&#x27;</span><br>  <span class="hljs-keyword">return</span>(<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      This is A component</span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> onGetAname(name)&#125;&gt;Send<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><br>  )<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">B</span>(<span class="hljs-params">&#123;name&#125;</span>)&#123;<br>  <span class="hljs-keyword">return</span>(<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      This is B component.</span><br><span class="language-xml">      &#123;name&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><br>  )<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> [name,setName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">getAname</span> = (<span class="hljs-params">name</span>) =&gt;&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name)<br>    <span class="hljs-title function_">setName</span>(name)<br>  &#125;<br> <span class="hljs-keyword">return</span>(<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    This is app.</span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">A</span> <span class="hljs-attr">onGetAname</span>=<span class="hljs-string">&#123;getAname&#125;/</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">B</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&#123;name&#125;/</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><br> )<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="ä½¿ç”¨Contextæœºåˆ¶è·¨å±‚çº§ç»„ä»¶é€šä¿¡"><a href="#ä½¿ç”¨Contextæœºåˆ¶è·¨å±‚çº§ç»„ä»¶é€šä¿¡" class="headerlink" title="ä½¿ç”¨Contextæœºåˆ¶è·¨å±‚çº§ç»„ä»¶é€šä¿¡"></a>ä½¿ç”¨Contextæœºåˆ¶è·¨å±‚çº§ç»„ä»¶é€šä¿¡</h4><p><strong>å®ç°æ­¥éª¤:</strong> </p><ol><li><p>ä½¿ç”¨<strong>createContext</strong>æ–¹æ³•åˆ›å»ºä¸Šä¸‹æ–‡å¯¹è±¡Ctx</p></li><li><p>åœ¨é¡¶å±‚ç»„ä»¶(App)ä¸­é€šè¿‡<strong>Ctx.Provider</strong>ç»„ä»¶æä¾›æ•°æ®</p></li><li><p>åœ¨åº•å±‚ç»„ä»¶ä¸­é€šè¿‡<strong>useContext</strong>é’©å­å‡½æ•°è·å–æ•°æ®</p></li></ol><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">// 1.åˆ›å»ºä¸Šä¸‹æ–‡å¯¹è±¡</span><br><span class="hljs-keyword">const</span> <span class="hljs-title class_">MsgContext</span> = <span class="hljs-title function_">createContext</span>()<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">A</span>(<span class="hljs-params"></span>)&#123;<br><br>  <span class="hljs-keyword">return</span>(<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      This is A component</span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">B</span>/&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><br>  )<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">B</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-comment">// 3.ä½¿ç”¨useContexté’©å­å‡½æ•°è·å–æ•°æ®</span><br>  <span class="hljs-keyword">const</span> msg = <span class="hljs-title function_">useContext</span>(<span class="hljs-title class_">MsgContext</span>)<br>  <span class="hljs-keyword">return</span>(<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      This is B component.</span><br><span class="language-xml">      &#123;msg&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><br>  )<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br> <span class="hljs-keyword">const</span> msg = <span class="hljs-string">&quot;This is app msg.&quot;</span><br> <span class="hljs-keyword">return</span>(<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    &#123;/* 2. åœ¨é¡¶å±‚åˆ›å»ºCtx.Providerç»„ä»¶ */&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">MsgContext.Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&#123;msg&#125;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">A</span>/&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">MsgContext.Provider</span>&gt;</span></span><br><span class="language-xml">    This is app.</span><br><span class="language-xml"></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><br> )<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="useEffect"><a href="#useEffect" class="headerlink" title="useEffect"></a>useEffect</h3><h4 id="useEffectçš„ä½¿ç”¨"><a href="#useEffectçš„ä½¿ç”¨" class="headerlink" title="useEffectçš„ä½¿ç”¨"></a>useEffectçš„ä½¿ç”¨</h4><p>useEffectæ˜¯ä¸€ä¸ªReact Hookå‡½æ•°,ç”¨äºåœ¨Reactç»„ä»¶ä¸­åˆ›å»º<em>ä¸æ˜¯ç”±äºäº‹ä»¶å¼•èµ·</em>è€Œæ˜¯<strong>æ¸²æŸ“æœ¬èº«å¼•èµ·çš„æ“ä½œ</strong> ,ä¾‹å¦‚<em>å‘é€AJAXè¯·æ±‚,æ›´æ”¹DOM</em></p><p><strong>éœ€æ±‚:</strong> åœ¨ç»„ä»¶æ¸²æŸ“å®Œæ¯•å,ç«‹åˆ»ä»æœåŠ¡å™¨è·å–é¢‘é“æ•°æ®å¹¶æ˜¾ç¤ºåˆ°é¡µé¢ä¸Š</p><p><strong>è¯­æ³•:</strong></p><p><code>useEffect(() = &#123;Function()&#125;,[Array])</code></p><p>å‚æ•°1ä¸º<strong>å‰¯ä½œç”¨å‡½æ•°</strong> ,åœ¨å‡½æ•°å†…æ”¾ç½®è¦æ‰§è¡Œçš„æ“ä½œ</p><p>å‚æ•°2ä¸ºæ•°ç»„(<em>å¯é€‰</em>),æ•°ç»„å†…çš„ä¾èµ–é¡¹ä¼šå½±å“ç¬¬ä¸€ä¸ªå‚æ•°å‡½æ•°çš„æ‰§è¡Œ,è‹¥ä¸ºç©º,<strong>å‰¯ä½œç”¨å‡½æ•°åªä¼šåœ¨ç»„ä»¶æ¸²æŸ“å®Œæ¯•åæ‰§è¡Œä¸€æ¬¡</strong></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">URL</span> = <span class="hljs-string">&quot;http://geek.itheima.net/v1_0/channels&quot;</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> [list,setList] = <span class="hljs-title function_">useState</span>([])<br> <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">()=&gt;</span>&#123;<br><span class="hljs-comment">//  è·å–é¢‘é“åˆ—è¡¨</span><br> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getList</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-variable constant_">URL</span>)<br>  <span class="hljs-keyword">const</span> jsonRes = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>()<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(jsonRes)<br>  <span class="hljs-title function_">setList</span>(jsonRes.<span class="hljs-property">data</span>.<span class="hljs-property">channels</span>)<br> &#125;<br> <span class="hljs-title function_">getList</span>()<br> &#125;,[])<br> <span class="hljs-keyword">return</span>(<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">      &#123;list.map(item =&gt; <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;item.id&#125;</span>&gt;</span>&#123;item.name&#125; <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>)&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br> )<br>&#125;<br><br></code></pre></td></tr></table></figure><h4 id="useEffectä¾èµ–é¡¹å‚æ•°"><a href="#useEffectä¾èµ–é¡¹å‚æ•°" class="headerlink" title="useEffectä¾èµ–é¡¹å‚æ•°"></a>useEffectä¾èµ–é¡¹å‚æ•°</h4><table><thead><tr><th>ä¾èµ–é¡¹</th><th>å‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œæ—¶æœº</th></tr></thead><tbody><tr><td>æ²¡æœ‰ä¾èµ–é¡¹</td><td>ç»„ä»¶åˆå§‹æ¸²æŸ“+ç»„ä»¶æ›´æ–°æ—¶æ‰§è¡Œ</td></tr><tr><td>ç©ºæ•°ç»„ä¾èµ–</td><td>åªåœ¨åˆå§‹æ¸²æŸ“æ—¶æ‰§è¡Œä¸€æ¬¡</td></tr><tr><td>æ·»åŠ ç‰¹å®šä¾èµ–é¡¹</td><td>ç»„ä»¶åˆå§‹æ¸²æŸ“+ç‰¹æ€§ä¾èµ–é¡¹å˜åŒ–æ—¶æ‰§è¡Œ</td></tr></tbody></table><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><br><span class="hljs-keyword">import</span> &#123; useEffect, useState &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span><br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-comment">// æ— ä¾èµ–é¡¹ åˆå§‹+ç»„ä»¶æ›´æ–°</span><br>  <span class="hljs-keyword">const</span> [count,setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>)<br>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;å‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œäº†&#x27;</span>)<br>  &#125;)<br><br>  <span class="hljs-comment">// ç©ºæ•°ç»„ä¾èµ– ä»…åœ¨åˆå§‹æ—¶æ‰§è¡Œä¸€æ¬¡</span><br>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;ç©ºæ•°ç»„ä¾èµ–&#x27;</span>)<br>  &#125;,[])<br>  <span class="hljs-comment">// ä¼ å…¥ç‰¹å®šä¾èµ–é¡¹ åˆå§‹ + ä¾èµ–é¡¹å˜åŒ–æ—¶æ‰§è¡Œ</span><br>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;å«ä¾èµ–é¡¹&#x27;</span>)<br>  &#125;,[count])<br> <span class="hljs-keyword">return</span>(<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span>=&gt;</span> setCount(count+1)&#125;&gt;&#123;count&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br> )<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="useEffect-æ¸…é™¤å‰¯ä½œç”¨"><a href="#useEffect-æ¸…é™¤å‰¯ä½œç”¨" class="headerlink" title="useEffect-æ¸…é™¤å‰¯ä½œç”¨"></a>useEffect-æ¸…é™¤å‰¯ä½œç”¨</h4><p>åœ¨useEffectä¸­ç¼–å†™çš„å‰¯ä½œç”¨æ“ä½œ,æƒ³åœ¨ç»„ä»¶å¸è½½æ—¶å†æ¸…ç†æ‰,è¯¥è¿‡ç¨‹å³ä¸º<strong>æ¸…ç†å‰¯ä½œç”¨</strong></p><p><strong>è¯­æ³•:</strong> </p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span>&#123;<br>    <span class="hljs-comment">//å®ç°å‰¯ä½œç”¨çš„æ“ä½œ</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-comment">//æ¸…é™¤å‰¯ä½œç”¨é€»è¾‘</span><br>&#125;<br><br>&#125;,[])<br></code></pre></td></tr></table></figure><p>ç¤ºä¾‹</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Son</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;å®šæ—¶å™¨æ‰§è¡Œä¸­&#x27;</span>)<br>    &#125;,<span class="hljs-number">1000</span>)<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-function">()=&gt;</span>&#123;<br>      <span class="hljs-comment">// æ¸…é™¤å‰¯ä½œç”¨</span><br>      <span class="hljs-built_in">clearInterval</span>(timer)<br>    &#125;<br>  &#125;)<br>  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>This is son<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> [show,setShow] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>)<br> <span class="hljs-keyword">return</span>(<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    &#123;show &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">Son</span>/&gt;</span>&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span>=&gt;</span>setShow(false)&#125;&gt;å¸è½½Sonç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br> )<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="å…¶ä»–useHookså‡½æ•°"><a href="#å…¶ä»–useHookså‡½æ•°" class="headerlink" title="å…¶ä»–useHookså‡½æ•°"></a>å…¶ä»–useHookså‡½æ•°</h3><h4 id="useReducer"><a href="#useReducer" class="headerlink" title="useReducer"></a>useReducer</h4><p><strong>ä½œç”¨ï¼š</strong> å’ŒuseStateç±»ä¼¼ï¼Œç”¨äºç®¡ç†ç›¸å¯¹å¤æ‚çš„çŠ¶æ€æ•°æ®ï¼Œå¯¹äºéœ€è¦å¤æ‚æ“ä½œçš„çŠ¶æ€å˜é‡ï¼Œè¯¥å‡½æ•°æ¯”<code>useState</code>æ›´å…·ä¼˜åŠ¿ã€‚</p><p><strong>è¯­æ³•ï¼š</strong></p><p>reducerå‡½æ•°ï¼š<code>reducer(state,action)</code></p><p>ç®¡ç†çŠ¶æ€å˜é‡ï¼š<code>switch(action.type)&#123;case:...&#125;</code></p><p>è°ƒèµ·useHooksæ–¹æ³• æ³¨å†ŒçŠ¶æ€å˜é‡ï¼š<code>const [state,dispatch] = useReducer(reducer,defaultValue)</code></p><p>ä½¿ç”¨dispatchæ–¹æ³•æ“ä½œçŠ¶æ€å˜é‡ï¼š<code>dispatch(&#123;type:&#39;ACTION&#39;&#125;)</code></p><h6 id="useReducer-åŸºç¡€ç”¨æ³•"><a href="#useReducer-åŸºç¡€ç”¨æ³•" class="headerlink" title="useReducer-åŸºç¡€ç”¨æ³•"></a>useReducer-åŸºç¡€ç”¨æ³•</h6><ol><li><p>å®šä¹‰ä¸€ä¸ªreducerå‡½æ•°ï¼ˆ<em>æ ¹æ®ä¸åŒçš„actionè¿”å›ä¸åŒçš„çŠ¶æ€</em>ï¼‰</p></li><li><p>åœ¨ç»„ä»¶ä¸­è°ƒç”¨useReducerï¼Œå¹¶ä¼ å…¥reducerå‡½æ•°å’ŒçŠ¶æ€çš„åˆå§‹å€¼</p></li><li><p>äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œé€šè¿‡dispatchå‡½æ•°åˆ†æ´¾ä¸€ä¸ªactionå¯¹è±¡ï¼ˆé€šçŸ¥reducerè¦è¿”å›å“ªä¸ªæ–°çŠ¶æ€å¹¶æ¸²æŸ“UIï¼‰</p></li></ol><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><br><span class="hljs-comment">// 1.å®šä¹‰reducerå‡½æ•°ï¼Œæ ¹æ®ä¸åŒçš„actionè¿”å›ä¸åŒçš„çŠ¶æ€</span><br> <span class="hljs-keyword">function</span> <span class="hljs-title function_">reducer</span>(<span class="hljs-params">state,action</span>)&#123;<br>  <span class="hljs-keyword">switch</span>(action.<span class="hljs-property">type</span>)&#123;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;INC&#x27;</span>:<br>      <span class="hljs-keyword">return</span> state + <span class="hljs-number">1</span><br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;DEC&#x27;</span>:<br>      <span class="hljs-keyword">return</span> state - <span class="hljs-number">1</span><br>    <span class="hljs-attr">default</span>:<br>      <span class="hljs-keyword">return</span> state<br>  &#125;<br><br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br><br>  <span class="hljs-comment">// 2.ç»„ä»¶ä¸­è°ƒç”¨useReducer(reducer,0) =&gt;[state,dispatch]</span><br>  <span class="hljs-keyword">const</span> [state,dispatch] = <span class="hljs-title function_">useReducer</span>(reducer,<span class="hljs-number">0</span>)<br>  <span class="hljs-comment">// 3.è°ƒç”¨dispa tch(&#123;type:&#x27;INC&#x27;&#125;) =&gt;é€šçŸ¥reduceräº§ç”Ÿæ–°çš„çŠ¶æ€æ¥æ›´æ–°UI</span><br><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span>=&gt;</span>&#123;dispatch(&#123; type:&#x27;INC&#x27; &#125;)&#125;&#125;&gt;</span><br><span class="language-xml">          count is &#123;state&#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span>=&gt;</span>&#123;dispatch(&#123; type:&#x27;DEC&#x27; &#125;)&#125;&#125;&gt;</span><br><span class="language-xml">          count is &#123;state&#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  )<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="useReducer-åˆ†æ´¾actionæ—¶ä¼ å‚"><a href="#useReducer-åˆ†æ´¾actionæ—¶ä¼ å‚" class="headerlink" title="useReducer-åˆ†æ´¾actionæ—¶ä¼ å‚"></a>useReducer-åˆ†æ´¾actionæ—¶ä¼ å‚</h5><p>åœ¨<code>dispatch(&#123;...,payload:value&#125;)</code>ä¸­ä¼ å‚æ—¶ï¼Œéœ€è¦åœ¨<code>reducer</code>å‡½æ•°ä¸­ä½¿ç”¨<code>action.payload</code>æ¥æ”¶</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">reducer</span>(<span class="hljs-params">state,action</span>)&#123;<br>  <span class="hljs-keyword">switch</span>(action.<span class="hljs-property">type</span>)&#123;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;SET&#x27;</span>:<br>      <span class="hljs-keyword">return</span> action.<span class="hljs-property">payload</span><br>    <span class="hljs-attr">default</span>:<br>      <span class="hljs-keyword">return</span> state<br>  &#125;<br><span class="hljs-comment">// ...</span><br>Â Â Â Â Â Â Â Â &lt;button onClick=&#123;<span class="hljs-function">()=&gt;</span>&#123;<span class="hljs-title function_">dispatch</span>(&#123; <span class="hljs-attr">type</span>:<span class="hljs-string">&#x27;SET&#x27;</span>,<span class="hljs-attr">payload</span>:<span class="hljs-number">100</span> &#125;)&#125;&#125;&gt;<br>          <span class="hljs-title class_">Update</span> count to <span class="hljs-number">100</span><br>        &lt;/button&gt;<br></code></pre></td></tr></table></figure><p><a href="https://imgse.com/i/pE8R458"><img src="https://s21.ax1x.com/2025/03/01/pE8R458.png" alt="pE8R458.png"></a></p><h4 id="useMemo"><a href="#useMemo" class="headerlink" title="useMemo"></a>useMemo</h4><p><strong>ä½œç”¨ï¼š</strong> åœ¨ç»„ä»¶æ¯æ¬¡é‡æ–°æ¸²æŸ“æ—¶<strong>ç¼“å­˜è®¡ç®—çš„ç»“æœ</strong>ï¼Œç”±æ­¤ä¿è¯åªæœ‰åˆ—è¡¨å†…çš„ä¾èµ–é¡¹ï¼ˆå³éœ€è¦æ”¹å˜çš„çŠ¶æ€å˜é‡ï¼‰æ”¹å˜æ—¶å†é‡æ–°è®¡ç®—ï¼Œä»è€Œé¿å…ä¸å¿…è¦çš„ç»„ä»¶é‡å¤æ¸²æŸ“</p><p><strong>è¯­æ³•ï¼š</strong> <code>useMemo(()=&gt;&#123;&#125;,[state])</code></p><p><strong>å¤‡æ³¨ï¼š</strong> æ¶ˆè€—éå¸¸å¤§çš„è®¡ç®—</p><h4 id="useCallback"><a href="#useCallback" class="headerlink" title="useCallback"></a>useCallback</h4><p><strong>ä½œç”¨ï¼š</strong> åœ¨ç»„ä»¶å¤šæ¬¡é‡æ–°æ¸²æŸ“çš„æ—¶å€™<em>ç¼“å­˜å‡½æ•°</em></p><p><strong>è¯­æ³•ï¼š</strong> <code>const changeHandler = useCallback((value) =&gt; console.log(),[])</code></p><p><strong>ä½œç”¨ï¼š</strong> ä½¿ç”¨useCallbackåŒ…è£¹å‡½æ•°åï¼Œå‡½æ•°å¯ä»¥ä¿è¯åœ¨app<em>é‡æ–°æ¸²æŸ“æ—¶ä¿æŒç¨³å®š</em></p><h3 id="è‡ªå®šä¹‰Hookå‡½æ•°"><a href="#è‡ªå®šä¹‰Hookå‡½æ•°" class="headerlink" title="è‡ªå®šä¹‰Hookå‡½æ•°"></a>è‡ªå®šä¹‰Hookå‡½æ•°</h3><h4 id="è‡ªå®šä¹‰Hook"><a href="#è‡ªå®šä¹‰Hook" class="headerlink" title="è‡ªå®šä¹‰Hook"></a>è‡ªå®šä¹‰Hook</h4><p><strong>æ¦‚å¿µ:</strong> è‡ªå®šä¹‰Hookæ˜¯ä»¥<em>use</em> æ‰“å¤´çš„å‡½æ•°,é€šè¿‡è‡ªå®šä¹‰Hookå‡½æ•°å¯ä»¥å®ç°é€»è¾‘çš„å°è£…å’Œå¤ç”¨</p><p><strong>æ€è·¯:</strong></p><ol><li><p>å£°æ˜ä¸€ä¸ªä»¥useæ‰“å¤´çš„å‡½æ•°</p></li><li><p>åœ¨å‡½æ•°ä½“å†…å°è£…å¯å¤ç”¨çš„é€»è¾‘</p></li><li><p>æŠŠç»„ä»¶ä¸­ç”¨åˆ°çš„çŠ¶æ€æˆ–è€…å›è°ƒreturnå‡ºå»</p></li><li><p>åœ¨å“ªä¸ªç»„ä»¶ä¸­è¦ç”¨åˆ°è¿™ä¸ªé€»è¾‘,å°±æ‰§è¡Œè¿™ä¸ªå‡½æ•°,è§£æ„å‡ºçŠ¶æ€å’Œç›¸åº”çš„å›è°ƒ</p></li></ol><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> &#123; useState &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span><br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">useToggle</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-keyword">const</span> [value,setValue] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>)<br>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">toggle</span> = (<span class="hljs-params"></span>) =&gt; <span class="hljs-title function_">setValue</span>(!value)<br>  <span class="hljs-comment">// å“ªäº›çŠ¶æ€å’Œå›è°ƒå‡½æ•°éœ€è¦å°±åœ¨å…¶ä»–ç»„ä»¶ä¸­ä½¿ç”¨return</span><br>  <span class="hljs-keyword">return</span>&#123;<br>    value,toggle<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> &#123;value,toggle&#125; = <span class="hljs-title function_">useToggle</span>()<br> <span class="hljs-keyword">return</span>(<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    &#123;value &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>This is div<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;toggle&#125;</span>&gt;</span>toggle<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br> )<br>&#125;<br><br><br></code></pre></td></tr></table></figure><h4 id="React-Hookså‡½æ•°ä½¿ç”¨è§„åˆ™"><a href="#React-Hookså‡½æ•°ä½¿ç”¨è§„åˆ™" class="headerlink" title="React Hookså‡½æ•°ä½¿ç”¨è§„åˆ™"></a>React Hookså‡½æ•°ä½¿ç”¨è§„åˆ™</h4><ol><li><p>åªèƒ½åœ¨ç»„ä»¶ä¸­æˆ–è€…å…¶ä»–è‡ªå®šä¹‰Hookå‡½æ•°ä¸­è°ƒç”¨</p></li><li><p>åªèƒ½åœ¨ç»„ä»¶çš„é¡¶å±‚è°ƒç”¨,ä¸èƒ½åµŒå¥—åœ¨if&#x2F;for&#x2F;å…¶ä»–å‡½æ•°ç­‰</p></li></ol><h2 id="Reactæ–¹æ³•"><a href="#Reactæ–¹æ³•" class="headerlink" title="Reactæ–¹æ³•"></a>Reactæ–¹æ³•</h2><h3 id="React-memo"><a href="#React-memo" class="headerlink" title="React.memo"></a>React.memo</h3><h4 id="React-memo-åŸºæœ¬ç”¨æ³•"><a href="#React-memo-åŸºæœ¬ç”¨æ³•" class="headerlink" title="React.memo-åŸºæœ¬ç”¨æ³•"></a>React.memo-åŸºæœ¬ç”¨æ³•</h4><p><strong>èƒŒæ™¯ï¼š</strong> Reacté»˜è®¤æ¸²æŸ“æœºåˆ¶ï¼Œåªè¦çˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œå­ç»„ä»¶å°±ä¼šé‡æ–°æ¸²æŸ“</p><p><strong>ä½œç”¨ï¼š</strong> ç»è¿‡memoå‡½æ•°åŒ…è£¹ç”Ÿäº§çš„ç¼“å­˜ç»„ä»¶ä¼šåœ¨<strong>Propsæ²¡æœ‰æ”¹å˜</strong>çš„æƒ…å†µä¸‹è·³è¿‡æ¸²æŸ“</p><p><strong>è¯­æ³•ï¼š</strong> <code>const MemoComponet = memo(function SomeComponent (props)&#123;...&#125;)</code></p><h4 id="React-memo-propsçš„æ¯”è¾ƒæœºåˆ¶"><a href="#React-memo-propsçš„æ¯”è¾ƒæœºåˆ¶" class="headerlink" title="React.memo-propsçš„æ¯”è¾ƒæœºåˆ¶"></a>React.memo-propsçš„æ¯”è¾ƒæœºåˆ¶</h4><p><strong>æœºåˆ¶ï¼š</strong> Reactä¼šå¯¹æ¯ä¸€ä¸ªpropä½¿ç”¨<code>Object.is</code>æ¯”è¾ƒæ–°å€¼å’Œè€å€¼ï¼Œè¿”å›trueè¡¨ç¤ºæ— å˜åŒ–</p><ul><li><p>propsæ˜¯ç®€å•ç±»å‹<br><code>Object.is(3,3)=&gt;true</code><br>æ²¡å˜åŒ–</p></li><li><p>propsæ˜¯å¼•ç”¨ç±»å‹ï¼ˆæ•°ç»„&#x2F;å¯¹è±¡ï¼‰<br><code>Object.is([],[])=&gt;false</code><br>æœ‰å˜åŒ–ï¼Œå½“çˆ¶ç»„ä»¶çš„å‡½æ•°é‡æ–°æ‰§è¡Œæ—¶ï¼Œå®é™…ä¸Šå½¢æˆçš„æ–°çš„æ•°ç»„å¼•ç”¨</p></li></ul><p>ä¸ºäº†ä¿è¯å¼•ç”¨ç¨³å®šï¼Œå¯ä»¥ä½¿ç”¨useMemoç»„ä»¶æ¸²æŸ“è¿‡ç¨‹ä¸­ç¼“å­˜ä¸€ä¸ªå€¼</p><h3 id="React-forwardRef"><a href="#React-forwardRef" class="headerlink" title="React.forwardRef"></a>React.forwardRef</h3><h4 id="React-fowardRefåŸºæœ¬ç”¨æ³•"><a href="#React-fowardRefåŸºæœ¬ç”¨æ³•" class="headerlink" title="React.fowardRefåŸºæœ¬ç”¨æ³•"></a>React.fowardRefåŸºæœ¬ç”¨æ³•</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><br><span class="hljs-keyword">const</span> <span class="hljs-title class_">Input</span> = <span class="hljs-title function_">forwardRef</span>(<span class="hljs-function">(<span class="hljs-params">props,ref</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;ref&#125;</span> /&gt;</span></span><br>  )<br>&#125;)<br><br><br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br><br>  <span class="hljs-comment">// 2.ç»„ä»¶ä¸­è°ƒç”¨useReducer(reducer,0) =&gt;[state,dispatch]</span><br><br>  <span class="hljs-comment">// 3.è°ƒç”¨dispatch(&#123;type:&#x27;INC&#x27;&#125;) =&gt;é€šçŸ¥reduceräº§ç”Ÿæ–°çš„çŠ¶æ€æ¥æ›´æ–°UI</span><br>  <span class="hljs-keyword">const</span> inputRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>)<br>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">showRef</span> = (<span class="hljs-params"></span>) =&gt;&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(inputRef)  <br>  &#125;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;inputRef&#125;</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;showRef&#125;</span>&gt;</span>è·å–ref<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  )<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="React-useInperativeHandle"><a href="#React-useInperativeHandle" class="headerlink" title="React.useInperativeHandle"></a>React.useInperativeHandle</h4><p><strong>ä½œç”¨ï¼š</strong> åœ¨å­ç»„ä»¶å†…éƒ¨å®ç°å¯¹refæ–¹æ³•çš„æš´éœ²ï¼Œä»¥ä¾¿äºè°ƒç”¨</p><p><strong>è¯­æ³•ï¼š</strong> </p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> <span class="hljs-title class_">Input</span> = <span class="hljs-title function_">forwardRef</span>(<span class="hljs-function">(<span class="hljs-params">props,ref</span>)=&gt;</span><br>&#123;<br>    <span class="hljs-keyword">const</span> inputref = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>)<br>    <span class="hljs-keyword">const</span> <span class="hljs-title function_">focusHandler</span> = (<span class="hljs-params"></span>) =&gt;&#123;<br>    inputRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">focus</span>()<br>&#125;<br><br><span class="hljs-title function_">useImperativeHandle</span>(ref,<span class="hljs-function">() =&gt;</span>&#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>    focusHandler<br>&#125;<br>&#125; )<br>&#125;<br><span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;inputRef&#125;</span> /&gt;</span></span><br><br>&#125;)<br></code></pre></td></tr></table></figure><h1 id="5-Redux"><a href="#5-Redux" class="headerlink" title="5.Redux"></a>5.Redux</h1><h2 id="Reduxä¸Šæ‰‹"><a href="#Reduxä¸Šæ‰‹" class="headerlink" title="Reduxä¸Šæ‰‹"></a>Reduxä¸Šæ‰‹</h2><h3 id="Reduxå¿«é€Ÿä½“éªŒ"><a href="#Reduxå¿«é€Ÿä½“éªŒ" class="headerlink" title="Reduxå¿«é€Ÿä½“éªŒ"></a>Reduxå¿«é€Ÿä½“éªŒ</h3><p>Redux æ˜¯ JavaScript åº”ç”¨çš„çŠ¶æ€å®¹å™¨ï¼Œæä¾›å¯é¢„æµ‹çš„çŠ¶æ€ç®¡ç†ã€‚</p><p><a href="https://imgse.com/i/pEAsEzq"><img src="https://s21.ax1x.com/2025/01/22/pEAsEzq.png" alt="pEAsEzq.png"></a></p><p><strong>ä½¿ç”¨æ­¥éª¤:</strong></p><ol><li><p>å®šä¹‰ä¸€ä¸ª<em>reducerå‡½æ•°</em>(æ ¹æ®å½“å‰æƒ³è¦åšçš„ä¿®æ”¹è¿”å›ä¸€ä¸ªæ–°çš„çŠ¶æ€)</p></li><li><p>ä½¿ç”¨createStoreæ–¹æ³•ä¼ å…¥<em>reducerå‡½æ•°</em> ç”Ÿæˆä¸€ä¸ª<em>reducerå®ä¾‹</em></p></li><li><p>ä½¿ç”¨<em>storeå®ä¾‹</em>çš„<strong>subscribeæ–¹æ³•</strong> è®¢é˜…æ•°æ®çš„å˜åŒ–(æ•°æ®ä¸€æ—¦å˜åŒ–,å¯ä»¥å¾—åˆ°é€šçŸ¥)</p></li><li><p>ä½¿ç”¨<em>storeå®ä¾‹</em>çš„<strong>dispatchæ–¹æ³•æäº¤actionå¯¹è±¡</strong> è§¦å‘æ•°æ®å˜åŒ–(å‘Šè¯‰<em>reducer</em> ä½ å¦‚ä½•ä¿®æ”¹æ•°æ®)</p></li><li><p>ä½¿ç”¨storeå®ä¾‹çš„<strong>getStateæ–¹æ³•</strong> è·å–æœ€æ–°çš„çŠ¶æ€æ•°æ®æ›´æ–°åˆ°è§†å›¾ä¸­</p></li></ol><h3 id="Reduxä¸Reacté…å¥—"><a href="#Reduxä¸Reacté…å¥—" class="headerlink" title="Reduxä¸Reacté…å¥—"></a>Reduxä¸Reacté…å¥—</h3><h4 id="é…å¥—å·¥å…·"><a href="#é…å¥—å·¥å…·" class="headerlink" title="é…å¥—å·¥å…·:"></a>é…å¥—å·¥å…·:</h4><p>1.Redux Tookit</p><p>2.react-redux</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs npmignore"><br>npm install react-redux<br><br>npm install redux-toolkit<br></code></pre></td></tr></table></figure><p><strong>storeç›®å½•</strong></p><ol><li><p>é€šå¸¸é›†ä¸­çŠ¶æ€ç®¡ç†éƒ¨åˆ†å•ç‹¬åˆ›å»ºä¸€ä¸ª<code>store</code>ç›®å½•</p></li><li><p>åº”ç”¨é€šå¸¸ä¼šæœ‰å¾ˆå¤šä¸ªå­storeæ¨¡å—,æ‰€ä»¥ä¼šåˆ›å»ºä¸€ä¸ª<code>modules</code>ç›®å½•,åœ¨æ–‡ä»¶å¤¹å†…ç¼–å†™ä¸šåŠ¡åˆ†ç±»çš„å­store</p></li><li><p>storeä¸­çš„å…¥å£æ–‡ä»¶<code>index.js</code>çš„ä½œç”¨æ˜¯ç»„åˆmodulesä¸­çš„æ‰€æœ‰å­æ¨¡å—,å¹¶å¯¼å‡ºstore</p></li></ol><h3 id="Redux-React-å®ç°counter"><a href="#Redux-React-å®ç°counter" class="headerlink" title="Redux+React &#x3D;&gt;å®ç°counter"></a>Redux+React &#x3D;&gt;å®ç°counter</h3><h4 id="æ•´ä½“è·¯å¾„"><a href="#æ•´ä½“è·¯å¾„" class="headerlink" title="æ•´ä½“è·¯å¾„"></a>æ•´ä½“è·¯å¾„</h4><p><a href="https://imgse.com/i/pEEuD1I"><img src="https://s21.ax1x.com/2025/01/24/pEEuD1I.png" alt="pEEuD1I.png"></a></p><h4 id="åˆ›å»ºReduxçš„storeå¯¹è±¡"><a href="#åˆ›å»ºReduxçš„storeå¯¹è±¡" class="headerlink" title="åˆ›å»ºReduxçš„storeå¯¹è±¡"></a>åˆ›å»ºReduxçš„storeå¯¹è±¡</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">// ./modules/counterStore.js</span><br><span class="hljs-keyword">import</span> &#123;createSlice&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@reduxjs/toolkit&#x27;</span><br><br><span class="hljs-keyword">const</span> counterStore = <span class="hljs-title function_">createSlice</span>(&#123;<br>    <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;counter&#x27;</span>,<br>    <span class="hljs-comment">// åˆå§‹çŠ¶æ€æ•°æ®</span><br>    <span class="hljs-attr">initialState</span>:&#123;<br>        <span class="hljs-attr">count</span>:<span class="hljs-number">0</span><br>    &#125;,<br>    <span class="hljs-comment">// ä¿®æ”¹æ•°æ®åŒæ­¥çš„æ–¹æ³•</span><br>    <span class="hljs-attr">reducers</span>:&#123;<br>        <span class="hljs-title function_">increment</span>(<span class="hljs-params">state</span>)&#123;<br>            state.<span class="hljs-property">count</span>++<br>        &#125;,<br>        <span class="hljs-title function_">decrement</span>(<span class="hljs-params">state</span>)&#123;<br>            state.<span class="hljs-property">count</span>--<br>        &#125;,<br>    &#125;,<br><br>&#125;)<br><span class="hljs-comment">// è§£æ„åˆ›å»ºactionå¯¹è±¡çš„å‡½æ•°</span><br><span class="hljs-keyword">const</span> &#123;increment,decrement&#125; = counterStore.<span class="hljs-property">actions</span><br><span class="hljs-comment">// è·å–reducerå‡½æ•°</span><br><span class="hljs-keyword">const</span> counterReducer = counterStore.<span class="hljs-property">reducer</span><br><span class="hljs-comment">// å¯¼å‡ºactionå¯¹è±¡çš„å‡½æ•°å’Œreducerå‡½æ•°</span><br><span class="hljs-keyword">export</span>&#123;increment,decrement&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> counterReducer<br></code></pre></td></tr></table></figure><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">// index.js</span><br><span class="hljs-keyword">import</span> &#123; configureStore &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@reduxjs/toolkit&quot;</span>;<br><span class="hljs-keyword">import</span> counterReducer  <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./modules/counterStore&quot;</span>;<br><br><span class="hljs-keyword">const</span> store = <span class="hljs-title function_">configureStore</span>(&#123;<br>    <span class="hljs-attr">reducer</span>:&#123;<br>        <span class="hljs-attr">counter</span>:counterReducer<br>    &#125;<br>&#125;)<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> store<br></code></pre></td></tr></table></figure><h4 id="ä¸ºReactæ³¨å…¥store"><a href="#ä¸ºReactæ³¨å…¥store" class="headerlink" title="ä¸ºReactæ³¨å…¥store"></a>ä¸ºReactæ³¨å…¥store</h4><p>react-reduxè´Ÿè´£æŠŠReduxå’ŒReacté“¾æ¥èµ·æ¥,å†…ç½®çš„Providerç»„ä»¶é€šè¿‡storeå‚æ•°æŠŠåˆ›å»ºå¥½çš„storeå®ä¾‹æ³¨å…¥åˆ°åº”ç”¨ç¨‹åºä¸­,é“¾æ¥æ­£å¼å»ºç«‹</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><br><span class="hljs-keyword">import</span> &#123; createRoot &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-dom/client&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.jsx&#x27;</span><br><span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./store/index.js&#x27;</span><br><span class="hljs-keyword">import</span> &#123;<span class="hljs-title class_">Provider</span>&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-redux&#x27;</span><br><span class="hljs-title function_">createRoot</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;root&#x27;</span>)).<span class="hljs-title function_">render</span>(<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Provider</span> <span class="hljs-attr">store</span>=<span class="hljs-string">&#123;store&#125;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">Provider</span>&gt;</span></span><br>    ,<br>)<br><br></code></pre></td></tr></table></figure><h4 id="Reactç»„ä»¶ä¸­ä½¿ç”¨storeä¸­çš„æ•°æ®"><a href="#Reactç»„ä»¶ä¸­ä½¿ç”¨storeä¸­çš„æ•°æ®" class="headerlink" title="Reactç»„ä»¶ä¸­ä½¿ç”¨storeä¸­çš„æ•°æ®"></a>Reactç»„ä»¶ä¸­ä½¿ç”¨storeä¸­çš„æ•°æ®</h4><p>åœ¨Reactç»„ä»¶ä¸­ä½¿ç”¨<code>store</code>ä¸­çš„æ•°æ®,éœ€è¦ç”¨åˆ°ä¸€ä¸ªé’©å­å‡½æ•°<code>useSelector(state =&gt; state.Variable)</code></p><p><strong>ä½œç”¨:</strong> å°†storeä¸­çš„æ•°æ®æ˜ å°„åˆ°ç»„ä»¶ä¸­</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">//App.jsx</span><br><span class="hljs-keyword">import</span> &#123; useSelector &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-redux&quot;</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> &#123;count&#125; = <span class="hljs-title function_">useSelector</span>(<span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.<span class="hljs-property">counter</span>)<br><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;App&quot;</span>&gt;</span></span><br><span class="language-xml">        &#123;count&#125;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  )<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span><br><br></code></pre></td></tr></table></figure><p><em>æ³¨æ„:</em> è¯¥ä¾‹å­ä¸­App.jsxä¸­çš„counterå®é™…å®šä¹‰åœ¨storeä¸­çš„å…¥å£,å³<code>index.js</code></p><h4 id="Reactç»„ä»¶ä¸­ä¿®æ”¹storeçš„æ•°æ®"><a href="#Reactç»„ä»¶ä¸­ä¿®æ”¹storeçš„æ•°æ®" class="headerlink" title="Reactç»„ä»¶ä¸­ä¿®æ”¹storeçš„æ•°æ®"></a>Reactç»„ä»¶ä¸­ä¿®æ”¹storeçš„æ•°æ®</h4><p>Reactç»„ä»¶ä¸­ä¿®æ”¹storeä¸­çš„æ•°æ®éœ€è¦å€ŸåŠ©<code>useDispatch()</code>çš„hookå‡½æ•°</p><p><strong>ä½œç”¨:</strong> ç”Ÿæˆæäº¤<em>actionå¯¹è±¡</em>çš„å‡½æ•°</p><h3 id="Redux-React-æäº¤actionä¼ å‚"><a href="#Redux-React-æäº¤actionä¼ å‚" class="headerlink" title="Redux+React - æäº¤actionä¼ å‚"></a>Redux+React - æäº¤actionä¼ å‚</h3><h4 id="æäº¤actionä¼ å‚å®ç°éœ€æ±‚"><a href="#æäº¤actionä¼ å‚å®ç°éœ€æ±‚" class="headerlink" title="æäº¤actionä¼ å‚å®ç°éœ€æ±‚"></a>æäº¤actionä¼ å‚å®ç°éœ€æ±‚</h4><p>åœ¨reduersçš„åŒæ­¥ä¿®æ”¹æ–¹æ³•ä¸­æ·»åŠ actionå¯¹è±¡å‚æ•°,åœ¨è°ƒç”¨<code>actionCreater</code>æ—¶ä¼ é€’å‚æ•°,å‚æ•°ä¼šè¢«ä¼ é€’åˆ°<code>action</code>å¯¹è±¡çš„<code>payload</code>å±æ€§ä¸Š.</p><h3 id="Redux-React-å¼‚æ­¥çŠ¶æ€ç®¡ç†"><a href="#Redux-React-å¼‚æ­¥çŠ¶æ€ç®¡ç†" class="headerlink" title="Redux+React - å¼‚æ­¥çŠ¶æ€ç®¡ç†"></a>Redux+React - å¼‚æ­¥çŠ¶æ€ç®¡ç†</h3><h4 id="å¼‚æ­¥æ“ä½œæ ·æ¿å†™æ³•"><a href="#å¼‚æ­¥æ“ä½œæ ·æ¿å†™æ³•" class="headerlink" title="å¼‚æ­¥æ“ä½œæ ·æ¿å†™æ³•"></a>å¼‚æ­¥æ“ä½œæ ·æ¿å†™æ³•</h4><ol><li><p>åˆ›å»ºstoreçš„å†™æ³•ä¿æŒä¸å˜,é…ç½®å¥½åŒæ­¥ä¿®æ”¹çŠ¶æ€çš„æ–¹æ³•</p></li><li><p>å•ç‹¬å°è£…ä¸€ä¸ªå‡½æ•°,åœ¨å‡½æ•°å†…returnä¸€ä¸ªæ–°å‡½æ•°,åœ¨æ–°å‡½æ•°ä¸­<br>2.1 å°è£…å¼‚æ­¥è¯·æ±‚è·å–æ•°æ®<br>2.2 è°ƒç”¨<strong>åŒæ­¥actionCreater</strong> ä¼ å…¥å¼‚æ­¥æ•°æ®ç”Ÿæˆactionå¯¹è±¡,ä½¿ç”¨dispatchæäº¤</p></li><li><p>ç»„ä»¶ä¸­<code>dispatch</code>çš„å†™æ³•ä¸å˜</p></li></ol><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">//chaannelStore.js</span><br><span class="hljs-keyword">import</span> &#123; createSlice &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@reduxjs/toolkit&quot;</span>;<br><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;axios&#x27;</span><br><span class="hljs-keyword">const</span> channelStore =  <span class="hljs-title function_">createSlice</span>(&#123;<br>    <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;channel&#x27;</span>,<br>    <span class="hljs-attr">initialState</span>:&#123;<br>        <span class="hljs-attr">channelList</span>:[]<br>    &#125;,<br>    <span class="hljs-attr">reducers</span>:&#123;<br>        <span class="hljs-title function_">setChannels</span>(<span class="hljs-params">state,action</span>)&#123;<br>            state.<span class="hljs-property">channelList</span> = action.<span class="hljs-property">payload</span><br>        &#125;<br>    &#125;<br>&#125;)<br><br><span class="hljs-comment">// å¼‚æ­¥è¯·æ±‚</span><br><span class="hljs-keyword">const</span> &#123;setChannels&#125; = channelStore.<span class="hljs-property">actions</span><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchChannelList</span> = (<span class="hljs-params"></span>) =&gt;&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">async</span> (dispatch)=&gt;&#123;<br>        <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;http://geek.itheima.net/v1_0/channels&#x27;</span>)<br>        <span class="hljs-title function_">dispatch</span>(<span class="hljs-title function_">setChannels</span>(res.<span class="hljs-property">data</span>.<span class="hljs-property">data</span>.<span class="hljs-property">channels</span>))<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">export</span> &#123;fetchChannelList,setChannels&#125;<br><span class="hljs-keyword">const</span> channelReducer = channelStore.<span class="hljs-property">reducer</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> channelReducer<br></code></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//index.js</span><br><span class="hljs-keyword">import</span> &#123; configureStore &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@reduxjs/toolkit&quot;</span>;<br><span class="hljs-keyword">import</span> counterReducer  <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./modules/counterStore&quot;</span>;<br><span class="hljs-keyword">import</span> channelReducer <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./modules/channelStore&quot;</span>;<br><span class="hljs-keyword">const</span> store = <span class="hljs-title function_">configureStore</span>(&#123;<br>    <span class="hljs-attr">reducer</span>:&#123;<br>        <span class="hljs-attr">counter</span>:counterReducer,<br>        <span class="hljs-attr">channel</span>:channelReducer,<br>    &#125;<br>&#125;)<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> store<br></code></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//App.jsx</span><br><span class="hljs-keyword">import</span> &#123; useDispatch, useSelector &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-redux&quot;</span><br><span class="hljs-keyword">import</span> &#123; decrement, increment,addToNum&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./store/modules/counterStore&quot;</span><br><span class="hljs-keyword">import</span> &#123; useEffect &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span><br><span class="hljs-keyword">import</span> &#123; fetchChannelList &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./store/modules/channelStore&quot;</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> &#123;count&#125; = <span class="hljs-title function_">useSelector</span>(<span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.<span class="hljs-property">counter</span>)<br>  <span class="hljs-keyword">const</span> &#123;channelList&#125; = <span class="hljs-title function_">useSelector</span>(<span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.<span class="hljs-property">channel</span>)<br>  <span class="hljs-keyword">const</span> dispatch = <span class="hljs-title function_">useDispatch</span>()<br>  <span class="hljs-comment">// ä½¿ç”¨useEffectè§¦å‘å¼‚æ­¥</span><br>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-title function_">dispatch</span>(<span class="hljs-title function_">fetchChannelList</span>())<br>  &#125;,[dispatch])<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;App&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span>=&gt;</span>dispatch(decrement())&#125;&gt;-<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">        &#123;count&#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span>=&gt;</span>dispatch(increment())&#125;&gt;+<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span>=&gt;</span>dispatch(addToNum(20))&#125;&gt;+20<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">          &#123;channelList.map(item=&gt; <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;item.id&#125;</span>&gt;</span>&#123;item.name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>)&#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  )<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="6-ReactRouter"><a href="#6-ReactRouter" class="headerlink" title="6.ReactRouter"></a>6.ReactRouter</h1><h2 id="ReactRouteråº”ç”¨"><a href="#ReactRouteråº”ç”¨" class="headerlink" title="ReactRouteråº”ç”¨"></a>ReactRouteråº”ç”¨</h2><h3 id="å¿«é€Ÿå¼€å§‹"><a href="#å¿«é€Ÿå¼€å§‹" class="headerlink" title="å¿«é€Ÿå¼€å§‹"></a>å¿«é€Ÿå¼€å§‹</h3><p><strong>å‰ç«¯è·¯ç”±</strong>:ä¸€ä¸ªpathå¯¹åº”ä¸€ä¸ªç»„ä»¶component,å½“æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­è®¿é—®ä¸€ä¸ªpathæ—¶,pathå¯¹åº”çš„ç»„ä»¶ä¼šåœ¨é¡µé¢ä¸­è¿›è¡Œæ¸²æŸ“</p><h4 id="åˆ›å»ºè·¯ç”±å¼€å‘ç¯å¢ƒ"><a href="#åˆ›å»ºè·¯ç”±å¼€å‘ç¯å¢ƒ" class="headerlink" title="åˆ›å»ºè·¯ç”±å¼€å‘ç¯å¢ƒ"></a>åˆ›å»ºè·¯ç”±å¼€å‘ç¯å¢ƒ</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs powershell">npm create vite@latest<br>...<br>npm i react<span class="hljs-literal">-router-dom</span><br>...<br>npm run dev<br></code></pre></td></tr></table></figure><h4 id="åŸºæœ¬å®ç°"><a href="#åŸºæœ¬å®ç°" class="headerlink" title="åŸºæœ¬å®ç°"></a>åŸºæœ¬å®ç°</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">// è°ƒåŒ…</span><br><span class="hljs-keyword">import</span> &#123;createBrowserRouter ,<span class="hljs-title class_">RouterProvider</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span><br><br><span class="hljs-comment">// 1.åˆ›å»ºRouterå®ä¾‹å¯¹è±¡,é…ç½®è·¯ç”±å¯¹åº”å…³ç³»</span><br><span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createBrowserRouter</span>([<br>  &#123;<br>    <span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/login&#x27;</span>,<br>    <span class="hljs-attr">element</span>:<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æˆ‘æ˜¯ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  &#125;,<br>  &#123;<br>    <span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/article&#x27;</span>,<br>    <span class="hljs-attr">element</span>:<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æˆ‘æ˜¯æ–‡ç« é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  &#125;<br>])<br><span class="hljs-comment">// 2.åœ¨æ¸²æŸ“DOMä¸­é€šè¿‡RouterProviderç»„ä»¶çš„routerå±æ€§ä¼ å…¥routerå¯¹è±¡</span><br><span class="hljs-title function_">createRoot</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;root&#x27;</span>)).<span class="hljs-title function_">render</span>(<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">StrictMode</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">RouterProvider</span> <span class="hljs-attr">router</span>=<span class="hljs-string">&#123;router&#125;</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">RouterProvider</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">StrictMode</span>&gt;</span></span>,<br>)<br><br><br></code></pre></td></tr></table></figure><h3 id="æŠ½è±¡è·¯ç”±æ¨¡å—"><a href="#æŠ½è±¡è·¯ç”±æ¨¡å—" class="headerlink" title="æŠ½è±¡è·¯ç”±æ¨¡å—"></a>æŠ½è±¡è·¯ç”±æ¨¡å—</h3><p><strong>åœ¨å®é™…å·¥ç¨‹é¡¹ç›®ä¸­çš„é…ç½®:</strong></p><p><a href="https://imgse.com/i/pEelZ6J"><img src="https://s21.ax1x.com/2025/02/05/pEelZ6J.png" alt="ReactRouteré…ç½®"></a></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><br><span class="hljs-comment">// ./router/index.js</span><br><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Login</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../page/login&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Article</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../page/article&quot;</span>;<br><br><span class="hljs-keyword">import</span> &#123;createBrowserRouter&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span><br><br><span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createBrowserRouter</span>([&#123;<br>    <span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/login&#x27;</span>,<br>    <span class="hljs-attr">element</span>:<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Login</span>/&gt;</span></span>,<br>&#125;,<br>&#123;<br>    <span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/article&#x27;</span>,<br>    <span class="hljs-attr">element</span>:<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Article</span>/&gt;</span></span>,<br>&#125;<br>])<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router<br><br><br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„:</strong> </p><p>åœ¨routeræ³¨å†Œç»„ä»¶æ—¶,<strong>ç»„ä»¶åä¸€å®šè¦é¦–å­—æ¯å¤§å†™!!!</strong></p><h3 id="è·¯ç”±å¯¼èˆªè·³è½¬"><a href="#è·¯ç”±å¯¼èˆªè·³è½¬" class="headerlink" title="è·¯ç”±å¯¼èˆªè·³è½¬"></a>è·¯ç”±å¯¼èˆªè·³è½¬</h3><p><strong>æ¦‚å¿µ:</strong> è·¯ç”±ç³»ç»Ÿä¸­çš„å¤šä¸ªè·¯ç”±ä¹‹é—´éœ€è¦è¿›è¡Œ<em>è·¯ç”±è·³è½¬</em>,å¹¶ä¸”åœ¨è·³è½¬çš„åŒæ—¶æœ‰å¯èƒ½éœ€è¦ä¼ é€’å‚æ•°è¿›è¡Œé€šä¿¡.</p><h4 id="å£°æ˜å¼å¯¼èˆª"><a href="#å£°æ˜å¼å¯¼èˆª" class="headerlink" title="å£°æ˜å¼å¯¼èˆª"></a>å£°æ˜å¼å¯¼èˆª</h4><p>åœ¨æ¨¡æ¿ä¸­é€šè¿‡<code>&lt;Link to=&quot;&quot;/&gt;</code>ç»„ä»¶æè¿°è¦è·³è½¬çš„è·¯ç”±.</p><p>å…¶ä¸­,<code>to=&#39;&#39;</code>å±æ€§æŒ‡å®šè¦è·³è½¬çš„è·¯ç”±path,ä¹Ÿå¯ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²æ‹¼æ¥.</p><h4 id="å‘½ä»¤å¼å¯¼èˆª"><a href="#å‘½ä»¤å¼å¯¼èˆª" class="headerlink" title="å‘½ä»¤å¼å¯¼èˆª"></a>å‘½ä»¤å¼å¯¼èˆª</h4><p>åœ¨æ¨¡æ¿ä¸­é€šè¿‡<code>useNavigate()</code>çš„hookså‡½æ•°ç»‘å®šåœ¨éœ€è¦çš„DOMäº‹ä»¶ä¸Š.</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">// ./page/login/index.jsx</span><br><br><br><span class="hljs-keyword">import</span> &#123;<span class="hljs-title class_">Link</span>,useNavigate&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">Login</span> = (<span class="hljs-params"></span>)=&gt;&#123;<br>    <span class="hljs-keyword">const</span> navigate = <span class="hljs-title function_">useNavigate</span>()<br>    <span class="hljs-keyword">return</span> (<br>        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        &#123;/* å£°æ˜å¼å†™æ³• è°ƒç”¨Linkç»„ä»¶ ç¼–è¯‘ä¸ºè¶…é“¾æ¥ */&#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/article&quot;</span>&gt;</span> è·³è½¬åˆ°æ–‡ç« é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span><br><span class="language-xml">        &#123;/* å‘½ä»¤å¼å†™æ³• è°ƒç”¨useNavigateçš„hookså‡½æ•° ç»‘å®šåœ¨DOMçš„äº‹ä»¶ä¸Š */&#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> navigate(&#x27;/article&#x27;)&#125;&gt;è·³è½¬åˆ°æ–‡ç« é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><br>    )<br>&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Login</span><br><br><br></code></pre></td></tr></table></figure><h3 id="è·¯ç”±å¯¼èˆªä¼ å‚"><a href="#è·¯ç”±å¯¼èˆªä¼ å‚" class="headerlink" title="è·¯ç”±å¯¼èˆªä¼ å‚"></a>è·¯ç”±å¯¼èˆªä¼ å‚</h3><h4 id="searchParamsä¼ å‚"><a href="#searchParamsä¼ å‚" class="headerlink" title="searchParamsä¼ å‚"></a>searchParamsä¼ å‚</h4><p><strong>æ ¼å¼:</strong><code>/router?id=111&amp;name=222</code></p><p>å–å‚å‡½æ•°:<code>useSearchParams()</code></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">// login.jsx</span><br>&lt;button onClick=&#123;<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">navigate</span>(<span class="hljs-string">&#x27;/article?id=1001&amp;name=jack&#x27;</span>)&#125;&gt;searchParamsä¼ å‚&lt;/button&gt;<br><br><span class="hljs-comment">//article.jsx</span><br><span class="hljs-keyword">const</span> [params] = <span class="hljs-title function_">useSearchParams</span>()<br>    <span class="hljs-keyword">const</span> id = params.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;id&#x27;</span>)<br>    <span class="hljs-keyword">const</span> name = params.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;name&#x27;</span>)<br></code></pre></td></tr></table></figure><h4 id="Paramsä¼ å‚"><a href="#Paramsä¼ å‚" class="headerlink" title="Paramsä¼ å‚"></a>Paramsä¼ å‚</h4><p><strong>æ ¼å¼:</strong><code>/router/:id/:name</code></p><p>å–å‚å‡½æ•°:<code>useParams()</code></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><br><span class="hljs-comment">// ./router/index.jsx</span><br><br><span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createBrowserRouter</span>([<br>&#123;<br>    <span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/article/:id/:name&#x27;</span>,<br>    <span class="hljs-attr">element</span>:<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Article</span>/&gt;</span></span>,<br>&#125;<br>])<br><br><span class="hljs-comment">//login.jsx</span><br><br>&lt;button onClick=&#123;<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">navigate</span>(<span class="hljs-string">&#x27;/article/1001/jack&#x27;</span>)&#125;&gt;<span class="hljs-title class_">Params</span>ä¼ å‚&lt;/button&gt;<br><br><br><span class="hljs-comment">//article.jsx</span><br><span class="hljs-keyword">const</span> params = <span class="hljs-title function_">useParams</span>()<br><span class="hljs-keyword">const</span> id = params.<span class="hljs-property">id</span><br><span class="hljs-keyword">const</span> name = params.<span class="hljs-property">name</span><br>    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æˆ‘æ˜¯æ–‡ç« &#123;id&#125;-&#123;name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&#125;<br><br><br><br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„:</strong> ä½¿ç”¨Paramsä¼ å‚æ—¶,éœ€è¦é¢„å…ˆåœ¨è·¯ç”±æ–‡ä»¶ä¸‹æŒ‡å®šå¥½åŒ¹é…çš„å¯¹è±¡å</p><h3 id="åµŒå¥—è·¯ç”±"><a href="#åµŒå¥—è·¯ç”±" class="headerlink" title="åµŒå¥—è·¯ç”±"></a>åµŒå¥—è·¯ç”±</h3><h4 id="ä»€ä¹ˆæ˜¯åµŒå¥—è·¯ç”±"><a href="#ä»€ä¹ˆæ˜¯åµŒå¥—è·¯ç”±" class="headerlink" title="ä»€ä¹ˆæ˜¯åµŒå¥—è·¯ç”±"></a>ä»€ä¹ˆæ˜¯åµŒå¥—è·¯ç”±</h4><p>åœ¨ä¸€çº§è·¯ç”±ä¸­åµŒå¥—å…¶ä»–è·¯ç”±,è¿™ç§å…³ç³»å«åšåµŒå¥—è·¯ç”±.åµŒå¥—è‡³ä¸€çº§è·¯ç”±å†…çš„è·¯ç”±ç§°ä½œäºŒçº§è·¯ç”±</p><h4 id="åµŒå¥—è·¯ç”±é…ç½®"><a href="#åµŒå¥—è·¯ç”±é…ç½®" class="headerlink" title="åµŒå¥—è·¯ç”±é…ç½®"></a>åµŒå¥—è·¯ç”±é…ç½®</h4><p><strong>å®ç°æ­¥éª¤</strong></p><ol><li><p>ä½¿ç”¨<code>children</code>å±æ€§</p></li><li><p>ä½¿ç”¨<code>&lt;Outlet/&gt;</code> ç»„ä»¶æ¸²æŸ“äºŒçº§è·¯ç”±æ¸²æŸ“ä½ç½®</p></li></ol><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><br><span class="hljs-comment">// ./router/index.jsx</span><br><span class="hljs-comment">// reactè·¯ç”±ç»„ä»¶æ³¨å†Œ</span><br><br><br><span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createBrowserRouter</span>([&#123;<br>    <span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/login&#x27;</span>,<br>    <span class="hljs-attr">element</span>:<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Login</span>/&gt;</span></span>,<br>&#125;,<br>&#123;<br>    <span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/article/:id&#x27;</span>,<br>    <span class="hljs-attr">element</span>:<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Article</span>/&gt;</span></span>,<br>&#125;,&#123;<br>    <span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/&#x27;</span>,<br>    <span class="hljs-attr">element</span>:<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Layout</span> /&gt;</span></span>,<br>    <span class="hljs-attr">children</span>:[<br>        &#123;<br>            <span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;board&#x27;</span>,<br>            <span class="hljs-attr">element</span>:<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Board</span>/&gt;</span></span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;about&#x27;</span>,<br>            <span class="hljs-attr">element</span>:<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">About</span> /&gt;</span></span><br>        &#125;<br>    ]<br>&#125;<br>])<br><br><span class="hljs-comment">// ./page/Layout/index.jsx</span><br><br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Link</span>, <span class="hljs-title class_">Outlet</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-router-dom&quot;</span><br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">Layout</span> = (<span class="hljs-params"></span>) =&gt;&#123;<br>    <span class="hljs-keyword">return</span>(<br>        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">            ç“¦å¡”è¥¿ä¸€çº§è·¯ç”±Layoutç»„ä»¶</span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/board&quot;</span>&gt;</span>é¢æ¿1<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/about&quot;</span>&gt;</span>å…³äº<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span><br><span class="language-xml">            &#123;/*  äºŒçº§è·¯ç”±å‡ºå£     */&#125;</span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">Outlet</span>/&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Layout</span><br></code></pre></td></tr></table></figure><h3 id="é»˜è®¤äºŒçº§è·¯ç”±"><a href="#é»˜è®¤äºŒçº§è·¯ç”±" class="headerlink" title="é»˜è®¤äºŒçº§è·¯ç”±"></a>é»˜è®¤äºŒçº§è·¯ç”±</h3><h4 id="é…ç½®æ–¹å¼"><a href="#é…ç½®æ–¹å¼" class="headerlink" title="é…ç½®æ–¹å¼"></a>é…ç½®æ–¹å¼</h4><p>åœ¨äºŒçº§è·¯ç”±çš„ä½ç½®å»æ‰<code>path</code>,è®¾ç½®<code>index</code>å±æ€§ä¸º<code>true</code></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">// ./router/index.jsx</span><br><br><br><span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createBrowserRouter</span>([&#123;<br>    <span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/login&#x27;</span>,<br>    <span class="hljs-attr">element</span>:<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Login</span>/&gt;</span></span>,<br>&#125;,<br>&#123;<br>    <span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/article/:id&#x27;</span>,<br>    <span class="hljs-attr">element</span>:<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Article</span>/&gt;</span></span>,<br>&#125;,&#123;<br>    <span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/&#x27;</span>,<br>    <span class="hljs-attr">element</span>:<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Layout</span> /&gt;</span></span>,<br>    <span class="hljs-attr">children</span>:[<br>        <span class="hljs-comment">// è®¾ç½®ä¸ºé»˜è®¤äºŒçº§è·¯ç”±</span><br>        &#123;<br>            <span class="hljs-attr">index</span>: <span class="hljs-literal">true</span>,<br>            <span class="hljs-attr">element</span>:<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Board</span>/&gt;</span></span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;about&#x27;</span>,<br>            <span class="hljs-attr">element</span>:<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">About</span> /&gt;</span></span><br>        &#125;<br>    ]<br>&#125;<br>])<br></code></pre></td></tr></table></figure><h3 id="404è·¯ç”±"><a href="#404è·¯ç”±" class="headerlink" title="404è·¯ç”±"></a>404è·¯ç”±</h3><p>åœºæ™¯:æ‰¾ä¸åˆ°å¯¹åº”pathæ—¶,æç¤º404é¡µé¢</p><p><strong>å®ç°æ­¥éª¤:</strong> </p><ol><li><p>å‡†å¤‡NotFoundç»„ä»¶</p></li><li><p>åœ¨è·¯ç”±è¡¨å°¾æ³¨å†Œ<code>*</code>ä¸ºpathçš„è·¯ç”±</p></li></ol><p>å½¢å¦‚:</p><p>&#96;{</p><p>Â  Â  path:â€™*â€™,</p><p>Â  Â  element:<NotFound/></p><p>}&#96;</p><h3 id="ä¸¤ç§è·¯ç”±æ¨¡å¼"><a href="#ä¸¤ç§è·¯ç”±æ¨¡å¼" class="headerlink" title="ä¸¤ç§è·¯ç”±æ¨¡å¼"></a>ä¸¤ç§è·¯ç”±æ¨¡å¼</h3><p>ä¸»æµæ¡†æ¶å¸¸è§çš„è·¯ç”±æ–¹å¼æœ‰ä¸¤ç§,<strong>historyæ¨¡å¼å’Œhashæ¨¡å¼</strong>.</p><p>åœ¨Reactä¸­åˆ†åˆ«ç”±<code>createBrowerRoute</code>å’Œ<code>createHsahRouter</code>å‡½æ•°è´Ÿè´£åˆ›å»º</p><table><thead><tr><th>è·¯ç”±æ¨¡å¼</th><th>urlè¡¨ç°</th><th>åº•å±‚åŸç†</th><th>æ˜¯å¦éœ€è¦åç«¯æ”¯æŒ</th></tr></thead><tbody><tr><td>history</td><td>url&#x2F;login</td><td>historyå¯¹è±¡+pushStateäº‹ä»¶</td><td>éœ€è¦</td></tr><tr><td>hash</td><td>url&#x2F;#&#x2F;login</td><td>ç›‘å¬hashChangeäº‹ä»¶</td><td>ä¸éœ€è¦</td></tr></tbody></table><h1 id="7-é¡¹ç›®å®æˆ˜-è®°è´¦æœ¬"><a href="#7-é¡¹ç›®å®æˆ˜-è®°è´¦æœ¬" class="headerlink" title="7.é¡¹ç›®å®æˆ˜-è®°è´¦æœ¬"></a>7.é¡¹ç›®å®æˆ˜-è®°è´¦æœ¬</h1><h2 id="é¡¹ç›®åˆå§‹åŒ–"><a href="#é¡¹ç›®åˆå§‹åŒ–" class="headerlink" title="é¡¹ç›®åˆå§‹åŒ–"></a>é¡¹ç›®åˆå§‹åŒ–</h2><h3 id="é¡¹ç›®ä¾èµ–å®‰è£…"><a href="#é¡¹ç›®ä¾èµ–å®‰è£…" class="headerlink" title="é¡¹ç›®ä¾èµ–å®‰è£…"></a>é¡¹ç›®ä¾èµ–å®‰è£…</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs npmignore">npm create vite@latest<br>...<br>npm i react-router-dom dayjs classnames antd-mobile axios<br></code></pre></td></tr></table></figure><h3 id="gitæäº¤"><a href="#gitæäº¤" class="headerlink" title="gitæäº¤"></a>gitæäº¤</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs git">git init<br>// ä»“åº“åˆå§‹åŒ–<br>git add .<br>// ä»“åº“æ›´æ–°<br>git commit -m &quot;&quot;<br>// ä»“åº“æäº¤ -måè·Ÿæäº¤å†…å®¹çš„å¤‡æ³¨<br></code></pre></td></tr></table></figure><h3 id="Viteå®ç°é…ç½®åˆ«åè·¯å¾„"><a href="#Viteå®ç°é…ç½®åˆ«åè·¯å¾„" class="headerlink" title="Viteå®ç°é…ç½®åˆ«åè·¯å¾„"></a>Viteå®ç°é…ç½®åˆ«åè·¯å¾„</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; defineConfig &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vite&#x27;</span><br><span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;path&#x27;</span><br><span class="hljs-keyword">import</span> react <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@vitejs/plugin-react&#x27;</span><br><br><span class="hljs-comment">// https://vite.dev/config/</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>(&#123;<br>  <span class="hljs-attr">plugins</span>: [<span class="hljs-title function_">react</span>()],<br>  <span class="hljs-attr">resolve</span>:&#123;<br>    <span class="hljs-attr">alias</span>:&#123;<br>      <span class="hljs-comment">// eslint-disable-next-line no-undef</span><br>      <span class="hljs-string">&#x27;@&#x27;</span>: path.<span class="hljs-title function_">resolve</span>(__dirname,<span class="hljs-string">&#x27;src&#x27;</span>),<br>    &#125;,<br>  &#125;,<br>&#125;)<br><br></code></pre></td></tr></table></figure><h3 id="VS-Codeé…ç½®åˆ«åè·¯å¾„é«˜äº®"><a href="#VS-Codeé…ç½®åˆ«åè·¯å¾„é«˜äº®" class="headerlink" title="VS Codeé…ç½®åˆ«åè·¯å¾„é«˜äº®"></a>VS Codeé…ç½®åˆ«åè·¯å¾„é«˜äº®</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-comment">// ./jsconfig.json</span><br><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;compilerOptions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;target&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ES6&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;jsx&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;react&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-comment">// åŸºç¡€ç›®å½•ä½œä¸ºé¡¹ç›®æ ¹ç›®å½•, è¿™åº”è¯¥æŒ‡å‘åŒ…å« `src` ç›®å½•çš„è·¯å¾„</span><br>      <span class="hljs-attr">&quot;baseUrl&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;./&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;paths&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-comment">// @ ä½œä¸º srcç›®å½•åˆ«å</span><br>        <span class="hljs-attr">&quot;@/*&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;src/*&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// VS Code å°† `@` è§£æä¸º `src` ç›®å½•</span><br><br>      <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;exclude&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;node_modules&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;dist&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// &quot;...å…¶ä»–è¦æ’é™¤çš„ç›®å½•&quot;</span><br>    <span class="hljs-attr">&quot;include&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;src/**/*&quot;</span><span class="hljs-punctuation">]</span><br>  <span class="hljs-punctuation">&#125;</span><br><br></code></pre></td></tr></table></figure><h3 id="æ•°æ®Mock"><a href="#æ•°æ®Mock" class="headerlink" title="æ•°æ®Mock"></a>æ•°æ®Mock</h3><p>æ•°æ®Mockæ˜¯æŒ‡é€šè¿‡æ¨¡æ‹ŸçœŸå®æ•°æ®æ¥æµ‹è¯•ç³»ç»ŸåŠŸèƒ½ï¼Œç¡®ä¿ç³»ç»Ÿåœ¨æ— çœŸå®æ•°æ®æˆ–æ— æ³•è·å–çœŸå®æ•°æ®æ—¶ä»èƒ½æ­£å¸¸è¿è¡Œã€‚Mockæ•°æ®é€šå¸¸ç”¨äºå¼€å‘ã€æµ‹è¯•å’Œæ¼”ç¤ºï¼Œå¸®åŠ©å¼€å‘è€…åœ¨æ—©æœŸé˜¶æ®µéªŒè¯é€»è¾‘å’Œæ¥å£ã€‚</p><h4 id="åœ¨å‰ç«¯å¼€å‘ä¸­å¸¸è§çš„æ•°æ®Mockç§ç±»"><a href="#åœ¨å‰ç«¯å¼€å‘ä¸­å¸¸è§çš„æ•°æ®Mockç§ç±»" class="headerlink" title="åœ¨å‰ç«¯å¼€å‘ä¸­å¸¸è§çš„æ•°æ®Mockç§ç±»"></a>åœ¨å‰ç«¯å¼€å‘ä¸­å¸¸è§çš„æ•°æ®Mockç§ç±»</h4><ol><li><p><strong>é™æ€Mockæ•°æ®</strong>ï¼š</p><ul><li><p>é¢„å…ˆå®šä¹‰å¥½çš„å›ºå®šæ•°æ®ï¼Œé€šå¸¸å­˜å‚¨åœ¨JSONã€XMLæˆ–CSVæ–‡ä»¶ä¸­ã€‚</p></li><li><p>é€‚ç”¨äºç®€å•çš„æµ‹è¯•åœºæ™¯ã€‚</p></li></ul></li><li><p><strong>åŠ¨æ€Mockæ•°æ®</strong>ï¼š</p><ul><li><p>åœ¨è¿è¡Œæ—¶ç”Ÿæˆçš„æ•°æ®ï¼Œæ¨¡æ‹ŸçœŸå®æ•°æ®çš„åŠ¨æ€å˜åŒ–ã€‚</p></li><li><p>é€‚ç”¨äºå¤æ‚åœºæ™¯ï¼Œå¦‚æ¨¡æ‹Ÿç”¨æˆ·è¡Œä¸ºæˆ–å®æ—¶æ•°æ®æµã€‚</p></li></ul></li><li><p><strong>æ¥å£Mock</strong>ï¼š</p><ul><li><p>æ¨¡æ‹ŸAPIæ¥å£çš„å“åº”ï¼Œç”¨äºæµ‹è¯•APIè°ƒç”¨ã€‚</p></li><li><p>é€‚ç”¨äºå‰åç«¯åˆ†ç¦»å¼€å‘æˆ–ç¬¬ä¸‰æ–¹APIä¸å¯ç”¨æ—¶çš„æµ‹è¯•ã€‚</p></li></ul></li></ol><h4 id="åœ¨å‰ç«¯å¼€å‘ä¸­å¸¸è§çš„Mockå·¥å…·"><a href="#åœ¨å‰ç«¯å¼€å‘ä¸­å¸¸è§çš„Mockå·¥å…·" class="headerlink" title="åœ¨å‰ç«¯å¼€å‘ä¸­å¸¸è§çš„Mockå·¥å…·"></a>åœ¨å‰ç«¯å¼€å‘ä¸­å¸¸è§çš„Mockå·¥å…·</h4><ol><li><p><strong>é™æ€Mockæ•°æ®å·¥å…·</strong>ï¼š</p><ul><li><p><strong>JSON Server</strong>ï¼šåŸºäºJSONæ–‡ä»¶çš„REST APIæ¨¡æ‹Ÿå·¥å…·ï¼Œå¯ä»¥å¿«é€Ÿæ­å»ºä¸€ä¸ªæœ¬åœ°çš„MockæœåŠ¡å™¨ã€‚</p></li><li><p><strong>Faker.js</strong>ï¼šç”Ÿæˆè™šå‡æ•°æ®çš„JavaScriptåº“ï¼Œå¯ä»¥ç”Ÿæˆå„ç§ç±»å‹çš„è™šå‡æ•°æ®ï¼Œå¦‚å§“åã€åœ°å€ã€ç”µè¯å·ç ç­‰ã€‚</p></li></ul></li><li><p><strong>åŠ¨æ€Mockæ•°æ®å·¥å…·</strong>ï¼š</p><ul><li><p><strong>Mock.js</strong>ï¼šç”Ÿæˆéšæœºæ•°æ®çš„JavaScriptåº“ï¼Œæ”¯æŒç”Ÿæˆå„ç§ç±»å‹çš„éšæœºæ•°æ®ï¼Œå¹¶ä¸”å¯ä»¥å®šä¹‰æ•°æ®æ¨¡æ¿ã€‚</p></li><li><p><strong>Faker</strong>ï¼ˆPythonï¼‰ï¼šç”Ÿæˆè™šå‡æ•°æ®çš„Pythonåº“ï¼Œé€‚ç”¨äºéœ€è¦åœ¨Pythonç¯å¢ƒä¸­ç”ŸæˆMockæ•°æ®çš„åœºæ™¯ã€‚</p></li></ul></li><li><p><strong>æ¥å£Mockå·¥å…·</strong>ï¼š</p><ul><li><p><strong>Postman Mock Server</strong>ï¼šPostmanæä¾›çš„APIæ¨¡æ‹ŸæœåŠ¡ï¼Œå¯ä»¥å¿«é€Ÿåˆ›å»ºMockæœåŠ¡å™¨å¹¶å®šä¹‰APIå“åº”ã€‚</p></li><li><p><strong>WireMock</strong>ï¼šç”¨äºHTTP APIçš„æ¨¡æ‹Ÿå·¥å…·ï¼Œæ”¯æŒJavaï¼Œé€‚ç”¨äºéœ€è¦åœ¨Javaç¯å¢ƒä¸­è¿›è¡ŒAPI Mockçš„åœºæ™¯ã€‚</p></li></ul></li></ol><h4 id="é…ç½®json-server"><a href="#é…ç½®json-server" class="headerlink" title="é…ç½®json-server"></a>é…ç½®json-server</h4><ol><li><p><strong>åœ¨é¡¹ç›®ä¸­å®‰è£…json-server</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs npmignore">npm i -D json-server<br></code></pre></td></tr></table></figure></li><li><p>å‡†å¤‡jsonæ–‡ä»¶</p></li><li><p>æ·»åŠ å¯åŠ¨å‘½ä»¤</p></li><li><p>è®¿é—®æ¥å£å¹¶è°ƒè¯•</p></li></ol><h3 id="æ•´ä½“è·¯ç”±è®¾è®¡"><a href="#æ•´ä½“è·¯ç”±è®¾è®¡" class="headerlink" title="æ•´ä½“è·¯ç”±è®¾è®¡"></a>æ•´ä½“è·¯ç”±è®¾è®¡</h3><p><a href="https://imgse.com/i/pEnJsw4"><img src="https://s21.ax1x.com/2025/02/10/pEnJsw4.png" alt="pEnJsw4.png"></a></p><ol><li><p>2ä¸ªä¸€çº§è·¯ç”±(Layout&#x2F;New)</p></li><li><p>2ä¸ªäºŒçº§è·¯ç”±(Layout-month&#x2F;year)</p></li></ol><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">// @/router/index.jsx</span><br><span class="hljs-comment">// åˆ›å»ºè·¯ç”±å®ä¾‹</span><br><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Layout</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/pages/Layout/index&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Month</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/pages/Month/index&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">New</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/pages/New/index&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Year</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/pages/Year/index&#x27;</span><br><span class="hljs-keyword">import</span> &#123;createBrowserRouter&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span><br><br><span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createBrowserRouter</span>([&#123;<br>    <span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/&#x27;</span>,<br>    <span class="hljs-attr">element</span>:<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Layout</span>/&gt;</span></span>,<br>    <span class="hljs-attr">children</span>:[<br>        &#123;<br>            <span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;month&#x27;</span>,<br>            <span class="hljs-attr">element</span>:<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Month</span>/&gt;</span></span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;year&#x27;</span>,<br>            <span class="hljs-attr">element</span>:<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Year</span>/&gt;</span></span><br>        &#125;<br>    ]<br>&#125;,&#123;<br>    <span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/new&#x27;</span>,<br>    <span class="hljs-attr">element</span>:<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">New</span>/&gt;</span></span><br>&#125;<br>])<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router<br><br><br></code></pre></td></tr></table></figure><h3 id="antD-mobileä¸»é¢˜å®šåˆ¶"><a href="#antD-mobileä¸»é¢˜å®šåˆ¶" class="headerlink" title="antD-mobileä¸»é¢˜å®šåˆ¶"></a>antD-mobileä¸»é¢˜å®šåˆ¶</h3><p><strong>å®šåˆ¶æ–¹æ¡ˆ:</strong></p><ol><li><p>å…¨å±€å®šåˆ¶</p></li><li><p>å±€éƒ¨å®šåˆ¶</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;div className=<span class="hljs-string">&quot;purple-theme&quot;</span>&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">color</span>=<span class="hljs-string">&quot;primary&quot;</span>&gt;</span>å±€éƒ¨æµ‹è¯•<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span></span><br>&lt;/div&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">color</span>=<span class="hljs-string">&quot;primary&quot;</span>&gt;</span>æµ‹è¯•<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span></span><br></code></pre></td></tr></table></figure></li></ol><h1 id="Zustand"><a href="#Zustand" class="headerlink" title="Zustand"></a>Zustand</h1><h2 id="Zustandå¿«é€Ÿä¸Šæ‰‹"><a href="#Zustandå¿«é€Ÿä¸Šæ‰‹" class="headerlink" title="Zustandå¿«é€Ÿä¸Šæ‰‹"></a>Zustandå¿«é€Ÿä¸Šæ‰‹</h2><h3 id="åˆ›å»ºstore"><a href="#åˆ›å»ºstore" class="headerlink" title="åˆ›å»ºstore"></a>åˆ›å»ºstore</h3><p><strong>è¯­æ³•ï¼š</strong> <code>const useStore = create((set)=&gt;&#123;return&#123;...&#125;)</code></p><h3 id="åˆ›å»ºçŠ¶æ€æ–¹æ³•ï¼š"><a href="#åˆ›å»ºçŠ¶æ€æ–¹æ³•ï¼š" class="headerlink" title="åˆ›å»ºçŠ¶æ€æ–¹æ³•ï¼š"></a>åˆ›å»ºçŠ¶æ€æ–¹æ³•ï¼š</h3><p><strong>è¯­æ³•ï¼š</strong><code>action:()=&gt;&#123;set((state)=&gt;(&#123;count:state.count + 1&#125;))&#125;</code></p><p><strong>æ³¨æ„ï¼š</strong></p><ol><li><p>å‡½æ•°å‚æ•°å¿…é¡»è¿”å›ä¸€ä¸ªå¯¹è±¡ å¯¹è±¡å†…éƒ¨ç¼–å†™çŠ¶æ€æ•°æ®å’Œæ–¹æ³•</p></li><li><p>setæ˜¯ç”¨æ¥ä¿®æ”¹æ•°æ®çš„ä¸“é—¨æ–¹æ³•ï¼Œå¿…é¡»è°ƒç”¨å®ƒæ¥ä¿®æ”¹æ•°æ®<br>è¯­æ³•1ï¼šå‚æ•°æ˜¯å‡½æ•° éœ€è¦ä½¿ç”¨è€æ•°æ® éœ€è¦ç”¨ç®­å¤´å‡½æ•°çš„å—å†…æ“ä½œ<br><code>set((state)=&gt;(&#123;count:state.count + 1&#125;))</code><br>è¯­æ³•2ï¼šå‚æ•°ç›´æ¥æ˜¯ä¸€ä¸ªå¯¹è±¡<br><code>set(&#123;count:100&#125;)</code></p></li></ol><h3 id="zustand-å¼‚æ­¥æ”¯æŒ"><a href="#zustand-å¼‚æ­¥æ”¯æŒ" class="headerlink" title="zustand-å¼‚æ­¥æ”¯æŒ"></a>zustand-å¼‚æ­¥æ”¯æŒ</h3><p>å¯¹äºå¼‚æ­¥çš„æ”¯æŒä¸éœ€è¦ç‰¹æ®Šçš„æ“ä½œ,ç›´æ¥åœ¨å‡½æ•°ä¸­ç¼–å†™å¼‚æ­¥é€»è¾‘,æœ€åè°ƒç”¨setæ–¹æ³•ä¼ å…¥æ–°çŠ¶æ€å³å¯,è®°å¾—è§£æ„å¹¶åœ¨ä¸»å‡½æ•°ä¸­ä½¿ç”¨useEffectè°ƒèµ·è¯¥å¼‚æ­¥æ–¹æ³•</p><h3 id="zustand-åˆ‡ç‰‡æ¨¡å¼"><a href="#zustand-åˆ‡ç‰‡æ¨¡å¼" class="headerlink" title="zustand-åˆ‡ç‰‡æ¨¡å¼"></a>zustand-åˆ‡ç‰‡æ¨¡å¼</h3><p>å½“å•ä¸ªstoreè¾ƒå¤§æ—¶,å¯ä»¥é‡‡ç”¨<strong>åˆ‡ç‰‡æ¨¡å¼</strong>ç»„åˆå„ä¸ªæ¨¡å—</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">createCounterStore</span> = (<span class="hljs-params">set</span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> &#123;<br>    <span class="hljs-comment">// çŠ¶æ€æ•°æ®</span><br>    <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,<br>    <span class="hljs-comment">// ä¿®æ”¹çŠ¶æ€æ•°æ®çš„æ–¹æ³•</span><br>    <span class="hljs-attr">inc</span>: <span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-title function_">set</span>(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> (&#123; <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> + <span class="hljs-number">1</span> &#125;))<br>    &#125;,<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">createChannelStore</span> = (<span class="hljs-params">set</span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> &#123;<br>    <span class="hljs-attr">channelList</span>: [],<br>    <span class="hljs-attr">fetchGetList</span>: <span class="hljs-title function_">async</span> () =&gt; &#123;<br>      <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-variable constant_">URL</span>)<br>      <span class="hljs-keyword">const</span> jsonRes = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>()<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(jsonRes)<br>      <span class="hljs-title function_">set</span>(&#123;<br>        <span class="hljs-attr">channelList</span>: jsonRes.<span class="hljs-property">data</span>.<span class="hljs-property">channels</span><br>      &#125;)<br>    &#125;<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> useStore = <span class="hljs-title function_">create</span>(<span class="hljs-function">(<span class="hljs-params">...a</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">return</span> &#123;<br>    ...<span class="hljs-title function_">createCounterStore</span>(...a),<br>    ...<span class="hljs-title function_">createChannelStore</span>(...a)<br>  &#125;<br>&#125;)<br><br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span> (<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-comment">// 2. ç»„ä»¶ä½¿ç”¨</span><br>  <span class="hljs-keyword">const</span> &#123; count, inc, fetchGetList, channelList &#125; = <span class="hljs-title function_">useStore</span>()<br>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-title function_">fetchGetList</span>()<br>  &#125;, [fetchGetList])<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;inc&#125;</span>&gt;</span>&#123;count&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">        &#123;</span><br><span class="language-xml">          channelList.map(item =&gt; <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;item.id&#125;</span>&gt;</span>&#123;item.name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>)</span><br><span class="language-xml">        &#125;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  )<br>&#125;<br><br></code></pre></td></tr></table></figure><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><br><br><span class="hljs-keyword">import</span> &#123;create&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;zustand&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./App.css&#x27;</span><br><span class="hljs-comment">// åˆ›å»ºstore</span><br><span class="hljs-keyword">const</span> useStore = <span class="hljs-title function_">create</span>(<span class="hljs-function">(<span class="hljs-params">set</span>)=&gt;</span>&#123;<br>  <span class="hljs-keyword">return</span> &#123;<br>    <span class="hljs-attr">count</span>:<span class="hljs-number">0</span>,<br>    <span class="hljs-attr">inc</span>:<span class="hljs-function">() =&gt;</span>&#123;<br>      <span class="hljs-title function_">set</span>(<span class="hljs-function">(<span class="hljs-params">state</span>)=&gt;</span>(&#123;<br>        <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> + <span class="hljs-number">1</span><br>      &#125;))<br>    &#125;<br>  &#125;<br>&#125;)<br><br><br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br><br>  <span class="hljs-keyword">const</span> &#123;count,inc&#125; = <span class="hljs-title function_">useStore</span>()<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">     This is app.</span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;inc&#125;</span>&gt;</span>&#123;count&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  )<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="React-TS"><a href="#React-TS" class="headerlink" title="React+TS"></a>React+TS</h1><h2 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h2><h3 id="ä½¿ç”¨Viteåˆ›å»ºTSçš„Reacté¡¹ç›®"><a href="#ä½¿ç”¨Viteåˆ›å»ºTSçš„Reacté¡¹ç›®" class="headerlink" title="ä½¿ç”¨Viteåˆ›å»ºTSçš„Reacté¡¹ç›®"></a>ä½¿ç”¨Viteåˆ›å»ºTSçš„Reacté¡¹ç›®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm create vite@latest my-vue-app -- --template react-ts<br>npm install<br>npm run dev<br></code></pre></td></tr></table></figure><h2 id="useStateä¸TS"><a href="#useStateä¸TS" class="headerlink" title="useStateä¸TS"></a>useStateä¸TS</h2><h3 id="useState-è‡ªåŠ¨æ¨å¯¼"><a href="#useState-è‡ªåŠ¨æ¨å¯¼" class="headerlink" title="useState-è‡ªåŠ¨æ¨å¯¼"></a>useState-è‡ªåŠ¨æ¨å¯¼</h3><p>é€šå¸¸Reactä¼šæ ¹æ®ä¼ å…¥çš„useStateçš„é»˜è®¤å€¼æ¥è‡ªåŠ¨æ¨å¯¼ç±»å‹ï¼Œå¹¶ä¸éœ€è¦æ˜¾å¼æ ‡æ³¨ç±»å‹</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><br><span class="hljs-keyword">const</span> [value,toogle] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>)<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">changeValue</span> = (<span class="hljs-params"></span>) =&gt;&#123;<br>    <span class="hljs-title function_">toogle</span>(<span class="hljs-literal">true</span>)<br>  &#125;<br></code></pre></td></tr></table></figure><h3 id="useState-ä¼ é€’æ³›å‹å‚æ•°"><a href="#useState-ä¼ é€’æ³›å‹å‚æ•°" class="headerlink" title="useState- ä¼ é€’æ³›å‹å‚æ•°"></a>useState- ä¼ é€’æ³›å‹å‚æ•°</h3><p>useStateæœ¬èº«æ˜¯ä¸€ä¸ªæ³›å‹å‡½æ•°ï¼Œå¯ä»¥ä¼ å…¥å…·ä½“çš„è‡ªå®šä¹‰ç±»å‹ã€‚</p><blockquote><p><strong>å…³äºæ³›å‹çš„å«ä¹‰ï¼š</strong> <a href="https://typescript.p6p.net/typescript-tutorial/generics.html">TypeScript æ³›å‹</a></p><p><a href="https://www.runoob.com/typescript/ts-generics.html">TypeScript æ³›å‹ | èœé¸Ÿæ•™ç¨‹</a></p><p><strong>ç®€å•æ¥è¯´ï¼š</strong> æ³›å‹ï¼ˆGenericsï¼‰æ˜¯ä¸€ç§ç¼–ç¨‹è¯­è¨€ç‰¹æ€§ï¼Œå…è®¸åœ¨å®šä¹‰å‡½æ•°ã€ç±»ã€æ¥å£ç­‰æ—¶ä½¿ç”¨å ä½ç¬¦æ¥è¡¨ç¤ºç±»å‹ï¼Œè€Œä¸æ˜¯å…·ä½“çš„ç±»å‹ã€‚</p><p><strong>æ³›å‹å‡½æ•°:</strong></p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-keyword">function</span> identity&lt;T&gt;(<span class="hljs-attr">arg</span>: T): T &#123;<br>    <span class="hljs-keyword">return</span> arg;<br>&#125;<br><br><span class="hljs-comment">// ä½¿ç”¨æ³›å‹å‡½æ•°</span><br><span class="hljs-keyword">let</span> result = identity&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">&quot;Hello&quot;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result); <span class="hljs-comment">// è¾“å‡º: Hello</span><br><br><span class="hljs-keyword">let</span> numberResult = identity&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-number">42</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(numberResult); <span class="hljs-comment">// è¾“å‡º: 42</span><br></code></pre></td></tr></table></figure><p><strong>æ³›å‹æ¥å£:</strong></p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-comment">// åŸºæœ¬è¯­æ³•</span><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Pair</span>&lt;T, U&gt; &#123;<br>    <span class="hljs-attr">first</span>: T;<br>    <span class="hljs-attr">second</span>: U;<br>&#125;<br><br><span class="hljs-comment">// ä½¿ç”¨æ³›å‹æ¥å£</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">pair</span>: <span class="hljs-title class_">Pair</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>&gt; = &#123; <span class="hljs-attr">first</span>: <span class="hljs-string">&quot;hello&quot;</span>, <span class="hljs-attr">second</span>: <span class="hljs-number">42</span> &#125;;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(pair); <span class="hljs-comment">// è¾“å‡º: &#123; first: &#x27;hello&#x27;, second: 42 &#125;</span><br></code></pre></td></tr></table></figure><p><strong>æ³›å‹ç±»:</strong></p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-comment">// åŸºæœ¬è¯­æ³•</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Box</span>&lt;T&gt; &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-attr">value</span>: T;<br><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-attr">value</span>: T</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = value;<br>    &#125;<br><br>    <span class="hljs-title function_">getValue</span>(): T &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// ä½¿ç”¨æ³›å‹ç±»</span><br><span class="hljs-keyword">let</span> stringBox = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Box</span>&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">&quot;TypeScript&quot;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(stringBox.<span class="hljs-title function_">getValue</span>()); <span class="hljs-comment">// è¾“å‡º: TypeScript</span><br></code></pre></td></tr></table></figure></blockquote><p><strong>è¯´æ˜:</strong></p><ol><li><p>é™åˆ¶useStateå‡½æ•°å‚æ•°çš„åˆå§‹å€¼ç±»å‹å¿…é¡»æ»¡è¶³<code>User | () =&gt; User</code></p></li><li><p>é™åˆ¶setUserå‡½æ•°çš„å‚æ•°å¿…é¡»æ»¡è¶³ç±»å‹ä¸º<code>User | () =&gt; User | undefined</code></p></li><li><p>UserçŠ¶æ€æ•°æ®å¿…é¡»å…·å¤‡Userç±»å‹ç›¸å…³çš„ç±»å‹æç¤º</p></li><li><p>è‹¥ä¸çŸ¥é“çŠ¶æ€å˜é‡çš„åˆå§‹å€¼ï¼Œå¯è®¾ç½®ä¸ºnull</p></li></ol><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">User</span> = &#123;<br>    <span class="hljs-attr">name</span>:<span class="hljs-title class_">String</span><br>    <span class="hljs-attr">age</span>:<span class="hljs-built_in">number</span><br>  &#125;<br><br>  <span class="hljs-keyword">const</span> [user,setUser] = useState&lt;<span class="hljs-title class_">User</span>&gt;(<br>    &#123;<br>      <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;Jack&#x27;</span>,<br>      <span class="hljs-attr">age</span>:<span class="hljs-number">12</span><br>    &#125;<br>  )<br>  <span class="hljs-keyword">const</span> [users,setUsers] = useState&lt;<span class="hljs-title class_">User</span>| <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>)<br><br><br></code></pre></td></tr></table></figure><h2 id="propsä¸TypeScript"><a href="#propsä¸TypeScript" class="headerlink" title="propsä¸TypeScript"></a>propsä¸TypeScript</h2><h3 id="props-åŸºç¡€ä½¿ç”¨"><a href="#props-åŸºç¡€ä½¿ç”¨" class="headerlink" title="props - åŸºç¡€ä½¿ç”¨"></a>props - åŸºç¡€ä½¿ç”¨</h3><p>ä¸ºç»„ä»¶propæ·»åŠ ç±»å‹ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸ªå‡½æ•°çš„å‚æ•°åš<strong>ç±»å‹æ³¨è§£</strong>ï¼Œå¯ä»¥ä½¿ç”¨<strong>type</strong>å¯¹è±¡ç±»å‹æˆ–è€…<strong>interface</strong>æ¥å£æ¥åšæ³¨è§£</p><blockquote><p><strong>å…³äºinterfaceæ¥å£ï¼š</strong></p><p><a href="https://www.runoob.com/typescript/ts-interface.html">TypeScript æ¥å£ | èœé¸Ÿæ•™ç¨‹</a></p><p><a href="https://typescript.p6p.net/typescript-tutorial/interface.html">TypeScript çš„ interface æ¥å£ </a></p><p>interface æ˜¯å¯¹è±¡çš„æ¨¡æ¿ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§ç±»å‹çº¦å®šï¼Œä¸­æ–‡è¯‘ä¸ºâ€œæ¥å£â€ã€‚ä½¿ç”¨äº†æŸä¸ªæ¨¡æ¿çš„å¯¹è±¡ï¼Œå°±æ‹¥æœ‰äº†æŒ‡å®šçš„ç±»å‹ç»“æ„ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Person</span> &#123;<br>  <span class="hljs-attr">firstName</span>: <span class="hljs-built_in">string</span>;<br>  <span class="hljs-attr">lastName</span>: <span class="hljs-built_in">string</span>;<br>  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>å…³äºtypeç±»å‹ï¼š</strong></p><p><a href="https://typescript.p6p.net/typescript-tutorial/types.html">TypeScript çš„ç±»å‹ç³»ç»Ÿ</a></p><p><code>type</code>å‘½ä»¤ç”¨æ¥å®šä¹‰ä¸€ä¸ªç±»å‹çš„åˆ«åã€‚åˆ«åå¯ä»¥è®©ç±»å‹çš„åå­—å˜å¾—æ›´æœ‰æ„ä¹‰ï¼Œä¹Ÿèƒ½å¢åŠ ä»£ç çš„å¯è¯»æ€§ï¼Œè¿˜å¯ä»¥ä½¿å¤æ‚ç±»å‹ç”¨èµ·æ¥æ›´æ–¹ä¾¿ï¼Œä¾¿äºä»¥åä¿®æ”¹å˜é‡çš„ç±»å‹ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Age</span> = <span class="hljs-built_in">number</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">age</span>: <span class="hljs-title class_">Age</span> = <span class="hljs-number">55</span>;<br></code></pre></td></tr></table></figure><p> ä¸»è¦åŒºåˆ«å¦‚ä¸‹ï¼š</p><hr><h3 id="1-å£°æ˜åˆå¹¶ï¼ˆDeclaration-Mergingï¼‰"><a href="#1-å£°æ˜åˆå¹¶ï¼ˆDeclaration-Mergingï¼‰" class="headerlink" title="1. å£°æ˜åˆå¹¶ï¼ˆDeclaration Mergingï¼‰"></a>1. <strong>å£°æ˜åˆå¹¶ï¼ˆDeclaration Mergingï¼‰</strong></h3><ul><li><p><strong><code>interface</code></strong>ï¼šæ”¯æŒå£°æ˜åˆå¹¶ã€‚åŒä¸€ä¸ªåç§°çš„å¤šä¸ª <code>interface</code> ä¼šè‡ªåŠ¨åˆå¹¶ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> &#123; <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>; &#125;<br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> &#123; <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>; &#125;<br><span class="hljs-comment">// åˆå¹¶ä¸º &#123; name: string; age: number; &#125;</span><br></code></pre></td></tr></table></figure></li><li><p><strong><code>type</code></strong>ï¼šä¸æ”¯æŒå£°æ˜åˆå¹¶ã€‚åŒå <code>type</code> ä¼šæŠ¥é”™ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">User</span> = &#123; <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>; &#125;;  <br><span class="hljs-keyword">type</span> <span class="hljs-title class_">User</span> = &#123; <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>; &#125;; <span class="hljs-comment">// Error: Duplicate identifier &#x27;User&#x27;.</span><br></code></pre></td></tr></table></figure></li></ul><hr><h3 id="2-æ‰©å±•æ–¹å¼"><a href="#2-æ‰©å±•æ–¹å¼" class="headerlink" title="2. æ‰©å±•æ–¹å¼"></a>2. <strong>æ‰©å±•æ–¹å¼</strong></h3><ul><li><p><strong><code>interface</code></strong>ï¼šç”¨ <code>extends</code> ç»§æ‰¿å…¶ä»–æ¥å£æˆ–å¯¹è±¡ç±»å‹ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">interface</span> A &#123; <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>; &#125;<br><span class="hljs-keyword">interface</span> B <span class="hljs-keyword">extends</span> A &#123; <span class="hljs-attr">y</span>: <span class="hljs-built_in">string</span>; &#125;<br></code></pre></td></tr></table></figure></li><li><p><strong><code>type</code></strong>ï¼šç”¨ <code>&amp;</code> äº¤å‰ç±»å‹æ‰©å±•ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">type</span> A = &#123; <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>; &#125;;<br><span class="hljs-keyword">type</span> B = A &amp; &#123; <span class="hljs-attr">y</span>: <span class="hljs-built_in">string</span>; &#125;;<br></code></pre></td></tr></table></figure></li></ul><hr><h3 id="3-çµæ´»æ€§"><a href="#3-çµæ´»æ€§" class="headerlink" title="3. çµæ´»æ€§"></a>3. <strong>çµæ´»æ€§</strong></h3><ul><li><p><strong><code>interface</code></strong>ï¼šåªèƒ½å®šä¹‰å¯¹è±¡ç±»å‹ï¼ˆåŒ…æ‹¬å‡½æ•°ã€ç±»ç­‰ï¼‰ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> &#123; <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>; &#125;<br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Func</span> &#123; (<span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span>; &#125;<br></code></pre></td></tr></table></figure></li><li><p><strong><code>type</code></strong>ï¼šå¯ä»¥å®šä¹‰ä»»æ„ç±»å‹ï¼ŒåŒ…æ‹¬åŸå§‹ç±»å‹ã€è”åˆç±»å‹ã€å…ƒç»„ç­‰ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Name</span> = <span class="hljs-built_in">string</span>; <span class="hljs-comment">// åŸå§‹ç±»å‹</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Value</span> = <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>; <span class="hljs-comment">// è”åˆç±»å‹</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Point</span> = [<span class="hljs-built_in">number</span>, <span class="hljs-built_in">number</span>]; <span class="hljs-comment">// å…ƒç»„</span><br></code></pre></td></tr></table></figure></li></ul><hr><h3 id="4-æ€§èƒ½ä¸å·¥å…·æç¤º"><a href="#4-æ€§èƒ½ä¸å·¥å…·æç¤º" class="headerlink" title="4. æ€§èƒ½ä¸å·¥å…·æç¤º"></a>4. <strong>æ€§èƒ½ä¸å·¥å…·æç¤º</strong></h3><ul><li><strong>å·¥å…·æç¤ºï¼ˆIntelliSenseï¼‰</strong>ï¼š<br><code>interface</code> åœ¨ VS Code ç­‰å·¥å…·ä¸­çš„æç¤ºæ›´æ¸…æ™°ï¼ˆæ˜¾ç¤ºä¸º <code>interface</code>ï¼‰ï¼Œè€Œ <code>type</code> ä¼šç›´æ¥å±•å¼€å…·ä½“ç±»å‹ã€‚</li><li><strong>æ€§èƒ½</strong>ï¼š<br>å¯¹äºå¤æ‚ç±»å‹ï¼Œ<code>interface</code> çš„æ£€æŸ¥å¯èƒ½ç•¥å¿«ï¼ˆä½†å®é™…å·®å¼‚å¾ˆå°ï¼‰ã€‚</li></ul><hr><h3 id="5-ç±»å®ç°ï¼ˆimplementsï¼‰"><a href="#5-ç±»å®ç°ï¼ˆimplementsï¼‰" class="headerlink" title="5. ç±»å®ç°ï¼ˆimplementsï¼‰"></a>5. <strong>ç±»å®ç°ï¼ˆ<code>implements</code>ï¼‰</strong></h3><ul><li><p><strong><code>interface</code></strong>ï¼šå¯ä»¥è¢«ç±»ç›´æ¥ <code>implements</code>ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">IUser</span> &#123; <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>; &#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">IUser</span> &#123; <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>; &#125;<br></code></pre></td></tr></table></figure></li><li><p><strong><code>type</code></strong>ï¼šå¦‚æœ <code>type</code> æ˜¯å¯¹è±¡ç±»å‹ï¼Œç±»ä¹Ÿå¯ä»¥å®ç°å®ƒã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">TUser</span> = &#123; <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>; &#125;;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">TUser</span> &#123; <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>; &#125;<br></code></pre></td></tr></table></figure></li></ul><hr><h3 id="ä½•æ—¶ç”¨å“ªä¸ªï¼Ÿ"><a href="#ä½•æ—¶ç”¨å“ªä¸ªï¼Ÿ" class="headerlink" title="ä½•æ—¶ç”¨å“ªä¸ªï¼Ÿ"></a>ä½•æ—¶ç”¨å“ªä¸ªï¼Ÿ</h3><ul><li><strong>ç”¨ <code>interface</code></strong>ï¼š  <ul><li>éœ€è¦å£°æ˜åˆå¹¶ï¼ˆå¦‚æ‰©å±•ç¬¬ä¸‰æ–¹åº“ç±»å‹ï¼‰ã€‚  </li><li>å®šä¹‰å¯¹è±¡ç±»å‹ä¸”éœ€è¦æ¸…æ™°çš„å·¥å…·æç¤ºã€‚  </li><li>é¢å‘å¯¹è±¡çš„ç±»ç»“æ„ï¼ˆ<code>implements</code>ï¼‰ã€‚</li></ul></li><li><strong>ç”¨ <code>type</code></strong>ï¼š  <ul><li>éœ€è¦è”åˆç±»å‹ã€å…ƒç»„ã€æ˜ å°„ç±»å‹ç­‰é«˜çº§åŠŸèƒ½ã€‚  </li><li>å®šä¹‰éå¯¹è±¡ç±»å‹ï¼ˆå¦‚ <code>type Status = &quot;open&quot; | &quot;closed&quot;</code>ï¼‰ã€‚</li></ul></li></ul><hr><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ä¸¤è€…åŠŸèƒ½é«˜åº¦é‡å ï¼Œä½† <code>interface</code> æ›´é€‚åˆå¯¹è±¡ç±»å‹çš„æ‰©å±•ï¼Œè€Œ <code>type</code> æ›´çµæ´»ã€‚å¤§å‹é¡¹ç›®æ¨èä¼˜å…ˆç”¨ <code>interface</code>ï¼Œéœ€è¦å¤æ‚ç±»å‹æ—¶å†ç”¨ <code>type</code>ã€‚</p></blockquote><p><strong>æ³¨æ„ï¼š</strong> å¯¹äºchildrenè¿™ç§æ¯”è¾ƒç‰¹æ®Šçš„prop,è‹¥éœ€è¦ä¼ å…¥å¤šç§ä¸åŒçš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥é€šè¿‡å†…ç½®çš„<code>React.ReactNode</code>ç±»å‹æ³¨è§£</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">type</span> <span class="hljs-title class_">Props</span> = &#123;<br>    className :<span class="hljs-built_in">string</span><br>    <span class="hljs-attr">children</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">ReactNode</span><br>  &#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Button</span>(<span class="hljs-params"><span class="hljs-attr">props</span>:<span class="hljs-title class_">Props</span></span>)<br>&#123;<br>  <span class="hljs-keyword">const</span> &#123;className,children&#125; =  props<br>  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#123;className&#125;</span>&gt;</span>&#123;children&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>&#125;<br><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      This is an app.</span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;Test&quot;</span>&gt;</span>Click Me<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  )<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="props-ç»„ä»¶propsæ³¨è§£"><a href="#props-ç»„ä»¶propsæ³¨è§£" class="headerlink" title="props - ç»„ä»¶propsæ³¨è§£"></a>props - ç»„ä»¶propsæ³¨è§£</h3><p>ç»„ä»¶ç»å¸¸æ‰§è¡Œç±»å‹ä¸ºå‡½æ•°çš„propå®ç°çˆ¶ä¼ å­ï¼Œè¿™ç±»propé‡ç‚¹åœ¨äºå‡½æ•°å‚æ•°ç±»å‹çš„æ³¨è§£</p><p>ä¸€èˆ¬ç»‘å®šäº‹ä»¶æ—¶ï¼Œäº‹ä»¶å‡½æ•°çš„å‘½åè§„èŒƒæ˜¯ <strong>â€œonâ€+é©¼å³°å‘½åæ³•</strong></p><p>åœ¨è°ƒç”¨ç»„ä»¶æ—¶ï¼Œå°†è§¦å‘äº‹ä»¶ç»‘å®šåˆ°ç»„ä»¶çš„propsä¸Šæ—¶ï¼Œå¯ä»¥é€‰æ‹©å†…è”æˆ–å‡½æ•°çš„æ–¹å¼ç»‘å®šï¼Œè‹¥å•ç‹¬å®šä¹‰å‡½æ•°ï¼Œé¡»å¯¹å•ç‹¬åŒ¹é…å‚æ•°ç±»å‹ã€‚</p><p><strong>æ³¨æ„ï¼š</strong></p><ol><li><p>åœ¨ç»„ä»¶å†…éƒ¨è°ƒç”¨æ—¶éœ€è¦éµå®ˆç±»å‹çº¦æŸï¼Œå‚æ•°ä¼ é€’éœ€è¦æ»¡è¶³è¦æ±‚</p></li><li><p>ç»‘å®špropæ—¶å¦‚æœç»‘å®šå†…è”å‡½æ•°ï¼Œå¯ä»¥ç›´æ¥æ¨æ–­å‡ºæ•°æ®ç±»å‹ï¼Œå¦åˆ™éœ€è¦å•ç‹¬æ³¨è§£åŒ¹é…å‚æ•°ç±»å‹ã€‚</p></li></ol><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Props</span> = &#123;<br>  <span class="hljs-attr">className</span>?:<span class="hljs-built_in">string</span><br>  <span class="hljs-attr">children</span>?: <span class="hljs-title class_">React</span>.<span class="hljs-property">ReactNode</span><br>  <span class="hljs-attr">onGetMsg</span>?: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">msg</span>:<span class="hljs-built_in">string</span></span>)=&gt;</span><span class="hljs-built_in">void</span><br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Button</span>(<span class="hljs-params"><span class="hljs-attr">props</span>:<span class="hljs-title class_">Props</span></span>)<br>&#123;<br>  <span class="hljs-keyword">const</span> &#123;className,children&#125; =  props<br>  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#123;className&#125;</span>&gt;</span>&#123;children&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Son</span>(<span class="hljs-params"><span class="hljs-attr">props</span>:<span class="hljs-title class_">Props</span></span>)&#123;<br>  <span class="hljs-keyword">const</span> &#123;onGetMsg&#125; = props<br>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">clickHandler</span> = (<span class="hljs-params"></span>) =&gt;&#123;<br>    onGetMsg?.(<span class="hljs-string">&#x27;This is a msg&#x27;</span>)<br>  &#125;<br>  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;clickHandler&#125;</span>&gt;</span>Click Me<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">getMsgHandler</span> = (<span class="hljs-params"><span class="hljs-attr">msg</span>:<span class="hljs-built_in">string</span></span>) =&gt;&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg)<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      This is an app.</span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;Test&quot;</span>&gt;</span>Click Me<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Son</span> <span class="hljs-attr">onGetMsg</span>=<span class="hljs-string">&#123;getMsgHandler&#125;</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  )<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="useRefä¸TypeScript"><a href="#useRefä¸TypeScript" class="headerlink" title="useRefä¸TypeScript"></a>useRefä¸TypeScript</h2><h3 id="useRef-è·å–DOM"><a href="#useRef-è·å–DOM" class="headerlink" title="useRef - è·å–DOM"></a>useRef - è·å–DOM</h3><p>è·å–domçš„åœºæ™¯ï¼Œå¯ä»¥ç›´æ¥æŠŠè¦è·å–çš„domå…ƒç´ çš„ç±»å‹å½“æˆæ³›å‹å‚æ•°ä¼ é€’ç»™useRef,å¯ä»¥æ¨å¯¼å‡º.currentå±æ€§çš„ç±»å‹</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br><br>  <span class="hljs-keyword">const</span> domRef = useRef&lt;<span class="hljs-title class_">HTMLInputElement</span>&gt;(<span class="hljs-literal">null</span>)<br><br>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-comment">// å¯é€‰é“¾ å‰é¢å€¼ä¸ä¸ºç©º(null/ undefined)æ‰§è¡Œé“¾å¼è°ƒç”¨</span><br>    domRef.<span class="hljs-property">current</span>?.<span class="hljs-title function_">focus</span>()<br>  &#125;,[])<br><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      This is an app.</span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;domRef&#125;</span>&gt;</span>Input<span class="hljs-tag">&lt;/<span class="hljs-name">input</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  )<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="useRef-å¼•ç”¨ç¨³å®šçš„å‚¨å­˜å™¨"><a href="#useRef-å¼•ç”¨ç¨³å®šçš„å‚¨å­˜å™¨" class="headerlink" title="useRef - å¼•ç”¨ç¨³å®šçš„å‚¨å­˜å™¨"></a>useRef - å¼•ç”¨ç¨³å®šçš„å‚¨å­˜å™¨</h3><p>æŠŠuseRefå½“æˆå¼•ç”¨ç¨³å®šçš„å‚¨å­˜å™¨ä½¿ç”¨çš„åœºæ™¯ï¼Œå¯ä»¥é€šè¿‡æ³›å‹ä¼ å…¥è”åˆç±»å‹æ¥åšã€‚</p><h1 id="Reactç†è®ºå’Œè®¾è®¡æ€æƒ³"><a href="#Reactç†è®ºå’Œè®¾è®¡æ€æƒ³" class="headerlink" title="Reactç†è®ºå’Œè®¾è®¡æ€æƒ³"></a>Reactç†è®ºå’Œè®¾è®¡æ€æƒ³</h1><h2 id="Babel-SWC"><a href="#Babel-SWC" class="headerlink" title="Babel &amp; SWC"></a>Babel &amp; SWC</h2><h3 id="ä½¿ç”¨babelç¼–è¯‘JS-JSXä»£ç "><a href="#ä½¿ç”¨babelç¼–è¯‘JS-JSXä»£ç " class="headerlink" title="ä½¿ç”¨babelç¼–è¯‘JS JSXä»£ç "></a>ä½¿ç”¨babelç¼–è¯‘JS JSXä»£ç </h3><p>Babel æ˜¯ä¸€ä¸ª JavaScript ç¼–è¯‘å™¨,æä¾›äº†JavaScriptçš„ç¼–è¯‘è¿‡ç¨‹ï¼Œèƒ½å¤Ÿå°†æºä»£ç è½¬æ¢ä¸ºç›®æ ‡ä»£ç ã€‚</p><p>å¯¹äºES6+çš„æ–°ç‰¹æ€§ï¼Œå¯é€šè¿‡corejså¼•å…¥çš„æ–¹å¼å®ç°å‘ä¸‹å…¼å®¹</p><p>AST -&gt; Transform -&gt; Generate</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// test.js</span><br><span class="hljs-comment">//è¯­æ³•</span><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">a</span> = (<span class="hljs-params">params = <span class="hljs-number">2</span></span>) =&gt; <span class="hljs-number">1</span> + params;<br><span class="hljs-keyword">const</span> b = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br><span class="hljs-keyword">const</span> c = [...b, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Babel</span> &#123;<br><br>&#125;<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Babel</span>()<br><span class="hljs-comment">//API</span><br><span class="hljs-keyword">const</span> x = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>].<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> x % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>)<br><span class="hljs-keyword">const</span> y = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(&#123;&#125;, &#123; <span class="hljs-attr">name</span>: <span class="hljs-number">1</span> &#125;)<br><br><span class="hljs-comment">// index.js</span><br><span class="hljs-comment">// è®°å¾—è®¾ç½®package.jsonçš„typeä¸ºmodule</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Babel</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@babel/core&#x27;</span><br><span class="hljs-keyword">import</span> presetEnv <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@babel/preset-env&#x27;</span><br><span class="hljs-keyword">import</span> fs <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;node:fs&#x27;</span><br><span class="hljs-keyword">const</span> file = fs.<span class="hljs-title function_">readFileSync</span>(<span class="hljs-string">&#x27;./test.js&#x27;</span>, <span class="hljs-string">&#x27;utf8&#x27;</span>)<br><span class="hljs-keyword">const</span> result = <span class="hljs-title class_">Babel</span>.<span class="hljs-title function_">transform</span>(file, &#123;<br>    <span class="hljs-attr">presets</span>: [presetEnv]<br>&#125;)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result.<span class="hljs-property">code</span>)<br><br></code></pre></td></tr></table></figure><h3 id="ä½¿ç”¨swcç¼–è¯‘JS-JSX"><a href="#ä½¿ç”¨swcç¼–è¯‘JS-JSX" class="headerlink" title="ä½¿ç”¨swcç¼–è¯‘JS JSX"></a>ä½¿ç”¨swcç¼–è¯‘JS JSX</h3><p>SWC æ—¢å¯ç”¨äºç¼–è¯‘ï¼Œä¹Ÿå¯ç”¨äºæ‰“åŒ…ã€‚å¯¹äºç¼–è¯‘ï¼Œå®ƒä½¿ç”¨ç°ä»£ JavaScript åŠŸèƒ½è·å– JavaScript &#x2F; TypeScript æ–‡ä»¶å¹¶è¾“å‡ºæ‰€æœ‰ä¸»æµæµè§ˆå™¨æ”¯æŒçš„æœ‰æ•ˆä»£ç ã€‚</p><p><strong><code>SWCåœ¨å•çº¿ç¨‹ä¸Šæ¯” Babel å¿« 20 å€ï¼Œåœ¨å››æ ¸ä¸Šå¿« 70 å€ã€‚</code></strong></p><p>ç®€å•ç‚¹æ¥è¯´swcå®ç°äº†å’Œbabelä¸€æ ·çš„åŠŸèƒ½ï¼Œä½†æ˜¯å®ƒæ¯”babelå¿«ã€‚</p><p><em>å”‰å”‰ï¼Œç¼–ç¨‹åŸç¥<code>rust</code>å‘åŠ›äº†</em></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// index.js</span><br><span class="hljs-keyword">import</span> swc <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@swc/core&#x27;</span><br><br><span class="hljs-keyword">const</span> result = swc.<span class="hljs-title function_">transformFileSync</span>(<span class="hljs-string">&#x27;./test.js&#x27;</span>, &#123;<br>   <span class="hljs-attr">jsc</span>: &#123;<br>       <span class="hljs-attr">target</span>: <span class="hljs-string">&quot;es5&quot;</span>, <span class="hljs-comment">//ä»£ç è½¬æ¢es5</span><br>       <span class="hljs-attr">parser</span>: &#123;<br>           <span class="hljs-attr">syntax</span>: <span class="hljs-string">&#x27;ecmascript&#x27;</span><br>       &#125;<br>   &#125;<br>&#125;)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result.<span class="hljs-property">code</span>)<br></code></pre></td></tr></table></figure><p><strong>swcè½¬JSX</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> swc <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@swc/core&#x27;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">time</span>()<br><span class="hljs-keyword">const</span> result = swc.<span class="hljs-title function_">transformFileSync</span>(<span class="hljs-string">&#x27;./test.jsx&#x27;</span>, &#123;<br>    <span class="hljs-attr">jsc</span>: &#123;<br>        <span class="hljs-attr">target</span>: <span class="hljs-string">&quot;es5&quot;</span>, <span class="hljs-comment">//ä»£ç è½¬æ¢es5</span><br>        <span class="hljs-attr">parser</span>: &#123;<br>            <span class="hljs-attr">syntax</span>: <span class="hljs-string">&#x27;ecmascript&#x27;</span>,<br>            <span class="hljs-attr">jsx</span>: <span class="hljs-literal">true</span><br>        &#125;,<br>        <span class="hljs-attr">transform</span>:&#123;<br>            <span class="hljs-attr">react</span>: &#123;<br>                <span class="hljs-attr">runtime</span>: <span class="hljs-string">&#x27;automatic&#x27;</span><br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result.<span class="hljs-property">code</span>)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">timeEnd</span>()<br></code></pre></td></tr></table></figure><h2 id="VDOM-è™šæ‹ŸDOM"><a href="#VDOM-è™šæ‹ŸDOM" class="headerlink" title="VDOM (è™šæ‹ŸDOM)"></a>VDOM (è™šæ‹ŸDOM)</h2><p>Virtual DOM å°±æ˜¯ç”¨JavaScriptå¯¹è±¡å»æè¿°ä¸€ä¸ªDOMç»“æ„ï¼Œè™šæ‹ŸDOMä¸æ˜¯ç›´æ¥æ“ä½œæµè§ˆå™¨çš„çœŸå®DOMï¼Œè€Œæ˜¯é¦–å…ˆå¯¹ UI çš„æ›´æ–°åœ¨è™šæ‹Ÿ DOM ä¸­è¿›è¡Œï¼Œå†å°†å˜æ›´é«˜æ•ˆåœ°åŒæ­¥åˆ°çœŸå® DOM ä¸­ã€‚</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Express:è½»é‡åŒ–çš„Webå¼€å‘æ¡†æ¶</title>
    <link href="/2024/10/27/Express-%E8%BD%BB%E9%87%8F%E5%8C%96%E7%9A%84Web%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/"/>
    <url>/2024/10/27/Express-%E8%BD%BB%E9%87%8F%E5%8C%96%E7%9A%84Web%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/</url>
    
    <content type="html"><![CDATA[<h1 id="Expressï¼šè½»é‡åŒ–çš„Webå¼€å‘æ¡†æ¶å­¦ä¹ ç¬”è®°"><a href="#Expressï¼šè½»é‡åŒ–çš„Webå¼€å‘æ¡†æ¶å­¦ä¹ ç¬”è®°" class="headerlink" title="Expressï¼šè½»é‡åŒ–çš„Webå¼€å‘æ¡†æ¶å­¦ä¹ ç¬”è®°"></a>Expressï¼šè½»é‡åŒ–çš„Webå¼€å‘æ¡†æ¶å­¦ä¹ ç¬”è®°</h1><h2 id="Vol1-å®‰è£…å’Œä½¿ç”¨Express"><a href="#Vol1-å®‰è£…å’Œä½¿ç”¨Express" class="headerlink" title="Vol1.å®‰è£…å’Œä½¿ç”¨Express"></a>Vol1.å®‰è£…å’Œä½¿ç”¨Express</h2><h3 id="1-1-å®‰è£…Express"><a href="#1-1-å®‰è£…Express" class="headerlink" title="1.1 å®‰è£…Express"></a>1.1 å®‰è£…Express</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">npm install -g express-generator</span><br>//åœ¨nodejsä¸‹å®‰è£…Express<br>express $&#123;targetProjectName&#125;<br>//åˆ›å»ºExpressé¡¹ç›®<br>npm install<br>//åœ¨é¡¹ç›®æ–‡ä»¶å¤¹å†…å®‰è£…ä¾èµ–<br>npm start<br>//å¯åŠ¨é¡¹ç›®ï¼Œäºhttp://localhost:3000<br></code></pre></td></tr></table></figure><h3 id="1-2-é¡¹ç›®ç»“æ„"><a href="#1-2-é¡¹ç›®ç»“æ„" class="headerlink" title="1.2 é¡¹ç›®ç»“æ„"></a>1.2 é¡¹ç›®ç»“æ„</h3><h4 id="Expressé»˜è®¤åº”ç”¨ä¸­æ–‡ä»¶åŠå…¶ä½œç”¨"><a href="#Expressé»˜è®¤åº”ç”¨ä¸­æ–‡ä»¶åŠå…¶ä½œç”¨" class="headerlink" title="Expressé»˜è®¤åº”ç”¨ä¸­æ–‡ä»¶åŠå…¶ä½œç”¨"></a>Expressé»˜è®¤åº”ç”¨ä¸­æ–‡ä»¶åŠå…¶ä½œç”¨</h4><table><thead><tr><th>ç›®å½•å&#x2F;æ–‡ä»¶å</th><th>ç±»å‹</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>bin</td><td>ç›®å½•</td><td>æœåŠ¡å™¨è„šæœ¬é»˜è®¤ç›®å½•</td></tr><tr><td>bin&#x2F;<a href="http://www.js/">www.js</a></td><td>æ–‡ä»¶</td><td>æœåŠ¡å™¨é»˜è®¤è„šæœ¬ï¼Œå³å¯åŠ¨æœåŠ¡è„šæœ¬</td></tr><tr><td>node_modules</td><td>ç›®å½•</td><td>ä¾èµ–åŒ…å®‰è£…ç›®å½•ï¼Œç”¨äºå­˜æ”¾ä¾èµ–åŒ…</td></tr><tr><td>public</td><td>ç›®å½•</td><td>é™æ€èµ„æºç›®å½•ï¼Œç”¨äºå­˜æ”¾é™æ€èµ„æº</td></tr><tr><td>routes</td><td>ç›®å½•</td><td>è·¯ç”±ç›®å½•ï¼Œç”¨äºå­˜æ”¾è·¯ç”±æ–‡ä»¶</td></tr><tr><td>routes&#x2F;index.js</td><td>æ–‡ä»¶</td><td>é¦–é¡µè·¯ç”±æ–‡ä»¶</td></tr><tr><td>routes&#x2F;users.js</td><td>æ–‡ä»¶</td><td>ç”¨æˆ·è·¯ç”±æ–‡ä»¶</td></tr><tr><td>views</td><td>ç›®å½•</td><td>é¡µé¢ç›®å½•ï¼Œç”¨äºå­˜æ”¾é¡µé¢æ–‡ä»¶</td></tr><tr><td>views&#x2F;error.jade</td><td>æ–‡ä»¶</td><td>é”™è¯¯é¡µé¢</td></tr><tr><td>views&#x2F;index.jade</td><td>æ–‡ä»¶</td><td>é¦–é¡µ</td></tr><tr><td>views&#x2F;layout.jade</td><td>æ–‡ä»¶</td><td>é¡µé¢å…±ç”¨å¸ƒå±€</td></tr><tr><td>app.js</td><td>æ–‡ä»¶</td><td>åº”ç”¨ä¸»æ–‡ä»¶</td></tr><tr><td>package.json</td><td>æ–‡ä»¶</td><td>é¡¹ç›®é…ç½®æ–‡ä»¶</td></tr><tr><td>package-lock.json</td><td>æ–‡ä»¶</td><td>é”å®šçš„é¡¹ç›®é…ç½®æ–‡ä»¶</td></tr></tbody></table><h3 id="1-3-Expressè·¯ç”±"><a href="#1-3-Expressè·¯ç”±" class="headerlink" title="1.3 Expressè·¯ç”±"></a>1.3 Expressè·¯ç”±</h3><h4 id="1-3-1-GETè¯·æ±‚"><a href="#1-3-1-GETè¯·æ±‚" class="headerlink" title="1.3.1 GETè¯·æ±‚"></a>1.3.1 GETè¯·æ±‚</h4><p>route&#x2F;index.jsè·¯ç”±æ–‡ä»¶ï¼Œå³é¦–é¡µè·¯ç”±æ–‡ä»¶ï¼Œæ˜¯ä¸€ä¸ªGETè¯·æ±‚è·¯ç”±ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>) <span class="hljs-comment">//å¼•å…¥</span><br><span class="hljs-keyword">var</span> router = express.<span class="hljs-title class_">Router</span>() <span class="hljs-comment">//å¼•å…¥Expressè·¯ç”±å¯¹è±¡</span><br><br><span class="hljs-comment">//é¦–é¡µè·¯ç”±</span><br><br>router.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/&#x27;</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params">req,res,next</span>)&#123;<br>    res.<span class="hljs-title function_">render</span>(<span class="hljs-string">&#x27;index&#x27;</span>,&#123;<span class="hljs-attr">title</span>:<span class="hljs-string">&#x27;Express&#x27;</span>&#125;);<br>&#125;);<br>moudule.<span class="hljs-property">exports</span> = router<br><span class="hljs-comment">//å¯¼å‡ºè·¯ç”±</span><br></code></pre></td></tr></table></figure><h4 id="1-3-2-è‡ªå®šä¹‰è·¯ç”±"><a href="#1-3-2-è‡ªå®šä¹‰è·¯ç”±" class="headerlink" title="1.3.2 è‡ªå®šä¹‰è·¯ç”±"></a>1.3.2 è‡ªå®šä¹‰è·¯ç”±</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªGETè¯·æ±‚â€˜/worldâ€™çš„è·¯ç”±ï¼Œæ‰§è¡Œæ–¹æ³•</span><br>router.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/world&#x27;</span>,<span class="hljs-keyword">function</span> (<span class="hljs-params">req, res, next</span>) &#123;<br>  res.<span class="hljs-title function_">render</span>(<span class="hljs-string">&#x27;index&#x27;</span>,&#123;<span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;Hello World!&#x27;</span>&#125;);<br>&#125;)<br></code></pre></td></tr></table></figure><h4 id="1-3-3-å…¶ä»–è¯·æ±‚æ–¹å¼çš„è·¯ç”±"><a href="#1-3-3-å…¶ä»–è¯·æ±‚æ–¹å¼çš„è·¯ç”±" class="headerlink" title="1.3.3 å…¶ä»–è¯·æ±‚æ–¹å¼çš„è·¯ç”±"></a>1.3.3 å…¶ä»–è¯·æ±‚æ–¹å¼çš„è·¯ç”±</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//router.post()</span><br><span class="hljs-comment">//router.put()</span><br><span class="hljs-comment">//router.delete()</span><br></code></pre></td></tr></table></figure><h4 id="1-3-4-è·¯ç”±åŒ¹é…è§„åˆ™"><a href="#1-3-4-è·¯ç”±åŒ¹é…è§„åˆ™" class="headerlink" title="1.3.4 è·¯ç”±åŒ¹é…è§„åˆ™"></a>1.3.4 è·¯ç”±åŒ¹é…è§„åˆ™</h4><p><strong>æ¨¡ç³ŠåŒ¹é…ç¬¦</strong></p><table><thead><tr><th>ç¬¦å·</th><th>å«ä¹‰</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td>+</td><td>ç´§æ¥ç€å‰ä¸€ä¸ªå­—æ¯é‡å¤</td><td>we+st -&gt;weest weeest</td></tr><tr><td>(element)?</td><td>æ‹¬å·å†…å…ƒç´ ç¼ºå¤±</td><td>w(es)?t -&gt;wt</td></tr><tr><td>*</td><td>ä¸¤ç«¯ä¹‹é—´æ’å…¥ä»»æ„å…ƒç´ </td><td>we * st -&gt;we123st</td></tr></tbody></table><p>åŒæ—¶æ”¯æŒäº†æ­£åˆ™è¡¨è¾¾å¼ï¼Œ<a href="https://www.runoob.com/regexp/regexp-tutorial.html">æ­£åˆ™è¡¨è¾¾å¼ â€“ æ•™ç¨‹ | èœé¸Ÿæ•™ç¨‹</a></p><h4 id="1-3-5-ä¸­é—´ä»¶"><a href="#1-3-5-ä¸­é—´ä»¶" class="headerlink" title="1.3.5 ä¸­é—´ä»¶"></a>1.3.5 ä¸­é—´ä»¶</h4><p>åœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæœ‰æ—¶éœ€è¦ä½¿ç”¨å…±åŒçš„æ–¹æ³•æ¥å®Œæˆè¯·æ±‚ï¼Œä¸ºäº†æé«˜æ•ˆç‡ï¼Œå¯ä»¥å°†è¿™äº›å…±åŒçš„æ–¹æ³•å•ç‹¬æå‡ºæ¥ï¼Œå³ä¸­é—´ä»¶ã€‚</p><p>å½“å‰ç«¯ä½¿ç”¨GETæ–¹æ³•è¯·æ±‚æ ¹è·¯å¾„çš„æ—¶å€™ï¼Œä¼šè¿›å…¥ç¬¬äºŒä¸ªå‚æ•°functionä¸­ï¼Œè¿™ä¸ªè·¯ç”±å¤„ç†æ–¹æ³•å°±æ˜¯Expressä¸­çš„ä¸­é—´ä»¶ã€‚</p><p>åœ¨Expressä¸­ï¼Œä¸­é—´ä»¶ä¼šè¢«ä¼ å…¥ä¸‰ä¸ªå½¢å‚ã€‚</p><table><thead><tr><th>å‚æ•°é¡ºåº</th><th>å½¢å‚å</th><th>æè¿°</th></tr></thead><tbody><tr><td>1</td><td>req</td><td>è¯·æ±‚æ•°æ®å¯¹è±¡Request</td></tr><tr><td>2</td><td>res</td><td>è¿”å›æ•°æ®å¯¹è±¡Response</td></tr><tr><td>3</td><td>next</td><td>ä¸‹ä¸€æ­¥å‡½æ•°</td></tr></tbody></table><p>ä¾‹å¦‚ï¼Œå®ç°éªŒè¯åŠŸèƒ½ï¼Œå¯ä»¥åœ¨è·¯ç”±å¤„ç†æ–¹æ³•å‰å†åŠ ä¸€ä¸ªæ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js">router.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/car&#x27;</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params">req,res,next</span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;è¿™é‡Œæ˜¯ä¸­é—´ä»¶&#x27;</span>);<br>    <span class="hljs-title function_">next</span>();<br>&#125;,<span class="hljs-keyword">function</span>(<span class="hljs-params">req,res,next</span>)&#123;<br>    res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;è¿™é‡Œæ˜¯è¿”å›&#x27;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><h3 id="1-4-Expressé¡µé¢"><a href="#1-4-Expressé¡µé¢" class="headerlink" title="1.4 Expressé¡µé¢"></a>1.4 Expressé¡µé¢</h3><h4 id="1-4-1-æ›´æ¢æ¨¡æ¿å¼•æ“"><a href="#1-4-1-æ›´æ¢æ¨¡æ¿å¼•æ“" class="headerlink" title="1.4.1 æ›´æ¢æ¨¡æ¿å¼•æ“"></a>1.4.1 æ›´æ¢æ¨¡æ¿å¼•æ“</h4><p>Expressçš„é»˜è®¤å¼•æ“æ˜¯jadeï¼Œä¸ºäº†ä¾¿äºå¼€å‘ï¼Œå¯ä»¥æ¢æˆæ›´ç®€æ´çš„art-templateã€‚</p><p>å®‰è£…ä¾èµ–</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm install -S art-template<br>npm install -S express-art-template<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„<code>app.js</code>ï¼Œåˆ‡æ¢æ¨¡æ¿å¼•æ“ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">app.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;view engine&#x27;</span>,<span class="hljs-string">&#x27;jade&#x27;</span>);<br><span class="hljs-comment">//åŸ</span><br>app.<span class="hljs-title function_">engine</span>(<span class="hljs-string">&#x27;.html&#x27;</span>,<span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express-art-template&#x27;</span>));<br>app.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;view engine&#x27;</span>,<span class="hljs-string">&#x27;html&#x27;</span>)<br></code></pre></td></tr></table></figure><h4 id="1-4-2-æ¸²æŸ“æ•°æ®åˆ°é¡µé¢ä¸Š"><a href="#1-4-2-æ¸²æŸ“æ•°æ®åˆ°é¡µé¢ä¸Š" class="headerlink" title="1.4.2 æ¸²æŸ“æ•°æ®åˆ°é¡µé¢ä¸Š"></a>1.4.2 æ¸²æŸ“æ•°æ®åˆ°é¡µé¢ä¸Š</h4><p>åœ¨Expressä¸­å°†æ•°æ®æ¸²æŸ“åˆ°é¡µé¢ä¸Šçš„æ–¹æ³•æ˜¯Responseå¯¹è±¡çš„renderæ–¹æ³•ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">router.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">req, res, next</span>) &#123;<br>  res.<span class="hljs-title function_">render</span>(<span class="hljs-string">&#x27;index&#x27;</span>, &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;hello&#x27;</span>&#125;);<br>&#125;);<br></code></pre></td></tr></table></figure><p>è¿™æ®µä»£ç å‘index.htmlä¼ å…¥äº†ä¸€ä¸ªé”®å€¼å¯¹{ title: â€˜helloâ€™}ï¼Œåœ¨htmlç•Œé¢å¯ä»¥ä½¿ç”¨åŒèŠ±æ‹¬å·æ¥æ¥æ”¶å­—æ®µï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>This is the value of title variable: &#123;&#123; title &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="1-4-3-æ¡ä»¶æ¸²æŸ“"><a href="#1-4-3-æ¡ä»¶æ¸²æŸ“" class="headerlink" title="1.4.3 æ¡ä»¶æ¸²æŸ“"></a>1.4.3 æ¡ä»¶æ¸²æŸ“</h4><h5 id="1-åŸºæœ¬æ¡ä»¶æ¸²æŸ“"><a href="#1-åŸºæœ¬æ¡ä»¶æ¸²æŸ“" class="headerlink" title="1.åŸºæœ¬æ¡ä»¶æ¸²æŸ“"></a>1.åŸºæœ¬æ¡ä»¶æ¸²æŸ“</h5><p><em>Vue.js:åœ¨æƒ³æˆ‘çš„äº‹æƒ…ï¼Ÿ</em></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>This is the value of title variable: &#123;&#123; title &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>&#123;&#123;if age &lt; 30&#125;&#125;<br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä»Šå¹´&#123;&#123; age &#125;&#125;å²äº†ï¼Œè¿˜æ²¡åˆ°30å²ç”Ÿæ—¥ï¼ŒåŠ æ²¹ï¼<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>&#123;&#123;/if&#125;&#125;<br>&#123;&#123;if age &gt; 30&#125;&#125;<br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä»Šå¹´&#123;&#123; age &#125;&#125;å²äº†ï¼Œ30å²ç”Ÿæ—¥å·²ç»è¿‡äº†<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>&#123;&#123;/if&#125;&#125;<br><br><br>//æ ¼å¼ä¸º&#123;&#123;if CONDITION&#125;&#125; <span class="hljs-tag">&lt;/&gt;</span> &#123;&#123;/if&#125;&#125;<br></code></pre></td></tr></table></figure><h5 id="2-åµŒå¥—æ¡ä»¶æ¸²æŸ“"><a href="#2-åµŒå¥—æ¡ä»¶æ¸²æŸ“" class="headerlink" title="2.åµŒå¥—æ¡ä»¶æ¸²æŸ“"></a>2.åµŒå¥—æ¡ä»¶æ¸²æŸ“</h5><p>åŒç†ï¼Œç•¥ã€‚</p><h4 id="1-4-4-æ¸²æŸ“å¾ªç¯"><a href="#1-4-4-æ¸²æŸ“å¾ªç¯" class="headerlink" title="1.4.4 æ¸²æŸ“å¾ªç¯"></a>1.4.4 æ¸²æŸ“å¾ªç¯</h4><h5 id="åŸºæœ¬æ¸²æŸ“å¾ªç¯"><a href="#åŸºæœ¬æ¸²æŸ“å¾ªç¯" class="headerlink" title="åŸºæœ¬æ¸²æŸ“å¾ªç¯"></a>åŸºæœ¬æ¸²æŸ“å¾ªç¯</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- index.html --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å¾ªç¯æ¸²æŸ“<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>&#123;&#123;each list as item&#125;&#125;<br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ•°æ®id&#123;&#123;item.id&#125;&#125;ï¼Œå†…å®¹&#123;&#123;item.content&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>&#123;&#123;/each&#125;&#125;<br></code></pre></td></tr></table></figure><p>åœ¨art-templateä¸­,å¾ªç¯æ¸²æŸ“çš„å›ºå®šå†™æ³•æ˜¯<code>&#123;&#123;each LIST as ITEM&#125;&#125;</code></p><h3 id="1-5-è¯·æ±‚å¯¹è±¡Request"><a href="#1-5-è¯·æ±‚å¯¹è±¡Request" class="headerlink" title="1.5 è¯·æ±‚å¯¹è±¡Request"></a>1.5 è¯·æ±‚å¯¹è±¡Request</h3><h4 id="1-5-1-Request-urlå±æ€§"><a href="#1-5-1-Request-urlå±æ€§" class="headerlink" title="1.5.1 Request.urlå±æ€§"></a>1.5.1 Request.urlå±æ€§</h4><p>Request.urlå±æ€§å¯ä»¥è·å¾—è¯·æ±‚åœ°å€ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js">#./routes/index.<span class="hljs-property">js</span><br>router.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/abcd&#x27;</span>,<span class="hljs-keyword">function</span> (<span class="hljs-params">req, res, next</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(req.<span class="hljs-property">url</span>);<br>  res.<span class="hljs-title function_">render</span>(<span class="hljs-string">&#x27;index&#x27;</span>,&#123;<span class="hljs-attr">title</span>:<span class="hljs-string">&#x27;Express&#x27;</span>&#125;)<br>&#125;)<br><br></code></pre></td></tr></table></figure><h4 id="1-5-2-Request-queryå±æ€§"><a href="#1-5-2-Request-queryå±æ€§" class="headerlink" title="1.5.2 Request.queryå±æ€§"></a>1.5.2 Request.queryå±æ€§</h4><p>Request.queryå¸¸ç”¨æ¥è·å–GETè¯·æ±‚å‚æ•°ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«è·¯ç”±ä¸­æ¯ä¸ªæŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°çš„å±æ€§ã€‚<strong>åªèƒ½è·å¾—GETè¯·æ±‚æ–¹å¼</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">router.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/book&#x27;</span>,<span class="hljs-keyword">function</span> (<span class="hljs-params">req, res, next</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(req.<span class="hljs-property">query</span>);<br>  res.<span class="hljs-title function_">render</span>(<span class="hljs-string">&#x27;index&#x27;</span>,&#123;<span class="hljs-attr">title</span>:<span class="hljs-string">&#x27;Express&#x27;</span>&#125;);<br>&#125;)<br></code></pre></td></tr></table></figure><h4 id="1-5-3-Request-bodyå±æ€§"><a href="#1-5-3-Request-bodyå±æ€§" class="headerlink" title="1.5.3 Request.bodyå±æ€§"></a>1.5.3 Request.bodyå±æ€§</h4><p>Expresså°†POSTè¯·æ±‚å‚æ•°å°è£…åœ¨äº†Request.bodyå¯¹è±¡ä¸­ï¼Œä»¥é”®å€¼å¯¹å½¢å¼å­˜åœ¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">router.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/abc&#x27;</span>,<span class="hljs-keyword">function</span> (<span class="hljs-params">req, res, next</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(req.<span class="hljs-property">body</span>);<br>  res.<span class="hljs-title function_">render</span>(<span class="hljs-string">&#x27;index&#x27;</span>,&#123;<span class="hljs-attr">title</span>:<span class="hljs-string">&#x27;Express&#x27;</span>&#125;);<br>&#125;)<br></code></pre></td></tr></table></figure><h4 id="1-5-4-Request-paramså±æ€§"><a href="#1-5-4-Request-paramså±æ€§" class="headerlink" title="1.5.4 Request.paramså±æ€§"></a>1.5.4 Request.paramså±æ€§</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js">router.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/book/:id&#x27;</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params">req,res,next</span>)&#123;<br>    res.<span class="hljs-title function_">send</span>(req.<span class="hljs-property">params</span>)<br>    <span class="hljs-comment">// æ­¤æ—¶è¿”å›&#123;id:2&#125;</span><br>    res.<span class="hljs-title function_">render</span>(<span class="hljs-string">&#x27;index&#x27;</span>,&#123;<span class="hljs-attr">title</span>:<span class="hljs-string">&#x27;Express&#x27;</span>&#125;);<br>&#125;)<br></code></pre></td></tr></table></figure><p>Expressé€šè¿‡URLä¼ å…¥çš„å‚æ•°å­˜åˆ°äº†Request.paramså±æ€§ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥è·å–è‡ªå®šä¹‰URLçš„ä»»æ„ä¸€ä¸ªå‚æ•°ã€‚</p><h4 id="1-5-5-Request-headerså±æ€§"><a href="#1-5-5-Request-headerså±æ€§" class="headerlink" title="1.5.5 Request.headerså±æ€§"></a>1.5.5 Request.headerså±æ€§</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">router.<span class="hljs-title function_">post</span>(<span class="hljs-string">&#x27;/abc&#x27;</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params">req,res,next</span>)&#123;<br>    res.<span class="hljs-title function_">send</span>(req.<span class="hljs-property">headers</span>);<br>&#125;)<br></code></pre></td></tr></table></figure><p>Expressä¹Ÿå¯ä»¥è·å–åˆ°è¯·æ±‚å¤´çš„æ•°æ®ï¼Œå­˜åœ¨Request.headerä¸­ã€‚</p><h4 id="1-5-6-Request-cookieså±æ€§"><a href="#1-5-6-Request-cookieså±æ€§" class="headerlink" title="1.5.6 Request.cookieså±æ€§"></a>1.5.6 Request.cookieså±æ€§</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">router.<span class="hljs-title function_">post</span>(<span class="hljs-string">&#x27;/abc&#x27;</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params">req,res,next</span>)&#123;<br>    res.<span class="hljs-title function_">send</span>(req.<span class="hljs-property">cookies</span>);<br>&#125;)<br></code></pre></td></tr></table></figure><p>Expressæä¾›äº†ç®€å•çš„è·å–å®¢æˆ·ç«¯cookiesçš„æ–¹å¼ï¼Œå¹¶ä»¥å¯¹è±¡æ–¹å¼å‚¨å­˜ã€‚</p><h3 id="1-6-è¿”å›å¯¹è±¡Response"><a href="#1-6-è¿”å›å¯¹è±¡Response" class="headerlink" title="1.6 è¿”å›å¯¹è±¡Response"></a>1.6 è¿”å›å¯¹è±¡Response</h3><h4 id="1-6-1-Response-render-æ–¹æ³•"><a href="#1-6-1-Response-render-æ–¹æ³•" class="headerlink" title="1.6.1 Response.render()æ–¹æ³•"></a>1.6.1 Response.render()æ–¹æ³•</h4><p><code>Response.render(#view:String,locals:Object,callback:Function)</code></p><p><strong>#view:</strong> å¿…é€‰é¡¹ï¼Œé¡µé¢æ–‡ä»¶ï¼Œç”¨äºæ¸²æŸ“çš„æ–‡ä»¶è·¯å¾„ã€‚</p><p><strong>locals:</strong> å±æ€§å®šä¹‰é¡µé¢çš„å±€éƒ¨å˜é‡ã€‚</p><p><strong>callback:</strong> å›è°ƒå‡½æ•°ï¼Œè¿”å›å›°éš¾çš„é”™è¯¯å’Œå‘ˆç°çš„å­—ç¬¦ä¸²ï¼Œä½†ä¸æ‰§è¡Œè‡ªåŠ¨å“åº”ã€‚å‘ç”Ÿé”™è¯¯æ—¶åœ¨<code>next(err)</code>ä¸­å†…éƒ¨è°ƒç”¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js">res.<span class="hljs-title function_">render</span>(<span class="hljs-string">&#x27;index&#x27;</span>) <span class="hljs-comment">//æ¸²æŸ“ä¸€ä¸ªé¡µé¢æ–‡ä»¶åˆ°å®¢æˆ·ç«¯</span><br><br><br>res.<span class="hljs-title function_">render</span>(<span class="hljs-string">&#x27;index&#x27;</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params">err,html</span>)&#123;<br>    res.<span class="hljs-title function_">send</span>(html);<br>    <span class="hljs-comment">//å›è°ƒå‡½æ•°ï¼Œæ˜ç¡®æŒ‡å®šå‘é€çš„HTMLå­—ç¬¦ä¸²</span><br>&#125;)<br><br>res.<span class="hljs-title function_">render</span>(<span class="hljs-string">&#x27;user&#x27;</span>,&#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;Tobi&#x27;</span>&#125;,<span class="hljs-keyword">function</span>(<span class="hljs-params">err,html</span>))<br><span class="hljs-comment">//æ¸²æŸ“å®Œæ¯•çš„å›è°ƒå‡½æ•°</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Vueå­¦ä¹ ç¬”è®°</title>
    <link href="/2024/10/06/Vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <url>/2024/10/06/Vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="Vueæ¡†æ¶å­¦ä¹ "><a href="#Vueæ¡†æ¶å­¦ä¹ " class="headerlink" title="Vueæ¡†æ¶å­¦ä¹ "></a>Vueæ¡†æ¶å­¦ä¹ </h1><p>æ¸è¿›å¼JavaScriptæ¡†æ¶</p><p>å®˜æ–¹æ–‡æ¡£ï¼š</p><blockquote><p><a href="https://cn.vuejs.org/">https://cn.vuejs.org/</a></p></blockquote><h2 id="Vue-APIé£æ ¼"><a href="#Vue-APIé£æ ¼" class="headerlink" title="Vue APIé£æ ¼"></a>Vue APIé£æ ¼</h2><h4 id="é€‰é¡¹å¼API-ç»„åˆå¼API"><a href="#é€‰é¡¹å¼API-ç»„åˆå¼API" class="headerlink" title="é€‰é¡¹å¼API&#x2F;ç»„åˆå¼API"></a>é€‰é¡¹å¼API&#x2F;ç»„åˆå¼API</h4><h2 id="Vueå®‰è£…"><a href="#Vueå®‰è£…" class="headerlink" title="Vueå®‰è£…"></a>Vueå®‰è£…</h2><p>åœ¨NodeJSå‘½ä»¤è¡Œä¸­é”®å…¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs npmignore">npm init vue@latest<br></code></pre></td></tr></table></figure><p>æˆ–è€…å¼•å…¥CDN(Vue3)</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://unpkg.com/vue@3/dist/vue.global.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="Vue-ç›®å½•"><a href="#Vue-ç›®å½•" class="headerlink" title="Vue ç›®å½•"></a>Vue ç›®å½•</h2><ol><li><p>.vscode â€”VSCå·¥å…·é…ç½®æ–‡ä»¶</p></li><li><p>node_module â€”Vueé¡¹ç›®è¿è¡Œä¾èµ–</p></li><li><p>public â€”èµ„æºæ–‡ä»¶å¤¹</p></li><li><p>src â€” æºä»£ç </p></li><li><p>.gitgnore â€”gitå¿½ç•¥æ–‡ä»¶</p></li><li><p>index.html â€”å…¥å£HTMLæ–‡ä»¶</p></li><li><p>package.json â€”ä¿¡æ¯æè¿°æ–‡ä»¶</p></li><li><p>README.md â€”æ³¨é‡Šæ–‡ä»¶</p></li><li><p>vite.config.js â€”vueé…ç½®æ–‡ä»¶</p></li></ol><h2 id="Vue-jså¯¹è±¡"><a href="#Vue-jså¯¹è±¡" class="headerlink" title="Vue.jså¯¹è±¡"></a>Vue.jså¯¹è±¡</h2><p>æ¯ä¸ªVue.jsåº”ç”¨éƒ½æ˜¯é€šè¿‡Vue.jså‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„Vue.jså®ä¾‹å¼€å§‹çš„ï¼Œæ­¤å¤„ä¸ºVue3ç‰ˆã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> &#123; createApp &#125; = <span class="hljs-title class_">Vue</span>;<br><br><span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªæ–°çš„ Vue åº”ç”¨</span><br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(&#123;<br>    <span class="hljs-comment">// ç»„ä»¶çš„çŠ¶æ€æ•°æ®</span><br>    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> &#123;<br>            <span class="hljs-comment">// åœ¨è¿™é‡Œå®šä¹‰å“åº”å¼æ•°æ®</span><br>            <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;Hello, Vue!&#x27;</span><br>        &#125;;<br>    &#125;,<br>    <span class="hljs-comment">// ç»„ä»¶çš„æ–¹æ³•</span><br>    <span class="hljs-attr">methods</span>: &#123;<br>        <span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªæ–¹æ³•</span><br>        <span class="hljs-title function_">greet</span>(<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>); <span class="hljs-comment">// å¼¹å‡ºå½“å‰çš„ message å†…å®¹</span><br>        &#125;<br>    &#125;,<br>    <span class="hljs-comment">// ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸé’©å­</span><br>    <span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;ç»„ä»¶å·²æŒ‚è½½ï¼&#x27;</span>); <span class="hljs-comment">// åœ¨ç»„ä»¶æŒ‚è½½åæ‰§è¡Œçš„ä»£ç </span><br>    &#125;<br>&#125;);<br><br><span class="hljs-comment">// æŒ‚è½½ Vue åº”ç”¨åˆ°ç›®æ ‡ DOM å…ƒç´ </span><br>app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;#app&#x27;</span>); <span class="hljs-comment">// å°† Vue åº”ç”¨æŒ‚è½½åˆ° id ä¸º &#x27;app&#x27; çš„å…ƒç´ ä¸Š</span><br></code></pre></td></tr></table></figure><p>å¯ä»¥åœ¨åˆ›å»ºçš„Vueå¯¹è±¡å†…å®šä¹‰å®ä¾‹propertyï¼ˆå±æ€§ï¼‰ï¼ŒåŒ…æ‹¬dataç­‰,å¯ä»¥åœ¨dataå†…å†™å…¥JSONå¯¹è±¡ã€‚ä½†åªæœ‰<strong>åœ¨å®ä¾‹è¢«åˆ›å»ºæ—¶å°±å·²ç»å­˜åœ¨äºdataä¸­çš„<code>property</code></strong> æ‰æ˜¯å“åº”å¼çš„ã€‚</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">var</span> data = &#123;<span class="hljs-attr">a</span>:<span class="hljs-number">1</span>&#125;<br><span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>    <span class="hljs-attr">data</span>:data<br>&#125;)<br>vm.<span class="hljs-property">b</span>=<span class="hljs-string">&quot;hi&quot;</span>  <span class="hljs-comment">//æ²¡ç”¨</span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ <strong><code>Object.freeze()</code></strong> ä¼šè§£é™¤Vue.jsçš„å“åº”å¼æ•ˆæœï¼Œå†åº¦æ”¹å˜propertyä¸ä¼šæ¸²æŸ“åˆ°è§†å›¾ä¸Šã€‚</p><h2 id="Vueæ¨¡æ¿è¯­æ³•"><a href="#Vueæ¨¡æ¿è¯­æ³•" class="headerlink" title="Vueæ¨¡æ¿è¯­æ³•"></a>Vueæ¨¡æ¿è¯­æ³•</h2><h4 id="æ–‡æœ¬æ’å€¼"><a href="#æ–‡æœ¬æ’å€¼" class="headerlink" title="æ–‡æœ¬æ’å€¼"></a>æ–‡æœ¬æ’å€¼</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs js"># app.<span class="hljs-property">vue</span><br><br>&lt;template&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span> &#123;&#123; msg &#125;&#125; <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br>    <span class="hljs-comment">//è¡¨è¾¾å¼</span><br>&lt;/template&gt;<br><br><br><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-keyword">return</span>&#123;</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-attr">msg</span>:<span class="hljs-string">&quot;ç¥å¥‡çš„é­”æ³•&quot;</span></span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h4 id="ä½¿ç”¨JavaScriptè¡¨è¾¾å¼"><a href="#ä½¿ç”¨JavaScriptè¡¨è¾¾å¼" class="headerlink" title="ä½¿ç”¨JavaScriptè¡¨è¾¾å¼"></a>ä½¿ç”¨JavaScriptè¡¨è¾¾å¼</h4><p>æ¯ä¸ªç»‘å®šåªæ”¯æŒ<strong>å•ä¸€è¡¨è¾¾å¼</strong>ï¼Œå³ä¸€æ®µèƒ½å¤Ÿè¢«æ±‚å€¼çš„JavaScriptä»£ç ï¼Œifè¯­å¥ç­‰é€»è¾‘æ“ä½œè¯­å¥ä¸å¯ä»¥åŠ å…¥æ¨¡æ¿ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs js"># app.<span class="hljs-property">vue</span><br><br><br>&lt;template&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; num + 1&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123;ok ? &#x27;YES&#x27; : &#x27;NO &#x27;&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-keyword">return</span>&#123;</span></span><br><span class="language-javascript"><span class="language-xml">           <span class="hljs-attr">msg</span>:<span class="hljs-string">&quot;ç¥å¥‡çš„è¯­æ³•&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">           <span class="hljs-attr">num</span>:<span class="hljs-number">10</span>,</span></span><br><span class="language-javascript"><span class="language-xml">           <span class="hljs-attr">ok</span>:<span class="hljs-literal">true</span></span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;    </span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><br></code></pre></td></tr></table></figure><h4 id="åŸå§‹HTML"><a href="#åŸå§‹HTML" class="headerlink" title="åŸå§‹HTML"></a>åŸå§‹HTML</h4><p>åŒå¤§æ‹¬å·ä¼šå°†æ•°æ®æ’å€¼ä¸ºçº¯æ–‡æœ¬è€ŒéHTMLï¼Œéœ€è¦ä½¿ç”¨<code>v-html</code>æŒ‡ä»¤æ’å…¥HTML</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs html">#app.vue<br><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123;rawHtml&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    # çº¯æ–‡æœ¬å±æ€§<br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>htmlå±æ€§ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-html</span>=<span class="hljs-string">&quot;rawHtml&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">return</span>&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">rawHtml</span>:<span class="hljs-string">&quot;&lt;a href=&quot;</span><span class="hljs-attr">https</span>:<span class="hljs-comment">//kivo.wiki/data/character/373&quot;&gt;ç™¾æˆ˜æ˜Ÿé‡&lt;/a&gt;&quot;</span></span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="Vueå±æ€§ç»‘å®š"><a href="#Vueå±æ€§ç»‘å®š" class="headerlink" title="Vueå±æ€§ç»‘å®š"></a>Vueå±æ€§ç»‘å®š</h2><h4 id="v-bindç»‘å®š"><a href="#v-bindç»‘å®š" class="headerlink" title="v-bindç»‘å®š"></a>v-bindç»‘å®š</h4><p>åŒå¤§æ‹¬å·å¹¶ä¸èƒ½åœ¨HTML attributesä¸­ç›´æ¥ä½¿ç”¨ï¼Œæƒ³è¦å“åº”å¼ç»‘å®šattributeéœ€è¦ä½¿ç”¨<code>v-bind</code>æŒ‡ä»¤</p><p><code>v-bind:attribute</code>æŒ‡ä»¤å°†å…ƒç´ çš„ç‰¹å®šattributeï¼ˆå³å±æ€§ï¼‰ä¸ç»„ä»¶çš„å±æ€§ä¿æŒä¸€è‡´ï¼Œè‹¥ç»‘å®šå€¼ä¸ºÂ Â <code>null</code>æˆ–è€…<code>undefined</code>åˆ™å°†è¯¥å±æ€§ä»æ¸²æŸ“çš„å…ƒç´ ä¸Šç§»é™¤</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs html">#app.vue<br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-bind:id</span>=<span class="hljs-string">&quot;dynamicId&quot;</span> <span class="hljs-attr">v-bind:class</span>=<span class="hljs-string">&quot;dynamicClass&quot;</span>&gt;</span>AppID<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span>&#123;</span><br><span class="language-javascript">                <span class="hljs-attr">dynamicId</span>:<span class="hljs-string">&quot;appid&quot;</span>,</span><br><span class="language-javascript">                <span class="hljs-attr">dynamicClass</span>:<span class="hljs-string">&quot;appclass&quot;</span></span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><br><br></code></pre></td></tr></table></figure><h4 id="v-bindç®€å†™"><a href="#v-bindç®€å†™" class="headerlink" title="v-bindç®€å†™"></a>v-bindç®€å†™</h4><p>ç®€å†™å¦‚ä¸‹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">:id</span>=<span class="hljs-string">&quot;dynamicId&quot;</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;dynamicClass&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="å¸ƒå°”å€¼Attribute"><a href="#å¸ƒå°”å€¼Attribute" class="headerlink" title="å¸ƒå°”å€¼Attribute"></a>å¸ƒå°”å€¼Attribute</h4><p>ä¾æ®true&#x2F;falseå€¼æ¥å†³å®šattributeæ˜¯å¦å­˜åœ¨äºè¯¥å…ƒç´ ä¹‹ä¸Šï¼Œä¾‹å¦‚<strong>disabled</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs html">#app.vue<br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">:disabled</span>=<span class="hljs-string">&quot;isButtonDisabled&quot;</span>&gt;</span>Click me<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span>&#123;</span><br><span class="language-javascript">                <span class="hljs-attr">isButtonDisabled</span>:<span class="hljs-literal">true</span>,</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="åŠ¨æ€ç»‘å®šå¤šä¸ªå€¼"><a href="#åŠ¨æ€ç»‘å®šå¤šä¸ªå€¼" class="headerlink" title="åŠ¨æ€ç»‘å®šå¤šä¸ªå€¼"></a>åŠ¨æ€ç»‘å®šå¤šä¸ªå€¼</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs html">#app.vue<br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-bind</span>=<span class="hljs-string">&quot;objectOfAttrs&quot;</span>&gt;</span>ç™¾æˆ˜æ˜Ÿé‡<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span>&#123;</span><br><span class="language-javascript">                <span class="hljs-attr">objectOfAttrs</span>:&#123;</span><br><span class="language-javascript">                               <span class="hljs-attr">id</span>:<span class="hljs-string">&quot;appId&quot;</span>,</span><br><span class="language-javascript">                               <span class="hljs-attr">class</span>:<span class="hljs-string">&quot;appClass&quot;</span></span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="æ¡ä»¶æ¸²æŸ“"><a href="#æ¡ä»¶æ¸²æŸ“" class="headerlink" title="æ¡ä»¶æ¸²æŸ“"></a>æ¡ä»¶æ¸²æŸ“</h2><h4 id="v-if"><a href="#v-if" class="headerlink" title="v-if"></a>v-if</h4><p><code>v-if</code>æŒ‡ä»¤ç”¨äºæ¡ä»¶æ€§çš„æ¸²æŸ“ä¸€å—å†…å®¹ï¼Œåªæœ‰åœ¨æŒ‡ä»¤çš„è¡¨è¾¾å¼ä¸ºçœŸå€¼æ—¶æ‰è¢«æ¸²æŸ“ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs html"># ./componets/if-vue.vue<br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;flag&quot;</span>&gt;</span>ä½ èƒ½çœ‹è§æˆ‘å—<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>&#123;</span><br><span class="language-javascript">       <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span>&#123;</span><br><span class="language-javascript">                  <span class="hljs-attr">flag</span>:<span class="hljs-literal">true</span>,</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">&#125;    </span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><br></code></pre></td></tr></table></figure><h4 id="v-else-if"><a href="#v-else-if" class="headerlink" title="v-else-if"></a>v-else-if</h4><p><code>v-else-if</code>æä¾›äº†ç›¸åº”äº<code>v-if</code>çš„â€œelse-ifåŒºå—â€ï¼Œå¯ä»¥è¿ç»­å¤šæ¬¡ä½¿ç”¨</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs html"># ./componets/if-vue.vue<br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;type === &#x27;A&#x27;&quot;</span>&gt;</span>A<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-else-if</span>=<span class="hljs-string">&quot;type === &#x27;B&#x27;&quot;</span>&gt;</span>B<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-else-if</span>=<span class="hljs-string">&quot;type === &#x27;C&#x27;&quot;</span>&gt;</span>C<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-else</span>&gt;</span>Not A/B/C<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>&#123;</span><br><span class="language-javascript">       <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span>&#123;</span><br><span class="language-javascript">                  <span class="hljs-attr">type</span>:<span class="hljs-string">&quot;D&quot;</span>,</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">&#125;    </span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p><code>v-if</code>ä¸<code>v-show</code></p><p><code>v-if</code>â€œçœŸå®çš„â€æŒ‰æ¡ä»¶æ¸²æŸ“ï¼Œåœ¨åˆ‡æ¢æ—¶ï¼Œæ¡ä»¶åŒºå—å†…çš„äº‹ä»¶ç›‘å¬å™¨å’Œå­ç»„ä»¶éƒ½ä¼šè¢«é”€æ¯å’Œé‡å»ºã€‚</p><p><code>v-show</code>æ— è®ºå…ƒç´ åˆå§‹æ¡ä»¶å¦‚ä½•éƒ½ä¼šè¢«æ¸²æŸ“ï¼Œåªæ˜¯åˆ‡æ¢äº†cssçš„<code>display</code>å±æ€§ã€‚</p><p><strong>éœ€è¦é¢‘ç¹åˆ‡æ¢</strong>ä½¿ç”¨<code>v-show</code>ï¼Œ<strong>åœ¨è¿è¡Œæ—¶ç»‘å®šæ¡ä»¶å¾ˆå°‘æ”¹å˜</strong>ä½¿ç”¨<code>v-if</code></p><h2 id="åˆ—è¡¨æ¸²æŸ“"><a href="#åˆ—è¡¨æ¸²æŸ“" class="headerlink" title="åˆ—è¡¨æ¸²æŸ“"></a>åˆ—è¡¨æ¸²æŸ“</h2><h4 id="v-for"><a href="#v-for" class="headerlink" title="v-for"></a>v-for</h4><p>å¯ä»¥ä½¿ç”¨<code>v-for</code>æŒ‡ä»¤åŸºäºä¸€ä¸ªæ•°ç»„æ¥æ¸²æŸ“åˆ—è¡¨ã€‚<code>v-for</code>æŒ‡ä»¤ä½¿ç”¨<code>item in items</code>çš„è¯­æ³•ï¼Œå³è¿­ä»£å…ƒç´  in éå†åˆ—è¡¨</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs html"># for-vue.vue<br><br><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in names&quot;</span>&gt;</span>&#123;&#123; item &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>&#123;</span><br><span class="language-javascript">        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">                <span class="hljs-attr">names</span>:[<span class="hljs-string">&quot;1&quot;</span>,<span class="hljs-string">&quot;2&quot;</span>,<span class="hljs-string">&quot;3&quot;</span>]</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">&#125;    </span><br><span class="language-javascript"></span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br></code></pre></td></tr></table></figure><h4 id="å¤æ‚è®¿é—®"><a href="#å¤æ‚è®¿é—®" class="headerlink" title="å¤æ‚è®¿é—®"></a>å¤æ‚è®¿é—®</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs html"># for-vue.vue<br><br><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in/of result&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; item.title &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">&quot;item.avator&quot;</span>&gt;</span><br>        #æ ‡ç­¾å±æ€§ç»‘å®šä½¿ç”¨&quot;v-bindæˆ–è€…:attribute&quot;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>&#123;</span><br><span class="language-javascript">        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">                    <span class="hljs-attr">result</span>:[</span><br><span class="language-javascript">    &#123;</span><br><span class="language-javascript">        <span class="hljs-string">&quot;title&quot;</span>:<span class="hljs-title class_">Title</span>,</span><br><span class="language-javascript">        <span class="hljs-string">&quot;avator&quot;</span>:<span class="hljs-string">&quot;./img/01.jpg&quot;</span></span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">]</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="æ•°ç»„ä¸‹æ ‡"><a href="#æ•°ç»„ä¸‹æ ‡" class="headerlink" title="æ•°ç»„ä¸‹æ ‡"></a>æ•°ç»„ä¸‹æ ‡</h4><p><code>v-for</code>ä¹Ÿæ”¯æŒä½¿ç”¨å¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºå½“å‰é¡¹çš„ä½ç½®ç´¢å¼•</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in names&quot;</span>&gt;</span>&#123;&#123; index&#125;:&#123;&#123;&#125;&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>&#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">                <span class="hljs-attr">names</span>:[<span class="hljs-string">&quot;1&quot;</span>,<span class="hljs-string">&quot;2&quot;</span>,<span class="hljs-string">&quot;3&quot;</span>]</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="v-forä¸å¯¹è±¡"><a href="#v-forä¸å¯¹è±¡" class="headerlink" title="v-forä¸å¯¹è±¡"></a>v-forä¸å¯¹è±¡</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(value,key,index)&quot;</span>&gt;</span><br>        &#123;&#123;value&#125;&#125;-&#123;&#123;key&#125;&#125;-&#123;&#123;index&#125;&#125;<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>        <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span><br><span class="language-xml"><span class="language-handlebars">export default&#123;</span></span><br><span class="language-xml"><span class="language-handlebars">    data()&#123;</span></span><br><span class="language-xml"><span class="language-handlebars">        return &#123;</span></span><br><span class="language-xml"><span class="language-handlebars">                userInfo:&#123;</span></span><br><span class="language-xml"><span class="language-handlebars">                            name:&quot;iwen&quot;,</span></span><br><span class="language-xml"><span class="language-handlebars">                            age:20,</span></span><br><span class="language-xml"><span class="language-handlebars">                           # key:value,</span></span><br><span class="language-xml"><span class="language-handlebars">                          &#125;</span></span><br><span class="language-xml"><span class="language-handlebars">                &#125;</span></span><br><span class="language-xml"><span class="language-handlebars">        &#125;    </span></span><br><span class="language-xml"><span class="language-handlebars"></span></span><br><span class="language-xml"><span class="language-handlebars">&#125;</span></span><br><span class="language-xml"><span class="language-handlebars"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span></span><br></code></pre></td></tr></table></figure><h2 id="é€šè¿‡Keyç®¡ç†çŠ¶æ€"><a href="#é€šè¿‡Keyç®¡ç†çŠ¶æ€" class="headerlink" title="é€šè¿‡Keyç®¡ç†çŠ¶æ€"></a>é€šè¿‡Keyç®¡ç†çŠ¶æ€</h2><p>Vueæ¸²æŸ“å…ƒç´ åˆ—è¡¨æ—¶ï¼Œå½“æ•°æ®é¡¹çš„é¡ºåºæ”¹å˜æ—¶ï¼ŒVueä¸ä¼šç§»åŠ¨DOMå…ƒç´ çš„é¡ºåºè€Œæ˜¯å°±åœ°æ›´æ–°æ¯ä¸ªå…ƒç´ ä»¥ç¡®ä¿å®ƒä»¬åœ¨åŸæœ¬æŒ‡å®šçš„ä½ç½®æ¸²æŸ“ã€‚</p><p>ä¸ºäº†ç»™Vueä¸€ä¸ªæç¤ºä»¥è·Ÿè¸ªèŠ‚ç‚¹æ ‡è¯†ï¼Œå¯ä»¥ä¸ºæ¯ä¸ªå…ƒç´ å¯¹åº”çš„æ ‡ç­¾æä¾›å”¯ä¸€çš„<code> key</code>å±æ€§ï¼Œä»¥v-bindå½¢å¼ç»‘å®š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> &gt;</span><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">      <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">names</span>: [<span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;2&#x27;</span>, <span class="hljs-string">&#x27;3&#x27;</span>, <span class="hljs-string">&#x27;4&#x27;</span>, <span class="hljs-string">&#x27;5&#x27;</span>]</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>keyå±æ€§æ·»åŠ åˆ°v-forä¸­<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in names&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="äº‹ä»¶å¤„ç†"><a href="#äº‹ä»¶å¤„ç†" class="headerlink" title="äº‹ä»¶å¤„ç†"></a>äº‹ä»¶å¤„ç†</h2><p>å¯ä»¥ä½¿ç”¨<code>v-on</code>æŒ‡ä»¤ï¼ˆç®€å†™ä¸º<code>@</code>ï¼‰æ¥ç›‘å¬DOMäº‹ä»¶ï¼Œåœ¨äº‹ä»¶è§¦å‘æ—¶æ‰§è¡ŒJavaScriptã€‚</p><p>ç”¨æ³•ï¼š<code>v-on:click=&quot;methodName&quot;</code>æˆ–è€…<code>@click=&quot;handler&quot;</code></p><p>äº‹ä»¶å¤„ç†å™¨å¯ä»¥æ˜¯ï¼š</p><ol><li><p><strong>å†…è”äº‹ä»¶å¤„ç†å™¨</strong>ï¼šè§¦å‘å†…è”JavaScriptè¯­å¥</p></li><li><p><strong>æ–¹æ³•äº‹ä»¶å¤„ç†å™¨</strong>ï¼šæŒ‡å‘ç»„ä»¶å®šä¹‰çš„å±æ€§åæˆ–è€…è·¯å¾„</p></li></ol><h4 id="å†…è”äº‹ä»¶å¤„ç†å™¨"><a href="#å†…è”äº‹ä»¶å¤„ç†å™¨" class="headerlink" title="å†…è”äº‹ä»¶å¤„ç†å™¨"></a>å†…è”äº‹ä»¶å¤„ç†å™¨</h4><p>ç”¨äºç®€å•åœºæ™¯</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å†…è”äº‹ä»¶å¤„ç†å™¨<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">&quot;count++&quot;</span>&gt;</span>Add<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; count &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="æ–¹æ³•äº‹ä»¶å¤„ç†å™¨"><a href="#æ–¹æ³•äº‹ä»¶å¤„ç†å™¨" class="headerlink" title="æ–¹æ³•äº‹ä»¶å¤„ç†å™¨"></a>æ–¹æ³•äº‹ä»¶å¤„ç†å™¨</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">count</span>: <span class="hljs-number">0</span></span><br><span class="language-javascript">&#125; &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">addCount</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++;&#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript">  <span class="hljs-comment">//æ‰€æœ‰æ–¹æ³•å’Œå‡½æ•°æ”¾åœ¨è¿™é‡Œ</span></span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æ–¹æ³•äº‹ä»¶å¤„ç†å™¨<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;addCount&quot;</span>&gt;</span>Add<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Count: &#123;&#123; count &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="äº‹ä»¶å‚æ•°"><a href="#äº‹ä»¶å‚æ•°" class="headerlink" title="äº‹ä»¶å‚æ•°"></a>äº‹ä»¶å‚æ•°</h2><p>äº‹ä»¶å‚æ•°å¯ä»¥è·å–<code>event</code>å¯¹è±¡å’Œé€šè¿‡äº‹ä»¶ä¼ é€’å‚æ•°</p><h4 id="è·å–eventå¯¹è±¡"><a href="#è·å–eventå¯¹è±¡" class="headerlink" title="è·å–eventå¯¹è±¡"></a>è·å–<code>event</code>å¯¹è±¡</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">count</span>: <span class="hljs-number">0</span></span><br><span class="language-javascript">    &#125; &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">addCount</span>(<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript"><span class="hljs-comment">// Vueä¸­çš„eventå¯¹è±¡ä¸JavaScriptä¸­çš„å¯¹è±¡ç›¸åŒ</span></span><br><span class="language-javascript">      e.<span class="hljs-property">target</span>.<span class="hljs-property">innerHTML</span> =<span class="hljs-string">&quot;Add&quot;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span></span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++;&#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript">  <span class="hljs-comment">//æ‰€æœ‰æ–¹æ³•å’Œå‡½æ•°æ”¾åœ¨è¿™é‡Œ</span></span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æ–¹æ³•äº‹ä»¶å¤„ç†å™¨<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;addCount&quot;</span>&gt;</span>Add<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Count: &#123;&#123; count &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br></code></pre></td></tr></table></figure><h4 id="äº‹ä»¶ä¼ å‚"><a href="#äº‹ä»¶ä¼ å‚" class="headerlink" title="äº‹ä»¶ä¼ å‚"></a>äº‹ä»¶ä¼ å‚</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">names</span>:[<span class="hljs-string">&quot;iwen&quot;</span>,<span class="hljs-string">&quot;ime&quot;</span>,<span class="hljs-string">&quot;frank&quot;</span>]</span><br><span class="language-javascript">    &#125; &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">getNameHandler</span>(<span class="hljs-params">name</span>)&#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name);</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript">  <span class="hljs-comment">//æ‰€æœ‰æ–¹æ³•å’Œå‡½æ•°æ”¾åœ¨è¿™é‡Œ</span></span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>äº‹ä»¶ä¼ å‚<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) of names&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;getNameHandler(item)&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br></code></pre></td></tr></table></figure><p>å¦‚æœéœ€è¦åŒæ—¶ä¼ é€’å‚æ•°å’ŒEventå¯¹è±¡ï¼Œå¯ä»¥é‡‡ç”¨å½¢å¦‚<code>@click=&quot;handler(item,$event)&quot;</code>çš„æ ¼å¼æ¥ä¼ é€’Eventå¯¹è±¡ï¼Œä¸”<strong>é¡ºåºä¸å¯éšæ„è°ƒæ¢</strong>ã€‚</p><h2 id="äº‹ä»¶ä¿®é¥°ç¬¦"><a href="#äº‹ä»¶ä¿®é¥°ç¬¦" class="headerlink" title="äº‹ä»¶ä¿®é¥°ç¬¦"></a>äº‹ä»¶ä¿®é¥°ç¬¦</h2><p>åœ¨å¤„ç†äº‹ä»¶æ—¶è°ƒç”¨<code>event.preventDefault()</code>ç­‰å¾ˆå¸¸è§ï¼Œä½†ä¸ºäº†é¿å…åå¤çš„å¤„ç†DOMäº‹ä»¶çš„çäº‹å¯ä»¥ä½¿ç”¨<strong>äº‹ä»¶ä¿®é¥°ç¬¦</strong>ï¼Œæ–¹ä¾¿å¼€å‘è€…ä¸“æ³¨äºæ•°æ®é€»è¾‘ã€‚</p><ol><li><p><code>.stop</code></p></li><li><p><code>.prevent</code></p></li><li><p><code>.once</code></p></li><li><p><code>.enter</code></p></li><li><p>â€¦</p></li></ol><blockquote><p>å‚è€ƒé“¾æ¥ï¼š<a href="(https://cn.vuejs.org/guide/essentials/event-handling.html#event-modifiers)">[äº‹ä»¶å¤„ç† | Vue.js]</a></p></blockquote><h4 id="é˜»æ­¢é»˜è®¤äº‹ä»¶"><a href="#é˜»æ­¢é»˜è®¤äº‹ä»¶" class="headerlink" title="é˜»æ­¢é»˜è®¤äº‹ä»¶"></a>é˜»æ­¢é»˜è®¤äº‹ä»¶</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> &gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">clickHandle</span>(<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;ç‚¹å‡»äº†&#x27;</span>)&#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>äº‹ä»¶ä¿®é¥°ç¬¦<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://www.baidu.com&quot;</span> @<span class="hljs-attr">click.prevent</span>=<span class="hljs-string">&quot;clickHandle&quot;</span>&gt;</span>ç™¾åº¦<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><br></code></pre></td></tr></table></figure><h4 id="é˜»æ­¢äº‹ä»¶å†’æ³¡"><a href="#é˜»æ­¢äº‹ä»¶å†’æ³¡" class="headerlink" title="é˜»æ­¢äº‹ä»¶å†’æ³¡"></a>é˜»æ­¢äº‹ä»¶å†’æ³¡</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> &gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript"></span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">clickHandle</span>(<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;ç‚¹å‡»äº†&#x27;</span>)&#125;,</span><br><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-title function_">clickDiv</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;ç‚¹å‡»äº†div&#x27;</span>)&#125;,</span><br><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-title function_">clickP</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;ç‚¹å‡»äº†p&#x27;</span>)&#125;,</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>äº‹ä»¶ä¿®é¥°ç¬¦<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://www.baidu.com&quot;</span> @<span class="hljs-attr">click.prevent</span>=<span class="hljs-string">&quot;clickHandle&quot;</span>&gt;</span>ç™¾åº¦<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;clickDiv&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> @<span class="hljs-attr">click.stop</span>=<span class="hljs-string">&quot;clickP&quot;</span>&gt;</span>æµ‹è¯•å†’æ³¡<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br></code></pre></td></tr></table></figure><h2 id="æ•°ç»„å˜åŒ–ä¾¦æµ‹"><a href="#æ•°ç»„å˜åŒ–ä¾¦æµ‹" class="headerlink" title="æ•°ç»„å˜åŒ–ä¾¦æµ‹"></a>æ•°ç»„å˜åŒ–ä¾¦æµ‹</h2><h4 id="å˜æ›´æ–¹æ³•"><a href="#å˜æ›´æ–¹æ³•" class="headerlink" title="å˜æ›´æ–¹æ³•"></a>å˜æ›´æ–¹æ³•</h4><p>Vueèƒ½å¤Ÿä¾¦å¬å“åº”å¼æ•°ç»„çš„å˜æ›´æ–¹æ³•ï¼Œå¹¶åœ¨å®ƒä»¬è¢«è°ƒç”¨æ—¶è§¦å‘ç›¸å…³æ›´æ–°ï¼Œå˜æ›´æ–¹æ³•åŒ…æ‹¬ï¼š</p><ul><li><p><code>push()</code></p></li><li><p><code>pop()</code></p></li><li><p><code>shift()</code></p></li><li><p><code>unshift()</code></p></li><li><p><code>splice()</code></p></li><li><p><code>sort()</code></p></li><li><p><code>reverse()</code></p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span>&#123;</span><br><span class="language-javascript">      <span class="hljs-attr">names</span>:[<span class="hljs-string">&quot;John&quot;</span>,<span class="hljs-string">&quot;Mary&quot;</span>,<span class="hljs-string">&quot;Tom&quot;</span>]</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>:&#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">addListHandler</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">names</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">&quot;HOSHINO&quot;</span>);</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æ•°ç»„å˜åŒ–<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;addListHandler&quot;</span>&gt;</span>æ·»åŠ æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) of names&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br></code></pre></td></tr></table></figure><h4 id="æ›¿æ¢ä¸€ä¸ªæ•°ç»„"><a href="#æ›¿æ¢ä¸€ä¸ªæ•°ç»„" class="headerlink" title="æ›¿æ¢ä¸€ä¸ªæ•°ç»„"></a>æ›¿æ¢ä¸€ä¸ªæ•°ç»„</h4><p>åœ¨æ•°ç»„çš„æ“ä½œè¿‡ç¨‹ä¸­ï¼Œå­˜åœ¨ä¸€äº›ä¸å¯å˜(immutable)çš„æ–¹æ³•ï¼Œä¾‹å¦‚<code>filter()</code>,<code>concat()</code>,<code>slice()</code>ï¼Œè¿™äº›æ–¹æ³•ä¸ä¼šæ”¹å˜åŸæ•°ç»„ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œå› æ­¤é‡åˆ°éå˜æ›´æ–¹æ³•æ—¶ï¼Œéœ€è¦å°†<strong>æ—§æ•°ç»„æ›¿æ¢ä¸ºæ–°æ•°ç»„</strong>ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span>&#123;</span><br><span class="language-javascript">      <span class="hljs-attr">names</span>:[<span class="hljs-string">&quot;John&quot;</span>,<span class="hljs-string">&quot;Mary&quot;</span>,<span class="hljs-string">&quot;Tom&quot;</span>]</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>:&#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">addListHandler</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">names</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">names</span>.<span class="hljs-title function_">concat</span>([<span class="hljs-string">&quot;sakura&quot;</span>]);</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æ•°ç»„å˜åŒ–<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;addListHandler&quot;</span>&gt;</span>æ·»åŠ æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) of names&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br></code></pre></td></tr></table></figure><h2 id="è®¡ç®—å±æ€§"><a href="#è®¡ç®—å±æ€§" class="headerlink" title="è®¡ç®—å±æ€§"></a>è®¡ç®—å±æ€§</h2><p>åœ¨æ¨¡æ¿ä¸­ç¼–å†™å¤ªå¤šé€»è¾‘ä¼šä½¿å¾—æ¨¡æ¿å˜å¾—è‡ƒè‚¿ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨<strong>è®¡ç®—å±æ€§</strong>æ¥æè¿°å“åº”å¼çŠ¶æ€çš„é€»è¾‘ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">tableData</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;John&#x27;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">content</span>:[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>]</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">    <span class="hljs-attr">computed</span>: &#123;</span><br><span class="language-javascript">      <span class="hljs-title function_">namesContent</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">tableData</span>.<span class="hljs-property">content</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>? <span class="hljs-string">&quot;Yes&quot;</span> : <span class="hljs-string">&quot;No&quot;</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">    <span class="hljs-comment">//åœ¨æ­¤ç¼–å†™è®¡ç®—å±æ€§</span></span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>&#123;&#123;tableData.name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123;namesContent&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><br></code></pre></td></tr></table></figure><blockquote><p><strong>é‡ç‚¹åŒºåˆ«</strong></p><p>è®¡ç®—å±æ€§ï¼šè®¡ç®—å±æ€§å€¼ä¼šåŸºäºå…¶å“åº”å¼ä¾èµ–è¢«ç¼“å­˜ï¼Œä»…åœ¨ä¾èµ–æ›´æ–°æ—¶å†é‡æ–°è®¡ç®—</p><p>æ–¹æ³•ï¼šæ–¹æ³•è°ƒç”¨æ€»æ˜¯åœ¨é‡æ¸²æŸ“å‘ç”Ÿå†æ¬¡æ‰§è¡Œ</p></blockquote><h2 id="Classç»‘å®š"><a href="#Classç»‘å®š" class="headerlink" title="Classç»‘å®š"></a>Classç»‘å®š</h2><p>åœ¨Vueä¸­å¯ä»¥ä½¿ç”¨åŠŸèƒ½æ›´åŠ å¼ºå¤§çš„<code>v-bind</code>ï¼Œé™¤äº†å­—ç¬¦ä¸²ï¼Œè¡¨è¾¾å¼ä¹Ÿå¯ä»¥å¯¹è±¡æˆ–è€…æ•°ç»„ï¼Œæ­¤å¤„ä¸ºclasså±æ€§æ’å€¼è¡¨è¾¾å¼ã€‚</p><h4 id="ç»‘å®šå¯¹è±¡"><a href="#ç»‘å®šå¯¹è±¡" class="headerlink" title="ç»‘å®šå¯¹è±¡"></a>ç»‘å®šå¯¹è±¡</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">isActive</span>: <span class="hljs-literal">true</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">classObject</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-string">&#x27;active&#x27;</span>: <span class="hljs-literal">true</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;classObject&quot;</span> &gt;</span>Classæ ·å¼ç»‘å®š<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>//ä¹Ÿå¯ä»¥æ˜¯æ•°ç»„[atrriVar1,attriVar2...]<br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css"><span class="hljs-selector-class">.active</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">color</span>: red;</span><br><span class="language-css">  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span>;&#125;</span><br><span class="language-css"></span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure><blockquote><p><strong>æ¸©é¦¨æç¤º</strong></p><p>æ•°ç»„å’Œå¯¹è±¡åµŒå¥—è¿‡ç¨‹ä¸­ï¼Œåªèƒ½åœ¨æ•°ç»„å†…åµŒå¥—å¯¹è±¡ï¼Œåä¹‹ä¸è¡Œã€‚</p></blockquote><h2 id="Styleç»‘å®š"><a href="#Styleç»‘å®š" class="headerlink" title="Styleç»‘å®š"></a>Styleç»‘å®š</h2><p>åœ¨Vueä¸­å¯ä»¥ä½¿ç”¨åŠŸèƒ½æ›´åŠ å¼ºå¤§çš„<code>v-bind</code>ï¼Œé™¤äº†å­—ç¬¦ä¸²ï¼Œè¡¨è¾¾å¼ä¹Ÿå¯ä»¥å¯¹è±¡æˆ–è€…æ•°ç»„ï¼Œæ­¤å¤„ä¸ºå†…åµŒæ ·å¼è¡¨è¾¾å¼ã€‚</p><h4 id="ç»‘å®šå¯¹è±¡-1"><a href="#ç»‘å®šå¯¹è±¡-1" class="headerlink" title="ç»‘å®šå¯¹è±¡"></a>ç»‘å®šå¯¹è±¡</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;&#123;color:activeColor,fontSize:fontSize + &#x27;px&#x27;&#125;&quot;</span>&gt;</span>Styleç»‘å®š<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br>// :style=&quot;styleObj&quot;<br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>&#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">return</span>&#123;</span><br><span class="language-javascript">            <span class="hljs-attr">activeColor</span>:<span class="hljs-string">&quot;red&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span>,</span><br><span class="language-javascript">        <span class="hljs-comment">//styleObj:&#123;color:&#x27;red&#x27;,fontSize:30&#125;</span></span><br><span class="language-javascript">&#125;    </span><br><span class="language-javascript"></span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="ä¾¦å¬å™¨"><a href="#ä¾¦å¬å™¨" class="headerlink" title="ä¾¦å¬å™¨"></a>ä¾¦å¬å™¨</h2><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>watch</code>é€‰é¡¹åœ¨æ¯æ¬¡å“åº”å¼å±æ€§å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘ä¸€ä¸ªå‡½æ•°ã€‚</p><p><em>watchä¸‹çš„å‡½æ•°åå¿…é¡»ä¸è¢«ä¾¦å¬çš„æ•°æ®å¯¹è±¡ä¿æŒä¸€è‡´</em></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;Hello&#x27;</span></span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">updateHandler</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> = <span class="hljs-string">&#x27;World&#x27;</span></span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">watch</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-comment">//newValæ”¹å˜ä¹‹å</span></span><br><span class="language-javascript">    <span class="hljs-title function_">message</span>(<span class="hljs-params">newVal, oldVal</span>)&#123;</span><br><span class="language-javascript">      <span class="hljs-comment">//æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶æ‰§è¡Œ</span></span><br><span class="language-javascript">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;newVal:&#x27;</span>, newVal, <span class="hljs-string">&#x27;oldVal:&#x27;</span>, oldVal)</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ä¾¦å¬å™¨<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;updateHandler&quot;</span>&gt;</span>ä¿®æ”¹æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br></code></pre></td></tr></table></figure><h2 id="è¡¨å•è¾“å…¥ç»‘å®š"><a href="#è¡¨å•è¾“å…¥ç»‘å®š" class="headerlink" title="è¡¨å•è¾“å…¥ç»‘å®š"></a>è¡¨å•è¾“å…¥ç»‘å®š</h2><p>åœ¨å‰ç«¯å¤„ç†è¡¨å•æ—¶ï¼Œæˆ‘ä»¬å¸¸å¸¸å°†è¡¨å•è¾“å…¥æ¡†çš„å†…å®¹åŒæ­¥ç»™JavaScriptä¸­çš„ç›¸åº”å˜é‡ã€‚æ‰‹åŠ¨è¿æ¥å€¼ç»‘å®šå’Œæ›´æ”¹äº‹ä»¶ç›‘å¬å™¨ä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œä½¿ç”¨<code>v-model</code>ç®€åŒ–äº†è¿™ä¸€æ­¥éª¤ï¼Œ<code>v-model</code>è´Ÿè´£ç›‘å¬ç”¨æˆ·è¾“å…¥äº‹ä»¶å¹¶æ›´æ–°æ•°æ®ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;&#x27;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">checked</span>: <span class="hljs-literal">false</span></span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>è¡¨å•è¾“å…¥ç»‘å®š<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;message&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;checked&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;checkbox&quot;</span>&gt;</span>&#123;&#123; checked &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br></code></pre></td></tr></table></figure><h4 id="å¸¸è§è¡¨å•è¾“å…¥ç»‘å®š"><a href="#å¸¸è§è¡¨å•è¾“å…¥ç»‘å®š" class="headerlink" title="å¸¸è§è¡¨å•è¾“å…¥ç»‘å®š"></a>å¸¸è§è¡¨å•è¾“å…¥ç»‘å®š</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å•è¡Œæ–‡æœ¬è¾“å…¥æ¡†ç»‘å®š<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;singleMessage&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;è¯·è¾“å…¥å†…å®¹&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>        è¾“å…¥çš„å†…å®¹ï¼š&#123;&#123; singleMessage &#125;&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å¤šè¡Œæ–‡æœ¬è¾“å…¥æ¡†ç»‘å®š<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;multiMessage&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;è¯·è¾“å…¥å†…å®¹&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>        è¾“å…¥çš„å†…å®¹ï¼š&#123;&#123; multiMessage &#125;&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å¤é€‰æ¡†ç»‘å®š<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;checkboxValue&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;checkbox&quot;</span>&gt;</span>&lt;/input/&gt;<br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;checkbox&quot;</span>&gt;</span>&#123;&#123; checkboxValue &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å•é€‰æ¡†ç»‘å®š<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;one&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;one&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;radioPicked&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;one&quot;</span>&gt;</span>One<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;two&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;two&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;radioPicked&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;two&quot;</span>&gt;</span>Two<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>é€‰ä¸­çš„å€¼ï¼š&#123;&#123; radioPicked &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ä¸‹æ‹‰åˆ—è¡¨ç»‘å®š<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;selectValue&quot;</span> <span class="hljs-attr">multiple</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 150px&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">disabled</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>è¯·é€‰æ‹©<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;option1&quot;</span>&gt;</span>é€‰é¡¹1<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;option2&quot;</span>&gt;</span>é€‰é¡¹2<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;option3&quot;</span>&gt;</span>é€‰é¡¹3<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>é€‰ä¸­çš„å€¼ï¼š&#123;&#123; selectValue &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> app = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">                <span class="hljs-attr">singleMessage</span>: <span class="hljs-string">&#x27;&#x27;</span>,</span><br><span class="language-javascript">                <span class="hljs-attr">multiMessage</span>: <span class="hljs-string">&#x27;&#x27;</span>,</span><br><span class="language-javascript">                <span class="hljs-attr">checkboxValue</span>: <span class="hljs-literal">false</span>,</span><br><span class="language-javascript">                <span class="hljs-attr">radioPicked</span>: <span class="hljs-string">&#x27;&#x27;</span>,</span><br><span class="language-javascript">                <span class="hljs-attr">selectValue</span>: [],</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    &#125;);</span><br><span class="language-javascript"></span><br><span class="language-javascript">    app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;#app&#x27;</span>);  <span class="hljs-comment">// åœ¨è¿™é‡ŒæŒ‚è½½åº”ç”¨åˆ° #app</span></span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="å€¼ç»‘å®š"><a href="#å€¼ç»‘å®š" class="headerlink" title="å€¼ç»‘å®š"></a>å€¼ç»‘å®š</h4><p>å¯¹å¤é€‰æ¡†æœ‰<code>true-value</code>å’Œ<code>false-value</code>å±æ€§ï¼Œåˆ†åˆ«è¡¨ç¤ºé€‰ä¸­å’Œæœªé€‰ä¸­çš„ç»‘å®šå€¼ï¼Œæ­¤æ—¶å¯åŠ¨æ€ç»‘å®šåˆ°v-modelçš„æ•°æ®å±æ€§ã€‚</p><p>å¯¹å•é€‰æ¡†æœ‰<code>v-bind:value</code></p><p>å¯¹é€‰æ‹©æ¡†æœ‰<code>v-bind:value=&quot;&#123;&#125;&quot;</code>,åŠ¨æ€å±æ€§ä¸ºobjectç±»å‹</p><h4 id="ä¿®é¥°ç¬¦"><a href="#ä¿®é¥°ç¬¦" class="headerlink" title="ä¿®é¥°ç¬¦"></a>ä¿®é¥°ç¬¦</h4><p><code>v-model</code>ä¹Ÿæä¾›äº†å½¢å¦‚<code>.lazy</code>,<code>.number</code>,<code>.trim</code>çš„ä¿®é¥°ç¬¦</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>v-model</code>ä¼šåœ¨æ¯æ¬¡<code>input</code>äº‹ä»¶åæ›´æ–°æ•°æ®ï¼Œå¯ä»¥æ·»åŠ <code>.lazy</code>ä¿®é¥°ç¬¦æ¥æ”¹ä¸ºåœ¨æ¯æ¬¡<code>change</code>äº‹ä»¶åå†æ›´æ–°æ•°æ®</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;&#x27;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">checked</span>: <span class="hljs-literal">false</span></span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>è¡¨å•è¾“å…¥ç»‘å®š<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model.lazy</span>=<span class="hljs-string">&quot;message&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;checked&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;checkbox&quot;</span>&gt;</span>&#123;&#123; checked &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br></code></pre></td></tr></table></figure><p>å¦‚æœæƒ³å°†ç”¨æˆ·çš„è¾“å…¥è½¬æ¢ä¸ºæ•°å€¼ç±»å‹ï¼Œåˆ™å¯ä»¥ç»™v-modelæ·»åŠ <code>.number</code>ä¿®é¥°ç¬¦</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model.number</span>=<span class="hljs-string">&quot;age&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">input</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å¦‚æœè¦è‡ªåŠ¨è¿‡æ»¤ç”¨æˆ·è¾“å…¥çš„é¦–å°¾ç©ºç™½å­—ç¬¦ï¼Œå¯ä»¥æ·»åŠ <code>.trim</code>ä¿®é¥°ç¬¦</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model.trim</span>=<span class="hljs-string">&quot;msg&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">input</span>&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
